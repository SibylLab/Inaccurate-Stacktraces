Bug ID,Commit Files
CASSANDRA-1006,"* fb7b2863b2964bf2171db30c9550ef8950127d6b do not call toString() directly on token. Patch by Stu Hood, reviewed by Gary Dusbabek. CASSANDRA-1006
  src/java/org/apache/cassandra/dht/BootStrapper.java
  test/unit/org/apache/cassandra/dht/BootStrapperTest.java"
CASSANDRA-1008,"* 1bb9e74a90ec6f2c8a1ee316483289fc13979e0a convert byte tokens to strings correctly.  patch by Erick Tryzelaar; reviewed by Stu Hood for CASSANDRA-1008
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-1011,"* 4dc9d5667672291fd355cec7a668bb483801fafb fail bootstrap if all nodes are bootstrapping. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1011
  src/java/org/apache/cassandra/dht/BootStrapper.java
  test/unit/org/apache/cassandra/dht/BootStrapperTest.java"
CASSANDRA-1019,"* 040d0e71cc361181355cb69d85ee6cec263fc2ea rename StreamCompletionAction to Action. patch by stuhood, reviwed by gdusbabek. CASSANDRA-1019
| src/java/org/apache/cassandra/streaming/FileStatus.java
| src/java/org/apache/cassandra/streaming/FileStatusHandler.java
| src/java/org/apache/cassandra/streaming/IncomingStreamReader.java
| src/java/org/apache/cassandra/streaming/StreamFinishedVerbHandler.java
* 15543601dcb095c63a8a985e3de5ce27e97c1657 rename StreamCompletionHandler to FileStatusHandler. patch by stuhood, reviwed by gdusbabek. CASSANDRA-1019
| src/java/org/apache/cassandra/streaming/FileStatusHandler.java
| src/java/org/apache/cassandra/streaming/IStreamComplete.java
| src/java/org/apache/cassandra/streaming/IncomingStreamReader.java
| src/java/org/apache/cassandra/streaming/StreamInManager.java
| src/java/org/apache/cassandra/streaming/StreamInitiateVerbHandler.java
* cdf154de570560082ba9d13ad3227787a0fae0ac rename CompletedFileStatus to FileStatus. patch by stuhood, reviwed by gdusbabek. CASSANDRA-1019
  src/java/org/apache/cassandra/streaming/FileStatus.java
  src/java/org/apache/cassandra/streaming/IStreamComplete.java
  src/java/org/apache/cassandra/streaming/IncomingStreamReader.java
  src/java/org/apache/cassandra/streaming/StreamCompletionHandler.java
  src/java/org/apache/cassandra/streaming/StreamFinishedVerbHandler.java
  src/java/org/apache/cassandra/streaming/StreamInManager.java
  src/java/org/apache/cassandra/streaming/StreamInitiateVerbHandler.java"
CASSANDRA-1028,"* 5d782903666c35c74af3c669b6beac416a346b4d Double flush AE_SERVICE_STAGE to ensure that tasks triggered by existing tasks are cleared.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-1028
  test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java
* 8ede1adaf244fc389f16ea6666308967c89272cb block for AES to clear before we teardown the token metadata for the next test.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-1028
  test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java"
CASSANDRA-10739,"* 3864b2114ab11a02cf55e91c1e5553c9c4f854bc Rejects partition range deletions when columns are specified
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/DeleteStatement.java
  test/unit/org/apache/cassandra/cql3/validation/operations/DeleteTest.java"
CASSANDRA-10743,"* f4037f9b3b20071e66298d4a7d228c1e46bb5206 Support multiple addComplexDeletion() call in BTreeRow.Builder
  CHANGES.txt
  src/java/org/apache/cassandra/db/rows/BTreeRow.java"
CASSANDRA-10756,"* 85ed48a1d9ac5aafb2a914a05ef6a620eeec5d0d Backport CASSANDRA-10756 (race condition in NativeTransportService shutdown)
  CHANGES.txt
  src/java/org/apache/cassandra/service/NativeTransportService.java
* f07a406e5707966d3afcc2347b186743fc3c6f9f Fix possible race condition in NativeTransportService.testConcurrentDestroys
  CHANGES.txt
  src/java/org/apache/cassandra/service/NativeTransportService.java"
CASSANDRA-10779,"* c4d83f1ba31735963b451beb38a553c92145d5d4 Fix Mutation.applyUnsafe to block
  src/java/org/apache/cassandra/db/Mutation.java
* 839a5bab2a7f5385a878e5dc5f8b01bda28fa777 Mutations do not block for completion under view lock contention
  CHANGES.txt
  src/java/org/apache/cassandra/db/Keyspace.java
  src/java/org/apache/cassandra/db/Mutation.java
  src/java/org/apache/cassandra/db/MutationVerbHandler.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogReplayer.java
  src/java/org/apache/cassandra/service/paxos/PaxosState.java"
CASSANDRA-10788,"* d0da9e7612e6fb94fea8298a88215783a8125311 Fix issue with data dir migration on upgrade
  CHANGES.txt
  src/java/org/apache/cassandra/db/SystemKeyspace.java
  test/unit/org/apache/cassandra/db/SystemKeyspaceTest.java"
CASSANDRA-10797,"* 0e63000c3fd0029e5b620a7923ea2ac54771e8e9 Reduce heap spent when receiving many SSTables
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/StreamReceiveTask.java
  test/unit/org/apache/cassandra/io/sstable/SSTableRewriterTest.java
  test/unit/org/apache/cassandra/io/sstable/SSTableWriterTest.java
  test/unit/org/apache/cassandra/io/sstable/SSTableWriterTestBase.java"
CASSANDRA-10822,"* 71bac92cf1df08de194a8283f382a7950b3a78ed Fix missing row data after range tombstone in legacy data
  CHANGES.txt
  src/java/org/apache/cassandra/db/UnfilteredDeserializer.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java"
CASSANDRA-10903,"* 8bc567b3ca40199f6d4a7b6f32971f2fea56a6b9 Fix assertion error when reading static on an indexed sstable
  CHANGES.txt
  src/java/org/apache/cassandra/db/columniterator/AbstractSSTableIterator.java
  src/java/org/apache/cassandra/db/columniterator/SSTableIterator.java
  src/java/org/apache/cassandra/db/columniterator/SSTableReversedIterator.java
  test/unit/org/apache/cassandra/cql3/QueryWithIndexedSSTableTest.java"
CASSANDRA-10909,"* 98cc2c8d6cc27f1a2e675030a13b46fd336812f8 Avoid NPE on incremental repair failure
  CHANGES.txt
  src/java/org/apache/cassandra/service/ActiveRepairService.java"
CASSANDRA-10943,"* 1a1f836f20ba4bf1c263d4fd3c32338e55abbcbc Fix rare NPE on schema upgrade from 2.x to 3.x
  CHANGES.txt
  src/java/org/apache/cassandra/schema/LegacySchemaMigrator.java"
CASSANDRA-10944,"* 1d7bacc45fa1cd6cac36d7f9ece30ba1ed430f2a Fix potential assertion error during compaction
  CHANGES.txt
  src/java/org/apache/cassandra/db/ReadCommand.java
  src/java/org/apache/cassandra/db/compaction/CompactionIterator.java
  src/java/org/apache/cassandra/db/partitions/PurgeFunction.java
  src/java/org/apache/cassandra/db/rows/BufferCell.java
  test/unit/org/apache/cassandra/db/compaction/TTLExpiryTest.java"
CASSANDRA-10954,"* 4c7b06b0a87f88bfaff5d55e6b302a25e0391f57 Properly pass CellPath when setting list element to null
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/Lists.java
  test/unit/org/apache/cassandra/cql3/validation/entities/CollectionsTest.java"
CASSANDRA-10961,"* 58a0079c391d12dab97e036f05be070dfaddcc95 Revert CASSANDRA-10012 and add more loggings
  CHANGES.txt
  src/java/org/apache/cassandra/db/composites/AbstractCType.java
  src/java/org/apache/cassandra/streaming/ConnectionHandler.java
  src/java/org/apache/cassandra/streaming/StreamReader.java
  src/java/org/apache/cassandra/streaming/StreamWriter.java
  src/java/org/apache/cassandra/streaming/compress/CompressedInputStream.java
  src/java/org/apache/cassandra/streaming/compress/CompressedStreamReader.java
  src/java/org/apache/cassandra/streaming/compress/CompressedStreamWriter.java
  test/unit/org/apache/cassandra/streaming/compress/CompressedInputStreamTest.java
* 582bdba4b201e6ab8e2a9a05cff3566f1bab9dce Fix error streaming section more than 2GB
  CHANGES.txt
  src/java/org/apache/cassandra/db/composites/AbstractCType.java
  src/java/org/apache/cassandra/streaming/ConnectionHandler.java
  src/java/org/apache/cassandra/streaming/StreamReader.java
  src/java/org/apache/cassandra/streaming/StreamWriter.java
  src/java/org/apache/cassandra/streaming/compress/CompressedInputStream.java
  src/java/org/apache/cassandra/streaming/compress/CompressedStreamReader.java
  src/java/org/apache/cassandra/streaming/compress/CompressedStreamWriter.java
  test/unit/org/apache/cassandra/streaming/compress/CompressedInputStreamTest.java"
CASSANDRA-10988,"* c8d955533b6968368907e5b090a309ac57bf419f Fix slice queries on ordered COMPACT tables
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectMultiColumnRelationTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectTest.java"
CASSANDRA-10991,"* c00395155e2420002db493ca69784d0fe723b55d Better error message for cleanup
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java"
CASSANDRA-10992,"* 76e3100ffb106cab3cc665404e293c1026e5e65c Fix hanging stream session
  CHANGES.txt
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/streaming/StreamReader.java
  src/java/org/apache/cassandra/streaming/StreamSession.java
  src/java/org/apache/cassandra/streaming/compress/CompressedInputStream.java
  src/java/org/apache/cassandra/streaming/compress/CompressedStreamReader.java
  src/java/org/apache/cassandra/streaming/messages/IncomingFileMessage.java
  src/java/org/apache/cassandra/streaming/messages/RetryMessage.java
  src/java/org/apache/cassandra/utils/Throwables.java
  test/unit/org/apache/cassandra/streaming/compress/CompressedInputStreamTest.java"
CASSANDRA-11018,"* c1a113a9e3381d5278ca2254b0d0b062cfa7551b Check the column name, not cell name, for dropped columns
  CHANGES.txt
  src/java/org/apache/cassandra/db/LegacyLayout.java"
CASSANDRA-11021,"* c7cbde218de62aa47d9e942957ee4444bd9c7568 Don't try to index clustering values of static rows
  CHANGES.txt
  src/java/org/apache/cassandra/index/internal/CassandraIndex.java
  test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java"
CASSANDRA-11050,"* c230ec9ed07b9077ce8422bce8db4e94d5b644cb Include DROPPED_COLUMNS in schema digest computation.
  CHANGES.txt
  src/java/org/apache/cassandra/schema/SchemaKeyspace.java
* 2a824c024a153a4a43f79992dc5ec549daf770ab Flush dropped_columns when flushing schema
  CHANGES.txt
  src/java/org/apache/cassandra/schema/SchemaKeyspace.java
* b214722770113398d22c6c00d46ce0510d868ff9 Flush dropped_columns when flushing schema
  CHANGES.txt
  src/java/org/apache/cassandra/schema/SchemaKeyspace.java"
CASSANDRA-11062,"* a20a0f724bee67ccf010cfbb72dbc1f90a1d5b4a CASSANDRA-11062 follow-up
  src/java/org/apache/cassandra/service/StorageService.java
* 0a1cfaaceade1317e9fc802d77e39371e745dee3 Configurie BatchlogManager to stop delayed tasks on shutdown
  CHANGES.txt
  src/java/org/apache/cassandra/batchlog/BatchlogManager.java"
CASSANDRA-11064,"* c6ed2e0bb30b9e96764858b93bd2021d195be510 Failed aggregate creation breaks server permanently
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/CQL3Type.java
  src/java/org/apache/cassandra/cql3/Constants.java
  src/java/org/apache/cassandra/cql3/statements/CreateAggregateStatement.java
  src/java/org/apache/cassandra/schema/SchemaKeyspace.java
  src/java/org/apache/cassandra/serializers/AbstractTextSerializer.java
  src/java/org/apache/cassandra/serializers/BytesSerializer.java
  src/java/org/apache/cassandra/serializers/TimestampSerializer.java
  src/java/org/apache/cassandra/serializers/TypeSerializer.java
  test/unit/org/apache/cassandra/cql3/CQL3TypeLiteralTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/AggregationTest.java"
CASSANDRA-11065,"* 37680ee4e2a1b129900ff3c58b153e5a7661b757 Check keyspace existence on RepairMessageVerbHandler
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/repair/RepairMessageVerbHandler.java"
CASSANDRA-11069,"* 9961b6991130ec4bedaf6fdfd8562229b52be7f0 MV should only query complex columns included in the view
  CHANGES.txt
  src/java/org/apache/cassandra/db/view/View.java
  test/unit/org/apache/cassandra/cql3/ViewTest.java"
CASSANDRA-11117,"* 7232d72c0f375f8034b506d05278bf8ec975a36a Limit colUpdateTimeDelta histogram updates to reasonable deltas
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  test/unit/org/apache/cassandra/db/ColumnFamilyMetricTest.java"
CASSANDRA-11126,"* 5847222d9b2428c201a534876f86a0ec6f6f436f Fix backward compatibility issues on SELECT DISTINCT queries
  CHANGES.txt
  src/java/org/apache/cassandra/db/ReadCommand.java
  src/java/org/apache/cassandra/service/pager/PagingState.java"
CASSANDRA-11127,"* 6f236c801be5b80fe18afc3ecebd4032c19b434d Remove unneeded summary repair from CASSANDRA-8993
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/format/SSTableReader.java"
CASSANDRA-11158,"* fe37e0644ccb831dda0a7d11a31b02e0ad8232fa Fix ClusteringPrefix not being able to read tombstone range boundaries.
  CHANGES.txt
  src/java/org/apache/cassandra/db/ClusteringPrefix.java
  src/java/org/apache/cassandra/db/RangeTombstone.java
  test/unit/org/apache/cassandra/cql3/QueryWithIndexedSSTableTest.java
  test/unit/org/apache/cassandra/cql3/TombstonesWithIndexedSSTableTest.java"
CASSANDRA-11167,"* 50095947e25f630ce48ee24d10ff3e1f3fd91183 Avoid NPE when serializing ErrorMessage with null msg
  CHANGES.txt
  src/java/org/apache/cassandra/transport/messages/ErrorMessage.java
  test/unit/org/apache/cassandra/transport/ProtocolErrorTest.java"
CASSANDRA-11169,"* 27ac6a836228d66c32ade3c7ba9da3483ff31f27 add SASI validation for partitioner and complex columns
  CHANGES.txt
  src/java/org/apache/cassandra/index/sasi/SASIIndex.java"
CASSANDRA-11172,"* 67637d1bbaf638162b479ed33a75e4ab3fb06e49 Only notify if the repaired status actually changed
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java"
CASSANDRA-11193,"* df37bcb7cba75c3da35e585726c90ad90a454d48 Add asm jar to build.xml for maven builds
  CHANGES.txt
  build.xml"
CASSANDRA-11196,"* 11b7dc113ff5f73b1bbf889f306ad2aa72d01160 Fix intra-node serialization issue for multicolumn-restrictions
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/restrictions/PrimaryKeyRestrictionSet.java
  test/unit/org/apache/cassandra/cql3/restrictions/PrimaryKeyRestrictionSetTest.java"
CASSANDRA-1122,"* 1631beed8c4f4052771f725d114e1ae9d618fc4f CFMeta.subcolumncomparator should default to BytesType if cftype==Super. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1122
  src/java/org/apache/cassandra/config/CFMetaData.java
  test/system/test_thrift_server.py"
CASSANDRA-11272,"* f463fed234ce5bd9c536ac5fdf51c3555b9af805 Avoid calls to `getCause` on `Throwable` as it might result into NPE
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-11275,"* 19bccb4eaea7a6b33b72bb55e6923206526009e8 Fix sstableloader fail when using materialized view
  CHANGES.txt
  src/java/org/apache/cassandra/utils/NativeSSTableLoaderClient.java"
CASSANDRA-11286,"* 561000aa3094699bab29766d9644ff50f6cb74f3 Fix streaming_socket_timeout_in_ms not enforced
  CHANGES.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/net/IncomingStreamingConnection.java
  src/java/org/apache/cassandra/streaming/ConnectionHandler.java
  src/java/org/apache/cassandra/streaming/StreamSession.java"
CASSANDRA-1130,"* 5531a7f5db05adad04d393b4ccffb6d87d806ec9 fix race condition in SSTable*Iterator. patch by Sylvain Lebresne; reviewed by jbellis for CASSANDRA-1130
  src/java/org/apache/cassandra/db/filter/SSTableNamesIterator.java
  src/java/org/apache/cassandra/db/filter/SSTableSliceIterator.java
  src/java/org/apache/cassandra/io/sstable/IndexHelper.java
  src/java/org/apache/cassandra/io/util/BufferedRandomAccessFile.java
  src/java/org/apache/cassandra/io/util/FileDataInput.java
  src/java/org/apache/cassandra/io/util/FileMark.java
  src/java/org/apache/cassandra/io/util/MappedFileDataInput.java
  test/unit/org/apache/cassandra/db/RowIterationTest.java"
CASSANDRA-11304,"* d0b7a02b230f65a3ba2665a8327b6e6cc585dde9 Replace recursion with iteration in CompositesSearcher
  CHANGES.txt
  src/java/org/apache/cassandra/index/internal/composites/CompositesSearcher.java"
CASSANDRA-11315,"* f37b6f145d3db2b14de38b2c75f390f7a3113c85 Fix upgrading sparse tables that are incorrectly marked as dense
  CHANGES.txt
  src/java/org/apache/cassandra/schema/LegacySchemaMigrator.java"
CASSANDRA-11345,"* 03985212644112d2751cdabc72bd954dda9ff3ba Release sstables of failed stream sessions only when outgoing transfers are finished
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/StreamSession.java
  src/java/org/apache/cassandra/streaming/StreamTransferTask.java
  src/java/org/apache/cassandra/streaming/messages/FileMessageHeader.java
  src/java/org/apache/cassandra/streaming/messages/OutgoingFileMessage.java
  test/unit/org/apache/cassandra/streaming/StreamTransferTaskTest.java"
CASSANDRA-11353,"* 11da411fb62b0d6bc32d9119dd8548d94f88021f Fix potential assertion error during compaction on trunk
  CHANGES.txt
  src/java/org/apache/cassandra/db/ReadCommand.java
  src/java/org/apache/cassandra/db/compaction/CompactionIterator.java
  src/java/org/apache/cassandra/db/partitions/PurgeFunction.java
  src/java/org/apache/cassandra/db/rows/AbstractCell.java
  test/unit/org/apache/cassandra/db/compaction/TTLExpiryTest.java
* d3f4ae8428f0045b04a9395dbb201d59d18757ac Fix potential assertion error during compaction on trunk
  CHANGES.txt
  src/java/org/apache/cassandra/db/ReadCommand.java
  src/java/org/apache/cassandra/db/compaction/CompactionIterator.java
  src/java/org/apache/cassandra/db/partitions/PurgeFunction.java
  src/java/org/apache/cassandra/db/rows/AbstractCell.java
  test/unit/org/apache/cassandra/db/compaction/TTLExpiryTest.java"
CASSANDRA-11381,"* f49579df38121f88107531307437b447a7438cda Node running with join_ring=false and authentication can not serve requests
  CHANGES.txt
  src/java/org/apache/cassandra/auth/CassandraRoleManager.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-11383,"* 5c4d5c731f1299ba310c81603914a1a8956e644c Avoid index segment stitching in RAM which lead to OOM on big SSTable files
  CHANGES.txt
  src/java/org/apache/cassandra/index/sasi/disk/AbstractTokenTreeBuilder.java
  src/java/org/apache/cassandra/index/sasi/disk/DynamicTokenTreeBuilder.java
  src/java/org/apache/cassandra/index/sasi/disk/OnDiskIndexBuilder.java
  src/java/org/apache/cassandra/index/sasi/disk/PerSSTableIndexWriter.java
  src/java/org/apache/cassandra/index/sasi/disk/StaticTokenTreeBuilder.java
  src/java/org/apache/cassandra/index/sasi/disk/Token.java
  src/java/org/apache/cassandra/index/sasi/disk/TokenTree.java
  src/java/org/apache/cassandra/index/sasi/disk/TokenTreeBuilder.java
  src/java/org/apache/cassandra/index/sasi/memory/KeyRangeIterator.java
  src/java/org/apache/cassandra/index/sasi/sa/SuffixSA.java
  src/java/org/apache/cassandra/index/sasi/utils/CombinedTerm.java
  test/unit/org/apache/cassandra/index/sasi/disk/OnDiskIndexTest.java
  test/unit/org/apache/cassandra/index/sasi/disk/PerSSTableIndexWriterTest.java
  test/unit/org/apache/cassandra/index/sasi/disk/TokenTreeTest.java
  test/unit/org/apache/cassandra/index/sasi/utils/LongIterator.java"
CASSANDRA-11393,"* fbd287ad2ed09190dd9c6e152b82215e81020847 Wait until the message is being send to decide which serializer must be used
  CHANGES.txt
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/PartitionRangeReadCommand.java
  src/java/org/apache/cassandra/db/ReadCommand.java
  src/java/org/apache/cassandra/db/ReadResponse.java
  src/java/org/apache/cassandra/db/SinglePartitionReadCommand.java
  src/java/org/apache/cassandra/io/ForwardingVersionedSerializer.java
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-114,"* ec291721ddeb66c88ba2d86d45ee27de84013e95 add string de/serialize code to TokenFactory for ApplicationState's benefit. patch by jbellis; tested by nk11 and MarkR42 for CASSANDRA-114
  src/java/org/apache/cassandra/dht/OrderPreservingPartitioner.java
  src/java/org/apache/cassandra/dht/RandomPartitioner.java
  src/java/org/apache/cassandra/dht/Token.java
  src/java/org/apache/cassandra/service/HttpRequestVerbHandler.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-11414,"* 00e7ecf1394f8704e2f13369f7950e129459ce2c Improve streaming synchronization and fault tolerance
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/ConnectionHandler.java
  src/java/org/apache/cassandra/streaming/StreamReceiveTask.java"
CASSANDRA-11415,"* 105fbb35db228aa47b7de079795d61e748ed8abc Backport CASSANDRA-10859
  CHANGES.txt
  src/java/org/apache/cassandra/tools/NodeProbe.java
  src/java/org/apache/cassandra/utils/EstimatedHistogram.java"
CASSANDRA-11470,"* 063b37614442b3184342a04c50c7961d1777e13b LogAwareFileLister should only use OLD sstable files in current folder to determine disk consistency
  CHANGES.txt
  src/java/org/apache/cassandra/db/lifecycle/LogAwareFileLister.java
  src/java/org/apache/cassandra/db/lifecycle/LogFile.java
  src/java/org/apache/cassandra/db/lifecycle/LogRecord.java
  test/unit/org/apache/cassandra/db/lifecycle/LogTransactionTest.java"
CASSANDRA-11485,"* ce445991fab05d2ba404f6289796664dd581662a ArithmeticException in avgFunctionForDecimal
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/functions/AggregateFcts.java
  test/unit/org/apache/cassandra/cql3/validation/operations/AggregationTest.java"
CASSANDRA-11523,"* 14f08e6f66ef96614fccd12d1eac482c00ee7dc5 Add indexed column to column filter in KeysSearcher
  CHANGES.txt
  src/java/org/apache/cassandra/index/internal/keys/KeysSearcher.java"
CASSANDRA-11525,"* 020dd2d1034abc5c729edf1975953614b33c5a8b StaticTokenTreeBuilder should respect posibility of duplicate tokens
  CHANGES.txt
  src/java/org/apache/cassandra/index/sasi/disk/AbstractTokenTreeBuilder.java
  src/java/org/apache/cassandra/index/sasi/disk/StaticTokenTreeBuilder.java
  src/java/org/apache/cassandra/index/sasi/disk/TokenTree.java
  test/unit/org/apache/cassandra/index/sasi/disk/TokenTreeTest.java"
CASSANDRA-11540,"* 93c5bc616e21ffa7f31266ad095ca374f2ba73a4 Avoid starting Cassandra on JMX bind failure
  CHANGES.txt
  src/java/org/apache/cassandra/service/CassandraDaemon.java"
CASSANDRA-11604,"* 0d5984b9dbd54a42fbbe6a71a045b13a612208b6 Allow updating UDT nested in non-frozen map after ALTERing the UDT
  src/java/org/apache/cassandra/db/rows/ComplexColumnData.java
  test/unit/org/apache/cassandra/cql3/validation/entities/UserTypesTest.java"
CASSANDRA-11609,"* d62b2cf7c77b01723c4d312bcc249c91a73b4e45 Freeze implicitly frozen types in 2.x -> 3.x schema migration
  src/java/org/apache/cassandra/db/marshal/AbstractType.java
  src/java/org/apache/cassandra/db/marshal/ListType.java
  src/java/org/apache/cassandra/db/marshal/MapType.java
  src/java/org/apache/cassandra/db/marshal/SetType.java
  src/java/org/apache/cassandra/db/marshal/UserType.java
  src/java/org/apache/cassandra/schema/LegacySchemaMigrator.java"
CASSANDRA-11613,"* dee84ccc59bc5ce76e568bf94ab70c772c079041 Freeze UDTs and nested UDTs/collections during schema upgrade
  CHANGES.txt
  src/java/org/apache/cassandra/db/marshal/AbstractType.java
  src/java/org/apache/cassandra/db/marshal/ListType.java
  src/java/org/apache/cassandra/db/marshal/MapType.java
  src/java/org/apache/cassandra/db/marshal/SetType.java
  src/java/org/apache/cassandra/db/marshal/UserType.java
  src/java/org/apache/cassandra/schema/LegacySchemaMigrator.java"
CASSANDRA-11615,"* 06870372d0e144bb0dd7f567f2efeca1dc996080 Update java driver
  CHANGES.txt
  build.xml
  lib/cassandra-driver-core-3.0.1-shaded.jar
  lib/licenses/cassandra-driver-3.0.1.txt"
CASSANDRA-11621,"* 3244774572c56400ed96da4d57912779878c16e5 Avoid possible stack overflow in ModificationStatement::getFunctions
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java"
CASSANDRA-11629,"* c08eeafdcfe4b5d0fb1a8aa34ca5df27be7934ce Add support for filtering on counter columns
  CHANGES.txt
  src/java/org/apache/cassandra/db/filter/RowFilter.java
  test/unit/org/apache/cassandra/cql3/validation/entities/CountersTest.java"
CASSANDRA-11670,"* 88d47911dd9f590a335af7429b128ffc726dc5ff Skip writing MV mutations to commitlog on mutation.applyUnsafe()
  CHANGES.txt
  src/java/org/apache/cassandra/db/Keyspace.java"
CASSANDRA-11710,"* 31cab36b1800f2042623633445d8be944217d5a2 Prevent direct memory OOM on buffer pool allocations
  CHANGES.txt
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/utils/memory/BufferPool.java"
CASSANDRA-11711,"* a5dac1298b7cc899e9d1a327f15b31a94e1ce283 Make testJsonThreadSafety less likely to time out
  test/unit/org/apache/cassandra/cql3/validation/entities/JsonTest.java"
CASSANDRA-11726,"* ee609411a8e154255812b157788a79bbdf076566 Fix value skipping with counter columns
  CHANGES.txt
  src/java/org/apache/cassandra/db/Conflicts.java
  test/unit/org/apache/cassandra/cql3/validation/entities/CountersTest.java"
CASSANDRA-11736,"* 640072b093ac7040a28ca932034e905935357ead Use re-initialised headers for ColumnIndex for pre-3.0 sstables
  src/java/org/apache/cassandra/io/sstable/format/big/BigTableWriter.java"
CASSANDRA-11749,"* 68319f7c3be232a58e68ca91206283076aa3dedb cqlsh COPY FROM: shutdown parent cluster after forking, to avoid corrupting SSL connections
  CHANGES.txt
  pylib/cqlshlib/copyutil.py"
CASSANDRA-11750,"* b851792c4e3ae32b8d863d9079cca6d135f1cf23 Backport CASSANDRA-11578
  CHANGES.txt
  src/java/org/apache/cassandra/io/FSErrorHandler.java
  src/java/org/apache/cassandra/io/util/FileUtils.java
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  src/java/org/apache/cassandra/service/DefaultFSErrorHandler.java
  test/unit/org/apache/cassandra/db/DirectoriesTest.java"
CASSANDRA-11763,"* 8d22d9fd1842c59ea65a3793aceb5a78c5852351 Failure to read non-shallow pre-3.0 sstable index entries
  CHANGES.txt
  src/java/org/apache/cassandra/db/RowIndexEntry.java
  test/unit/org/apache/cassandra/io/sstable/LegacySSTableTest.java"
CASSANDRA-11765,"* 5a7ff5e32312426b63d9a8a5dc7fd58fa2ffb8ce Support multiple folders for user defined compaction tasks
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/compaction/CompactionStrategyManager.java
  test/unit/org/apache/cassandra/Util.java
  test/unit/org/apache/cassandra/db/compaction/CompactionsPurgeTest.java"
CASSANDRA-1179,"* 1a6b938becde3b0e59f75b58c1317f5865aded6a split commitlog header into separate file and add size checksum to mutations.  patch by mdennis and jbellis for CASSANDRA-1179
  CHANGES.txt
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/commitlog/CommitLog.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogHeader.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogSegment.java
  test/unit/org/apache/cassandra/CleanupHelper.java
  test/unit/org/apache/cassandra/db/CommitLogTest.java
  test/unit/org/apache/cassandra/db/RecoveryManager3Test.java
  test/unit/org/apache/cassandra/db/RecoveryManagerTest.java
  test/unit/org/apache/cassandra/db/commitlog/CommitLogHeaderTest.java"
CASSANDRA-11803,"* 55568c17d6100cedc77747dfe1ad05a40191216b Backport of ""Fix test broken after second pass of CASSANDRA-11803 changes"" from 3.X to 3.0
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreCQLHelperTest.java
* 5f2367ef92517ac0bf7b7315de248021da2de4a6 Fix test broken after second pass of CASSANDRA-11803 changes
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreCQLHelperTest.java
* bc9a0793944f7dd481646c4014d13b844439906c Update reserved keyword list
  src/java/org/apache/cassandra/cql3/ReservedKeywords.java
  test/unit/org/apache/cassandra/cql3/ReservedKeywordsTest.java
* 153583be55e2a0bba74102bf1d5fc7a79d314b1f Preserve quoted reserved keyword column names in MV creation
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/ColumnIdentifier.java
  src/java/org/apache/cassandra/cql3/Cql.g
  src/java/org/apache/cassandra/cql3/ReservedKeywords.java
  test/unit/org/apache/cassandra/cql3/ViewTest.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreCQLHelperTest.java"
CASSANDRA-11823,"* 52be7bac4160c392605f2ec6c2f98d4e49ccf2fe Fixed ConcurrentModificationException when reading metrics in GraphiteReporter
  CHANGES.txt
  src/java/org/apache/cassandra/metrics/TableMetrics.java"
CASSANDRA-11878,"* 5af5bafc87f3efe0388c003b3923ca3452e1e261 Disable autocompaction during drain
  CHANGES.txt
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-11882,"* 452d626a7a6b03917b7bd72a5dfe9da8a27e0903 Fix handling of clustering key > 64K
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/net/OutboundTcpConnection.java
  src/java/org/apache/cassandra/utils/ByteBufferUtil.java
  test/unit/org/apache/cassandra/cql3/CQLTester.java
  test/unit/org/apache/cassandra/cql3/validation/operations/InsertTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectTest.java"
CASSANDRA-11889,"* 5cda140bae05c84dde92998df1b85583be69812d Fix file system race condition that may cause LogAwareFileLister to fail to classify files
  CHANGES.txt
  src/java/org/apache/cassandra/db/lifecycle/LogFile.java
  src/java/org/apache/cassandra/db/lifecycle/LogRecord.java"
CASSANDRA-11891,"* 5794fb3556a07a662a8a79cfd692eaa459e9066b Avoid throwing WTE during commitlog replay due to MV lock contention
  CHANGES.txt
  src/java/org/apache/cassandra/db/Keyspace.java"
CASSANDRA-11920,"* 9e85e85bf259cc7839226a7c93475505d262946a Validate bloom_filter_fp_chance during table creation
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/CFPropDefs.java
  src/java/org/apache/cassandra/utils/BloomCalculations.java
  test/unit/org/apache/cassandra/schema/CreateTableValidationTest.java"
CASSANDRA-11960,"* c4982587bfe3cb6946daa2912fe46146edef7fbf Restore resumable hints delivery
  CHANGES.txt
  src/java/org/apache/cassandra/hints/ChecksummedDataInput.java
  src/java/org/apache/cassandra/hints/CompressedChecksummedDataInput.java
  src/java/org/apache/cassandra/hints/HintsDispatchExecutor.java
  src/java/org/apache/cassandra/hints/HintsDispatcher.java
  src/java/org/apache/cassandra/hints/HintsReader.java
  src/java/org/apache/cassandra/hints/HintsService.java
  src/java/org/apache/cassandra/hints/HintsStore.java
  src/java/org/apache/cassandra/hints/InputPosition.java
  test/unit/org/apache/cassandra/hints/HintsCatalogTest.java
  test/unit/org/apache/cassandra/hints/HintsCompressionTest.java
  test/unit/org/apache/cassandra/hints/HintsServiceTest.java
* cee22ad54d7c28aaf0868dd45aeb9b5b708b0e78 Restore resumable hints delivery
  CHANGES.txt
  src/java/org/apache/cassandra/hints/ChecksummedDataInput.java
  src/java/org/apache/cassandra/hints/CompressedChecksummedDataInput.java
  src/java/org/apache/cassandra/hints/EncryptedChecksummedDataInput.java
  src/java/org/apache/cassandra/hints/HintsDispatchExecutor.java
  src/java/org/apache/cassandra/hints/HintsDispatcher.java
  src/java/org/apache/cassandra/hints/HintsReader.java
  src/java/org/apache/cassandra/hints/HintsService.java
  src/java/org/apache/cassandra/hints/HintsStore.java
  src/java/org/apache/cassandra/hints/InputPosition.java
  src/java/org/apache/cassandra/security/EncryptionUtils.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/hints/AlteredHints.java
  test/unit/org/apache/cassandra/hints/HintsCatalogTest.java
  test/unit/org/apache/cassandra/hints/HintsServiceTest.java"
CASSANDRA-11961,"* 4754cddfb980226326994b60383ef83baed06714 Fix non-fatal NPE in CompactionMetrics
  src/java/org/apache/cassandra/metrics/CompactionMetrics.java"
CASSANDRA-11988,"* 979e5590e0c2e7c33e5ffb6e56c67d855fc17813 NullPointerExpception when reading/compacting table
  CHANGES.txt
  src/java/org/apache/cassandra/db/partitions/AbstractBTreePartition.java
  src/java/org/apache/cassandra/db/partitions/PurgeFunction.java
  src/java/org/apache/cassandra/db/rows/BaseRowIterator.java
  src/java/org/apache/cassandra/db/rows/Row.java
  src/java/org/apache/cassandra/db/transform/BaseRows.java
  src/java/org/apache/cassandra/db/transform/Filter.java
  test/unit/org/apache/cassandra/cql3/validation/entities/StaticColumnsTest.java"
CASSANDRA-11993,"* ac53b720bd53641eb178a0a26f84df85108dfe7c Chunk cache to request compressor-compatible buffers if pool space is exhausted
  CHANGES.txt
  src/java/org/apache/cassandra/cache/ChunkCache.java
  src/java/org/apache/cassandra/io/compress/ICompressor.java"
CASSANDRA-11995,"* 0493545dd08d29c34d757bb2f1d90052d03d24c6 On log replay, the last segment header may be truncated (or null). We should tolerate failure to read the header the same way we tolerate truncation of any of the rest of the final segment
  CHANGES.txt
  src/java/org/apache/cassandra/db/commitlog/CommitLogReplayer.java
  test/unit/org/apache/cassandra/db/commitlog/CommitLogTest.java"
CASSANDRA-120,"* 49211d5e927df9cbbd9fd29d978a8143f0f2ab7d change Message body to byte[].  this reveals where there are problems: everything that is using any of the send messages already needs to be doing that or they're broken.  the good ones I just unwrap; the broken ones I fixed except for MoveMessage which doesn't even have a byte[] serializer yet, so I left that one broken.  writeResponseResolver is the specific case that caused the bug report. patch by jbellis; reviewed by nk11 for CASSANDRA-120
| src/java/org/apache/cassandra/db/BinaryVerbHandler.java
| src/java/org/apache/cassandra/db/CalloutDeployMessage.java
| src/java/org/apache/cassandra/db/CalloutDeployVerbHandler.java
| src/java/org/apache/cassandra/db/DataFileVerbHandler.java
| src/java/org/apache/cassandra/db/LoadVerbHandler.java
| src/java/org/apache/cassandra/db/RangeCommand.java
| src/java/org/apache/cassandra/db/ReadRepairVerbHandler.java
| src/java/org/apache/cassandra/db/ReadResponse.java
| src/java/org/apache/cassandra/db/ReadVerbHandler.java
| src/java/org/apache/cassandra/db/RowMutationMessage.java
| src/java/org/apache/cassandra/db/RowMutationVerbHandler.java
| src/java/org/apache/cassandra/db/Table.java
| src/java/org/apache/cassandra/db/TouchMessage.java
| src/java/org/apache/cassandra/db/TouchVerbHandler.java
| src/java/org/apache/cassandra/dht/BootstrapInitiateMessage.java
| src/java/org/apache/cassandra/dht/BootstrapMetadataMessage.java
| src/java/org/apache/cassandra/dht/BootstrapMetadataVerbHandler.java
| src/java/org/apache/cassandra/gms/Gossiper.java
| src/java/org/apache/cassandra/net/AsyncResult.java
| src/java/org/apache/cassandra/net/IAsyncResult.java
| src/java/org/apache/cassandra/net/Message.java
| src/java/org/apache/cassandra/net/MultiAsyncResult.java
| src/java/org/apache/cassandra/net/io/StreamContextManager.java
| src/java/org/apache/cassandra/service/CassandraServer.java
| src/java/org/apache/cassandra/service/ConsistencyManager.java
| src/java/org/apache/cassandra/service/ReadRepairManager.java
| src/java/org/apache/cassandra/service/ReadResponseResolver.java
| src/java/org/apache/cassandra/service/StorageLoadBalancer.java
| src/java/org/apache/cassandra/service/StorageProxy.java
| src/java/org/apache/cassandra/service/StreamManager.java
| src/java/org/apache/cassandra/service/TokenUpdateVerbHandler.java
| src/java/org/apache/cassandra/service/WriteResponseResolver.java
| src/java/org/apache/cassandra/test/StressTest.java
| src/java/org/apache/cassandra/tools/AdminTool.java
| src/java/org/apache/cassandra/tools/MembershipCleaner.java
| src/java/org/apache/cassandra/tools/MembershipCleanerVerbHandler.java
| src/java/org/apache/cassandra/tools/TokenUpdateVerbHandler.java
| src/java/org/apache/cassandra/tools/TokenUpdater.java
* e044410ccd3428dd5596df581657de77f5587e1b r/m DataImporter; it's not useful outside of FB patch by jbellis; reviewed by nk11 for CASSANDRA-120
| src/java/org/apache/cassandra/test/DataImporter.java
* bcf4dcc666694b80b4ead2adb4a02486f9078e75 refactor HttpConnection to use its own executor instead of abusing MessagingService.  This will let us refactor Message body to a byte[]. patch by jbellis; reviewed by nk11 for CASSANDRA-120
| src/java/org/apache/cassandra/net/http/HttpConnection.java
| src/java/org/apache/cassandra/net/http/HttpRequest.java
| src/java/org/apache/cassandra/net/http/HttpRequestHandler.java
| src/java/org/apache/cassandra/service/StorageService.java
* 3bc3e4c3352b9c0065c20484e63e6980086dbda1 add constructor to DTPE for most commonly used values (single thread, no timeout, LinkedBlockingQueue) patch by jbellis; reviewed by nk11 for CASSANDRA-120
| src/java/org/apache/cassandra/concurrent/DebuggableThreadPoolExecutor.java
| src/java/org/apache/cassandra/concurrent/SingleThreadedStage.java
| src/java/org/apache/cassandra/db/BinaryMemtableManager.java
| src/java/org/apache/cassandra/db/Memtable.java
| src/java/org/apache/cassandra/db/MemtableManager.java
| src/java/org/apache/cassandra/net/MessagingService.java
| src/java/org/apache/cassandra/service/LeaderElector.java
| src/java/org/apache/cassandra/service/StorageLoadBalancer.java
| src/java/org/apache/cassandra/service/StorageService.java
| src/java/org/apache/cassandra/utils/FileUtils.java
* 05281ee045bb6d9b5fa39b09489175247b60251a demonstrate problem with _blocking methods by checking insert return values. patch by jbellis; reviewed by nk11 for CASSANDRA-120
  test/system/test_server.py"
CASSANDRA-12014,"* 9882cd825ff95c88264c78dfcdc481aad6fc3522 Ignore large IndexSummaryTest tests on Circle CI
  test/unit/org/apache/cassandra/io/sstable/IndexSummaryTest.java
* ae88fd6c79b066f12ad76c2c1bfc1620d86bdbc5 Avoid assertion error when IndexSummary > 2G
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/IndexSummaryBuilder.java
  test/unit/org/apache/cassandra/io/sstable/IndexSummaryTest.java"
CASSANDRA-12023,"* b671522d008017bc46e48ffee4c43375d96c4f26 Fix upgrading schema with super columns with non-text subcomparators
  CHANGES.txt
  src/java/org/apache/cassandra/db/CompactTables.java
  src/java/org/apache/cassandra/schema/LegacySchemaMigrator.java"
CASSANDRA-12026,"* 09103eeac93291a193db9a39b8a68964aacfe4d2 Explain errors during schema migration on mixed-version clusters post 3.0
  NEWS.txt"
CASSANDRA-1203,"* ed623da76d08da4921db6f37d48ce28eecb033df handle schema loading when a node has had all keyspaces dropped. Patch by gdusbabek, reviewed by jbellis. CASSANDRA-1203.
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/DefsTable.java"
CASSANDRA-12083,"* 2e4763691c39f1424858fcb70a0a5c2a3aeb7836 Ensure new CFS is initialized before adding to schema
  CHANGES.txt
  src/java/org/apache/cassandra/config/Schema.java"
CASSANDRA-12098,"* dd05e46f0cb5475edf72676230474e0ad0f9cdbf Avoid potential race when rebuilding CFMetaData.columnMetadata
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java"
CASSANDRA-12100,"* dffb1a6da8e2c3a9c08bb94bfd12130b9ddded74 Make sure compaction stats are updated when compaction is interrupted (back-port from 3.0)
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionTask.java
* 05483a962c64c350315fc738c697980b22361cc3 Make sure compaction stats are updated when compaction is interrupted
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionTask.java"
CASSANDRA-12127,"* 527d1897c0973491bb0db098ce5ea1e0bd78898f Fix queries with empty ByteBuffer values in clustering column restrictions
  CHANGES.txt
  NEWS.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/cql3/statements/UpdateStatement.java
  src/java/org/apache/cassandra/db/compaction/Scrubber.java
  src/java/org/apache/cassandra/db/marshal/ReversedType.java
  test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/DeleteTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectTest.java
  test/unit/org/apache/cassandra/db/marshal/ReversedTypeTest.java"
CASSANDRA-12192,"* c26bd91852cbf19d7dba9f62078f5da31b04dbe0 Retry all MS messages once after reopening a connection
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/net/OutboundTcpConnection.java
  src/java/org/apache/cassandra/net/OutboundTcpConnectionPool.java"
CASSANDRA-12203,"* 52bf7acb0520411f420ccf36b9a3770674f604f6 Fix assertion for certain legacy range tombstone pattern
  CHANGES.txt
  src/java/org/apache/cassandra/db/UnfilteredDeserializer.java"
CASSANDRA-12213,"* 6991556e431a51575744248a4c484270c4f918c9 Fix startup problems due to schema tables not completely flushed
  CHANGES.txt
  src/java/org/apache/cassandra/schema/SchemaKeyspace.java
* b0ab12f4d52f78d30bb514d7a5ebb49c34a399b4 Ninja: add assertions for missing partition keys when loading table
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/schema/SchemaKeyspace.java
* 78a05d4f7c60605e0e57d2d9d5e72e19081e4e40 Ninja: add assertions for missing partition keys when loading table
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/schema/SchemaKeyspace.java"
CASSANDRA-12249,"* b188e0826e6b9a14d137b9497bb63dec875f6c83 Always use RANGE_SLICE verb for 3.x messages
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessageOut.java
  src/java/org/apache/cassandra/net/MessagingService.java
* 465def8e295b453dc22430dc4bb7039f6921151e Always use RANGE_SLICE verb for 3.x messages
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessageOut.java
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-12251,"* 465bb5d45ccef337382592127e214a0ca16a3d88 Move migration tasks to non-periodic queue, assure flush executor shutdown after non-periodic executor.
  CHANGES.txt
  src/java/org/apache/cassandra/service/MigrationManager.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-12253,"* df819ec8334c7a215f8d409804186a8106e91097 Fix exceptions when enabling gossip on nodes that haven't joined the ring
  CHANGES.txt
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-12263,"* 3f9b9ffe6b83987f7a1feb9a1d269e0f7c112161 Exception when computing read-repair for range tombstones
  CHANGES.txt
  src/java/org/apache/cassandra/db/rows/UnfilteredRowIterators.java
  src/java/org/apache/cassandra/service/DataResolver.java
  test/unit/org/apache/cassandra/service/DataResolverTest.java"
CASSANDRA-12336,"* b66e5a189674536903638b2028eaac23af85266b NullPointerException during compaction on table with static columns
  CHANGES.txt
  src/java/org/apache/cassandra/db/transform/BaseRows.java
  test/unit/org/apache/cassandra/cql3/validation/entities/StaticColumnsTest.java"
CASSANDRA-12351,"* 5acfce66601c76cc280e2a05562415948bd3a538 Merge branch 'cassandra-2.2' into cassandra-3.0
* f28631e0cf1bc6cb6a1bdf7a4fa1f4af720a77b6 Revert CASSANDRA-11427 because of CASSANDRA-12351 (CASSANDRA-12143).
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-12378,"* 5c6cdc60a7c05bc82f5eae848eeb9ab99ff6a53f Fix clustering indexes in presence of static columns in SASI
  CHANGES.txt
  src/java/org/apache/cassandra/index/sasi/conf/ColumnIndex.java
  test/unit/org/apache/cassandra/SchemaLoader.java
  test/unit/org/apache/cassandra/index/sasi/SASIIndexTest.java"
CASSANDRA-124,"* bbe89e795bbc631c2b626766840d943498304630 do not leave variables uninitialized in ConsistencyManager constructor.  fixes regression from #95.  patch by jbellis for CASSANDRA-124
  src/java/org/apache/cassandra/service/ConsistencyManager.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-12413,"* 6bb7577157e553dc81c280b3c83862e7a397219d Use weak references in compaction logger to avoid strong ref loops
  src/java/org/apache/cassandra/db/compaction/CompactionLogger.java"
CASSANDRA-12418,"* fa14804543e9ed2cc781d9f8511ab7a5c22f8dd7 fix jsontransformer for partitions with delete info for CASSANDRA-12418
  CHANGES.txt
  src/java/org/apache/cassandra/tools/JsonTransformer.java"
CASSANDRA-12450,"* 47c473ae3c0455e02b7a8529746988afdfdd9c54 CQLSSTableWriter does not allow Update statement
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/QueryProcessor.java
  src/java/org/apache/cassandra/io/sstable/CQLSSTableWriter.java
  test/unit/org/apache/cassandra/io/sstable/CQLSSTableWriterTest.java
  tools/stress/src/org/apache/cassandra/stress/StressProfile.java"
CASSANDRA-12457,"* be6e6ea662b7da556a9e4ba5fd402b7451bdde10 Fix leak errors and execution rejected exceptions when draining
  CHANGES.txt
  src/java/org/apache/cassandra/concurrent/DebuggableScheduledThreadPoolExecutor.java
  src/java/org/apache/cassandra/concurrent/ScheduledExecutors.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/lifecycle/LifecycleTransaction.java
  src/java/org/apache/cassandra/io/sstable/format/SSTableReader.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/utils/ExpiringMap.java"
CASSANDRA-12462,"* cbebb29adf5d8b13e75fe60c2f7aa312420be35c Fix potential NPE for compactionstats
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionInfo.java"
CASSANDRA-12478,"* db869bc77451dfd5e6afec604251c9bef8779c00 Make stress use client mode to avoid checking commit log size on startup
  CHANGES.txt
  tools/stress/src/org/apache/cassandra/stress/StressProfile.java"
CASSANDRA-12513,"* 1ae84195116eb346522c59042df8a2156a3f19f0 IOException (No such file or directory) closing MessagingService's server socket (locally)
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-12527,"* 139289356bb9615c688778b78243ba8007b22d81 Stack Overflow returned to queries while upgrading
  CHANGES.txt
  src/java/org/apache/cassandra/db/LegacyLayout.java"
CASSANDRA-12539,"* 7680aebf10c34b05a24bdc925196038818ec5126 Use only one file pointer when creating commitlog segments
  CHANGES.txt
  src/java/org/apache/cassandra/db/commitlog/MemoryMappedSegment.java"
CASSANDRA-12582,"* 2f0e365dc495336332e174b30e2d15e56fc344e2 Avoid sstable corrupt exception due to dropped static column
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/db/SerializationHeader.java"
CASSANDRA-12618,"* 6dc595dd2ebf8477b4775473d1d2417fa3a0fcfd Make Collections deserialization more robust
  CHANGES.txt
  src/java/org/apache/cassandra/db/marshal/UserType.java
  src/java/org/apache/cassandra/serializers/ListSerializer.java
  src/java/org/apache/cassandra/serializers/MapSerializer.java
  src/java/org/apache/cassandra/serializers/SetSerializer.java
  src/java/org/apache/cassandra/serializers/UTF8Serializer.java
  test/unit/org/apache/cassandra/cql3/validation/entities/CollectionsTest.java
  test/unit/org/apache/cassandra/cql3/validation/entities/TupleTypeTest.java
  test/unit/org/apache/cassandra/cql3/validation/entities/UserTypesTest.java"
CASSANDRA-12632,"* 5cebd1fb0d60e23ae5a30231e253806d58d0998e Fix failure in LogTransactionTest
  CHANGES.txt
  test/unit/org/apache/cassandra/db/lifecycle/LogTransactionTest.java"
CASSANDRA-12651,"* 820e7a8d810828d29f98a68dc35be33b40a5de62 LocalToken ensures object buffer is on heap
  CHANGES.txt
  src/java/org/apache/cassandra/dht/LocalPartitioner.java"
CASSANDRA-12666,"* f00e43167ab11f58af20439a300bdf82664abdb0 Use correct bounds for all-data range when filtering
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/restrictions/StatementRestrictions.java"
CASSANDRA-12667,"* 8206839328e665108e33de8b48926942d46cf12e DatabaseDescriptor should set some defaults to prevent NPE's.
  CHANGES.txt
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/io/sstable/CQLSSTableWriter.java
  test/microbench/org/apache/cassandra/test/microbench/MutationBench.java
  tools/stress/src/org/apache/cassandra/io/sstable/StressCQLSSTableWriter.java"
CASSANDRA-12677,"* cf5cd158e9ccc24239015b5928f65628c3f5663e Fix DatabaseDescriptorRefTest
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/io/sstable/CQLSSTableWriter.java
  test/microbench/org/apache/cassandra/test/microbench/MutationBench.java
  test/unit/org/apache/cassandra/config/DatabaseDescriptorRefTest.java
  tools/stress/src/org/apache/cassandra/io/sstable/StressCQLSSTableWriter.java"
CASSANDRA-12694,"* 26eab45465a140be5ef5fae45dc8d7cbb33192b9 Merge commit 'b234ca3ee4101a34b761948d633ef4a12aa70ca2' into trunk
* b234ca3ee4101a34b761948d633ef4a12aa70ca2 Merge commit 'e1da99a1d82b5313f022307c2e110afc07e112b6' into cassandra-3.11
* e1da99a1d82b5313f022307c2e110afc07e112b6 Revert CASSANDRA-12768 (and update fix of CASSANDRA-12694) due to upgrade regression
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/CQL3CasRequest.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/db/filter/ClusteringIndexNamesFilter.java
  src/java/org/apache/cassandra/db/filter/ColumnFilter.java
  src/java/org/apache/cassandra/db/rows/BTreeRow.java"
CASSANDRA-12700,"* ff5c497d1fc553f3dcc57a5b0f1329d66082c1d3 CASSANDRA-12700: Better handle invalid system roles table
  CHANGES.txt
  src/java/org/apache/cassandra/auth/CassandraRoleManager.java
  src/java/org/apache/cassandra/serializers/BooleanSerializer.java"
CASSANDRA-12706,"* 79a16e5e977bea4ec86fb3fef97a7ea0719a9095 Fix NPE in ComponentOfSlice.isEQ()
  CHANGES.txt
  src/java/org/apache/cassandra/db/Slices.java
  test/unit/org/apache/cassandra/db/SinglePartitionSliceCommandTest.java"
CASSANDRA-12715,"* 85ac06c640ad82c1a776f591a752cc8691062018 Fix exceptions with new vnode allocation
  CHANGES.txt
  src/java/org/apache/cassandra/dht/tokenallocator/TokenAllocation.java
  test/unit/org/apache/cassandra/dht/BootStrapperTest.java"
CASSANDRA-12717,"* 433dd1c0ab77d296dafcc6c2079aa9445a6c1b2a IllegalArgumentException in CompactionTask
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/compaction/CompactionTask.java"
CASSANDRA-12728,"* 3110d27dde2d518297e118c2f1f6b6bccfed7899 Handling partially written hint files
  CHANGES.txt
  src/java/org/apache/cassandra/hints/HintsReader.java"
CASSANDRA-12743,"* 3a713827f48399f389ea851a19b8ec8cd2cc5773 Fix compaction failure caused by reading un-flushed data
  CHANGES.txt
  src/java/org/apache/cassandra/io/compress/CompressedSequentialWriter.java
  src/java/org/apache/cassandra/io/util/SequentialWriter.java
  test/unit/org/apache/cassandra/io/compress/CompressedSequentialWriterReopenTest.java
  test/unit/org/apache/cassandra/io/compress/CompressedSequentialWriterTest.java
  test/unit/org/apache/cassandra/io/util/SequentialWriterTest.java"
CASSANDRA-12773,"* 5978f9d5f719455ceb79d5f077cdd1b72b4e1876 Honor truststore-password parameter in stress
  CHANGES.txt
  tools/stress/src/org/apache/cassandra/stress/settings/SettingsTransport.java"
CASSANDRA-12808,"* ca85bec1df69140485eb956cb61be9b68be708e0 Make IndexSummaryManagerTest::testCancelIndex more deterministic
  src/java/org/apache/cassandra/io/sstable/IndexSummaryManager.java
  test/unit/org/apache/cassandra/io/sstable/IndexSummaryManagerTest.java"
CASSANDRA-12811,"* 5e130209d38cd7e483d025d798895afe21f2a6bd Make reading of range tombstones more reliable
  CHANGES.txt
  src/java/org/apache/cassandra/db/SinglePartitionReadCommand.java
  src/java/org/apache/cassandra/db/filter/ClusteringIndexNamesFilter.java
  src/java/org/apache/cassandra/db/partitions/AbstractBTreePartition.java
  src/java/org/apache/cassandra/utils/IndexedSearchIterator.java
  src/java/org/apache/cassandra/utils/SearchIterator.java
  test/unit/org/apache/cassandra/cql3/validation/operations/DeleteTest.java
  test/unit/org/apache/cassandra/db/partition/PartitionImplementationTest.java
* 2d6fd782465395d54d8958e2da8a5c8744a81942 Make reading of range tombstones more reliable
  CHANGES.txt
  src/java/org/apache/cassandra/db/SinglePartitionReadCommand.java
  src/java/org/apache/cassandra/db/filter/ClusteringIndexNamesFilter.java
  src/java/org/apache/cassandra/db/partitions/AbstractBTreePartition.java
  src/java/org/apache/cassandra/utils/IndexedSearchIterator.java
  src/java/org/apache/cassandra/utils/SearchIterator.java
  test/unit/org/apache/cassandra/cql3/validation/operations/DeleteTest.java
  test/unit/org/apache/cassandra/db/partition/PartitionImplementationTest.java"
CASSANDRA-12812,"* e6d22da9186bdf61facbb8c426ea5bf1e59d947d Fix RandomReplicationAwareTokenAllocatorTest.testExistingCluster
  CHANGES.txt
  src/java/org/apache/cassandra/dht/RandomPartitioner.java
  src/java/org/apache/cassandra/utils/GuidGenerator.java"
CASSANDRA-12813,"* 5e4198ffdad57aebd7c4b3a8cc01a7ce88eac99c Prepare legacy auth statements if tables initialised after node startup (follow-up)
  src/java/org/apache/cassandra/auth/CassandraRoleManager.java
* 312e21bda7c50f05fc5f8868740b513022385951 Prepare legacy auth statements if tables initialised after node startup
  CHANGES.txt
  src/java/org/apache/cassandra/auth/CassandraAuthorizer.java
  src/java/org/apache/cassandra/auth/PasswordAuthenticator.java"
CASSANDRA-12817,"* d19b6d88415e04c2fc926a91fd61a3390b3b1351 testall failure in org.apache.cassandra.cql3.validation.entities.UFTest.testAllNativeTypes (fix missing merge in 3.11)
  test/unit/org/apache/cassandra/cql3/validation/entities/UFJavaTest.java
  test/unit/org/apache/cassandra/cql3/validation/entities/UFScriptTest.java
  test/unit/org/apache/cassandra/cql3/validation/entities/UFTest.java
  test/unit/org/apache/cassandra/cql3/validation/entities/UFTypesTest.java
* 0b97c5d1f717be30a04c59c766465d9c62a4e9ee testall failure in org.apache.cassandra.cql3.validation.entities.UFTest.testAllNativeTypes
  test/unit/org/apache/cassandra/cql3/validation/entities/UFJavaTest.java
  test/unit/org/apache/cassandra/cql3/validation/entities/UFScriptTest.java
  test/unit/org/apache/cassandra/cql3/validation/entities/UFTest.java"
CASSANDRA-12820,"* 81b8895151742668ff5035960612d8c4325a1761 Fix testLimitSSTables flake caused by concurrent flush
  CHANGES.txt
  test/unit/org/apache/cassandra/db/KeyspaceTest.java"
CASSANDRA-12825,"* e5a5fb96c3cc19ceeb3ad9303dc1db7b1b506a1f Use explicit timestamp to avoid getting sstables in different windows
  test/unit/org/apache/cassandra/db/compaction/CompactionsCQLTest.java"
CASSANDRA-12829,"* 9fc1ffb631a5a44bc11b55061288758e39a9d20a Fix DELETE and UPDATE queries with empty IN restrictions
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/restrictions/StatementRestrictions.java
  src/java/org/apache/cassandra/cql3/statements/BatchStatement.java
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java
  test/unit/org/apache/cassandra/cql3/CQLTester.java
  test/unit/org/apache/cassandra/cql3/validation/operations/BatchTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/DeleteTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/InsertTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/InsertUpdateIfConditionTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/UpdateTest.java"
CASSANDRA-12834,"* 83639d494fde6ae36310724d03e6caafeb66e7c8 testall failure in org.apache.cassandra.index.internal.CassandraIndexTest.indexOnFirstClusteringColumn
  test/unit/org/apache/cassandra/index/internal/CassandraIndexTest.java"
CASSANDRA-12841,"* bd540bc51fa4d308a23a0f67ec9d65ebeeb72ee5 Fix NeverPurgeTest - wait for compactions to finish
  test/unit/org/apache/cassandra/db/compaction/NeverPurgeTest.java"
CASSANDRA-12854,"* ec64cdf4c6b731a00bea8795247d865d6371157f Fix CommitLogTest.testDeleteIfNotDirty
  CHANGES.txt
  src/java/org/apache/cassandra/schema/KeyspaceParams.java
  test/unit/org/apache/cassandra/db/commitlog/CommitLogTest.java"
CASSANDRA-12856,"* 47f7d9c6aab694bf956fa2174fe0dd36702e01a6 Fix race causing infinite loop if Thrift server is stopped before it starts listening
  CHANGES.txt
  src/java/org/apache/cassandra/thrift/CustomTThreadPoolServer.java"
CASSANDRA-12858,"* 4fd05e5b5caa8403a1e3ba1318d5eed817c24ba9 Add the range limit for the split ratio in PartitionerTestCase.
  CHANGES.txt
  test/unit/org/apache/cassandra/dht/ByteOrderedPartitionerTest.java
  test/unit/org/apache/cassandra/dht/Murmur3PartitionerTest.java
  test/unit/org/apache/cassandra/dht/OrderPreservingPartitionerTest.java
  test/unit/org/apache/cassandra/dht/PartitionerTestCase.java
  test/unit/org/apache/cassandra/dht/RandomPartitionerTest.java"
CASSANDRA-12867,"* 78fdfe2336048ba37a8b4c321ee4ab5d7bfb1357 Batch with multiple conditional updates for the same partition causes AssertionError
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/CQL3CasRequest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/InsertUpdateIfConditionTest.java"
CASSANDRA-12869,"* d2d7299ee2442b762f5ee2814745e7b5720a41d6 Don't load mx4j beans twice
  CHANGES.txt
  src/java/org/apache/cassandra/service/CassandraDaemon.java"
CASSANDRA-12875,"* f87d074cd2eadd34cc496d6267a8039e8a54cbd4 Remove timing window in test case
  CHANGES.txt
  src/java/org/apache/cassandra/net/IncomingTcpConnection.java
  src/java/org/apache/cassandra/net/MessageIn.java
  test/unit/org/apache/cassandra/net/MessagingServiceTest.java
* f60ab23731e4d7d6aa021f62b5a73dcedfa3e2f1 Remove timing window in test case
  CHANGES.txt
  src/java/org/apache/cassandra/net/IncomingTcpConnection.java
  src/java/org/apache/cassandra/net/MessageIn.java
  test/unit/org/apache/cassandra/net/MessagingServiceTest.java"
CASSANDRA-12886,"* 06feaefba50301734c490521d720c8a482f638e4 Avoid race on receiver by starting streaming sender thread after sending init message
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/ConnectionHandler.java"
CASSANDRA-129,"* c568dc733ea47f59be74b2b624673485228d7595 add test for null configFileName_.  patch by Jeff Hodges; reviewed by jbellis for CASSANDRA-129
  test/unit/org/apache/cassandra/config/DatabaseDescriptorTest.java
* 28e548a31c1c3941045650785bdf77239c1c09b4 initialize configFileName_.  patch by Sandeep Tata; reviewed by jbellis for CASSANDRA-129
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java"
CASSANDRA-1290,"* ce4f9576d6c7ec8160828d900857605aead24cf3 make cli framed by default.  patch by Jon Hermes; reviewed by jbellis for CASSANDRA-1290
  src/java/org/apache/cassandra/cli/CliOptions.java
  src/java/org/apache/cassandra/cli/CliSessionState.java"
CASSANDRA-12903,"* 78de13bcc7ea10f92d74a3db7ca8ba515904cbef Avoid shutting down socket input/output on StreamSession since this is not supported on SSL
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/ConnectionHandler.java"
CASSANDRA-12924,"* 14bfc94937e039c25faac62ebd570ab788fdb537 Upgrade metrics to fix reconnect when reporting metrics. (backported)
  CHANGES.txt
  build.xml
  lib/licenses/metrics-core-3.1.5.txt
  lib/licenses/metrics-jvm-3.1.5.txt
  lib/licenses/metrics-logback-3.1.5.txt
  lib/metrics-core-3.1.0.jar
  lib/metrics-core-3.1.5.jar
  lib/metrics-jvm-3.1.5.jar
  lib/metrics-logback-3.1.0.jar
  lib/metrics-logback-3.1.5.jar"
CASSANDRA-1299,"* aca77ec466a9a06dfd6867ec6341f6916c927f13 hand-assembled sstables could contain garbage data since we were writing the entire buffer contents.  copy just the valid data to a separate byte[] first.  patch by jbellis; reviewed by Stu Hood for CASSANDRA-1299
  test/unit/org/apache/cassandra/io/sstable/SSTableUtils.java"
CASSANDRA-12997,"* 806ac77eeb4e0589a3afab128b2ac9056084989b Use timestamp from ClientState by default in AlterTableStatement
  src/java/org/apache/cassandra/cql3/statements/AlterKeyspaceStatement.java
  src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java
  src/java/org/apache/cassandra/cql3/statements/AlterTypeStatement.java
  src/java/org/apache/cassandra/cql3/statements/AlterViewStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateAggregateStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateFunctionStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateIndexStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateKeyspaceStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateTableStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateTriggerStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateTypeStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateViewStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropAggregateStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropFunctionStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropIndexStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropKeyspaceStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropTableStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropTriggerStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropTypeStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropViewStatement.java
  src/java/org/apache/cassandra/cql3/statements/SchemaAlteringStatement.java"
CASSANDRA-13004,"* 90c5c8bfecd69edb5f859e9ff2424930b1394b49 Ninja: fix test failures after CASSANDRA-13004.
  src/java/org/apache/cassandra/net/MessageIn.java
  src/java/org/apache/cassandra/net/MessagingService.java
* 1f54aa424fd8a79089f76951a93560e6bca9d459 Ensure consistent view of partition columns between coordinator and replica in ColumnFilter
  CHANGES.txt
  NEWS.txt
  src/java/org/apache/cassandra/db/ReadResponse.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogDescriptor.java
  src/java/org/apache/cassandra/db/filter/ColumnFilter.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/MigrationManager.java
  test/unit/org/apache/cassandra/db/filter/ColumnFilterTest.java"
CASSANDRA-13020,"* 2e36eb6ca38dd018e7ef0cda61d43ec9a7eb144c Fix hint delivery when prefer_local enabled
  CHANGES.txt
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-13021,"* 5d8f6c64c40612462bbecaef8e21c0f7baf5b815 Fix nodetool compactionstats NPE
  CHANGES.txt
  src/java/org/apache/cassandra/tools/nodetool/CompactionStats.java"
CASSANDRA-13025,"* e1da99a1d82b5313f022307c2e110afc07e112b6 Revert CASSANDRA-12768 (and update fix of CASSANDRA-12694) due to upgrade regression
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/CQL3CasRequest.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/db/filter/ClusteringIndexNamesFilter.java
  src/java/org/apache/cassandra/db/filter/ColumnFilter.java
  src/java/org/apache/cassandra/db/rows/BTreeRow.java"
CASSANDRA-13043,"* 36bdc253193318ceaf5beb9bc5e869f6af590cb1 Remove non-rpc-ready nodes from counter leader candidates
  CHANGES.txt
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-13050,"* 84b1725fb4c4cba4fdb94f2abdb66656a4c66ae1 Fixed query monitoring for range queries
  CHANGES.txt
  src/java/org/apache/cassandra/db/ReadCommand.java
  src/java/org/apache/cassandra/db/SinglePartitionReadCommand.java
  src/java/org/apache/cassandra/db/filter/RowFilter.java
  test/unit/org/apache/cassandra/db/RepairedDataTombstonesTest.java"
CASSANDRA-13072,"* 00a777ec8ab701b843172e23a6cbdc4d6cf48f8d Downgrade JNA to 4.2.2
  build.xml
  lib/jna-4.2.2.jar
  lib/jna-4.4.0.jar
  lib/licenses/jna-4.2.2.txt
* a741efd94558feb36baff59718553c85f4a75ba7 Follow up CASSANDRA-13072: Fix wrong merge
  lib/futures-2.1.6-py2.py3-none-any.zip
  lib/jna-4.4.0.jar
* 3c81aa825de1855a1cfd8de49d946e478d6bb085 upgrade JNA version to 4.4.0
  CHANGES.txt
  build.xml
  lib/jna-4.0.0.jar
  lib/jna-4.4.0.jar
  lib/licenses/jna-4.4.0.txt"
CASSANDRA-13090,"* 3748bf7c2a135baab33ccd3b79db5f3fb9132995 Fix CHANGES.txt versions for CASSANDRA-13090.
  CHANGES.txt
* c6462d793b5736b7728c6f188b224dd9d3760bc6 Correct CHANGES.txt for CASSANDRA-13090
  CHANGES.txt
* 9a80f803c2ec9a4a74cb8a99293dc81ef3dc183d Remove non-ascii characters from cassandra.yaml introduced by CASSANDRA-13090
| conf/cassandra.yaml
* 5725e2c422d21d8efe5ae3bc4389842939553650 Coalescing strategies improvements CASSANDRA-13090
  CHANGES.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/net/OutboundTcpConnection.java
  src/java/org/apache/cassandra/utils/CoalescingStrategies.java
  test/unit/org/apache/cassandra/utils/CoalescingStrategiesTest.java"
CASSANDRA-13109,"* 74fdfe0a5f9bd8d3c525e771e2ba2cd3cfc18697 Lightweight transactions temporarily fail after upgrade from 2.1 to 3.0
  CHANGES.txt
  src/java/org/apache/cassandra/db/LegacyLayout.java"
CASSANDRA-13149,"* ab0adf9f9bc72074a02025bdecd9479f790d6463 AssertionError prepending to a list
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/Lists.java
  test/unit/org/apache/cassandra/cql3/ListsTest.java"
CASSANDRA-13161,"* 21730666929886be5300c782319a852e46b22763 Increase commitlog version
  CHANGES.txt
  src/java/org/apache/cassandra/db/commitlog/CommitLogDescriptor.java"
CASSANDRA-13174,"* 6487876dde14c46d5753f972909e5acec854cb53 Fix equality comparisons of columns using the duration type
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/ColumnCondition.java
  src/java/org/apache/cassandra/cql3/Operator.java
  src/java/org/apache/cassandra/cql3/SingleColumnRelation.java
  src/java/org/apache/cassandra/cql3/statements/CreateIndexStatement.java
  src/java/org/apache/cassandra/db/marshal/AbstractType.java
  src/java/org/apache/cassandra/db/marshal/DurationType.java
  src/java/org/apache/cassandra/db/marshal/TupleType.java
  src/java/org/apache/cassandra/db/marshal/UserType.java
  test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/CreateTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/InsertUpdateIfConditionTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectTest.java"
CASSANDRA-13188,"* 3f725c9e8450ab6eac0ad5ffec463e72789176cc ninja-fix the build script make test-compression depend on stress-build. needed due to CASSANDRA-13188
  build.xml
* 2369faab7959d57c8f6bc1f324de47c5aeaf19b9 Fix compaction-stress by using daemonInitialization
  CHANGES.txt
  build.xml
  test/resources/blogpost.yaml
  test/unit/org/apache/cassandra/tools/CompactionStressTest.java
  tools/stress/src/org/apache/cassandra/io/sstable/StressCQLSSTableWriter.java
  tools/stress/src/org/apache/cassandra/stress/CompactionStress.java"
CASSANDRA-13216,"* d8fb9349df818659c54d57b2d2c95ebbd0405d49 Replace string comparison with regex/number checks in MessagingService test
  CHANGES.txt
  test/unit/org/apache/cassandra/net/MessagingServiceTest.java
* 1dcb3131a4d7417634551456f1fe3f519fa17fd0 Use a unique metric reservoir per test run when using Cassandra-wide metrics residing in MBeans
  CHANGES.txt
  src/java/org/apache/cassandra/metrics/DroppedMessageMetrics.java
  src/java/org/apache/cassandra/net/MessagingService.java
  test/unit/org/apache/cassandra/net/MessagingServiceTest.java"
CASSANDRA-13224,"* 30820eacb9c565d06260031260910f020e16e83d Disable compaction during PendingRepairTests
  test/unit/org/apache/cassandra/db/compaction/AbstractPendingRepairTest.java
  test/unit/org/apache/cassandra/db/compaction/CompactionStrategyManagerPendingRepairTest.java
  test/unit/org/apache/cassandra/db/compaction/PendingRepairManagerTest.java"
CASSANDRA-13229,"* 5af7c5ff5b287b10a5b49b2bf2890469cb627f2a Fall back to even ranges calculation in clusters with vnodes when tokens are distributed unevenly
  CHANGES.txt
  src/java/org/apache/cassandra/dht/Splitter.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-13233,"* e3968cfd1e786f260029cf8cde4164719ae56c53 Improve testing on macOS by eliminating sigar logging
  CHANGES.txt
  src/java/org/apache/cassandra/utils/CLibrary.java
  src/java/org/apache/cassandra/utils/CLibraryDarwin.java
  src/java/org/apache/cassandra/utils/CLibraryLinux.java
  src/java/org/apache/cassandra/utils/CLibraryWindows.java
  src/java/org/apache/cassandra/utils/CLibraryWrapper.java
  src/java/org/apache/cassandra/utils/HeapUtils.java
  src/java/org/apache/cassandra/utils/UUIDGen.java
  test/unit/org/apache/cassandra/utils/CLibraryTest.java"
CASSANDRA-13236,"* 62092e45c8bbb75ac9f680188b3746913602507b Fix current position calculation in OldFormatDeserializer
  CHANGES.txt
  src/java/org/apache/cassandra/db/UnfilteredDeserializer.java
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed/legacy_tables-legacy_ka_indexed-ka-1-CompressionInfo.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed/legacy_tables-legacy_ka_indexed-ka-1-Data.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed/legacy_tables-legacy_ka_indexed-ka-1-Digest.sha1
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed/legacy_tables-legacy_ka_indexed-ka-1-Filter.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed/legacy_tables-legacy_ka_indexed-ka-1-Index.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed/legacy_tables-legacy_ka_indexed-ka-1-Statistics.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed/legacy_tables-legacy_ka_indexed-ka-1-Summary.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed/legacy_tables-legacy_ka_indexed-ka-1-TOC.txt
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed_static/legacy_tables-legacy_ka_indexed_static-ka-1-CompressionInfo.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed_static/legacy_tables-legacy_ka_indexed_static-ka-1-Data.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed_static/legacy_tables-legacy_ka_indexed_static-ka-1-Digest.sha1
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed_static/legacy_tables-legacy_ka_indexed_static-ka-1-Filter.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed_static/legacy_tables-legacy_ka_indexed_static-ka-1-Index.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed_static/legacy_tables-legacy_ka_indexed_static-ka-1-Statistics.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed_static/legacy_tables-legacy_ka_indexed_static-ka-1-Summary.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_indexed_static/legacy_tables-legacy_ka_indexed_static-ka-1-TOC.txt
  test/unit/org/apache/cassandra/io/sstable/LegacySSTableTest.java
* 415d06b1da7062c48e735c1c20ded031fa0349d2 Avoid reading static row twice from legacy sstables
  CHANGES.txt
  src/java/org/apache/cassandra/db/columniterator/AbstractSSTableIterator.java"
CASSANDRA-13246,"* 0eebc6e6b7cd7fc801579e57701608e7bf155ee0 Fix CONTAINS filtering for null collections
  CHANGES.txt
  src/java/org/apache/cassandra/db/filter/RowFilter.java
  src/java/org/apache/cassandra/db/rows/Row.java
  test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectTest.java"
CASSANDRA-13247,"* 82d3cdcd6cfeff043c92ea7a060498942130feb5 Forbid SELECT restrictions and CREATE INDEX over non-frozen UDT columns
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/SingleColumnRelation.java
  src/java/org/apache/cassandra/cql3/statements/CreateIndexStatement.java
  test/unit/org/apache/cassandra/cql3/validation/entities/SecondaryIndexTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectSingleColumnRelationTest.java"
CASSANDRA-13265,"* 617c8ebadb6c4df99c35a913184760e82172b1f5 Expire OTC messages by a single Thread
  CHANGES.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/net/OutboundTcpConnection.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/service/StorageProxyMBean.java
  test/unit/org/apache/cassandra/net/OutboundTcpConnectionTest.java"
CASSANDRA-13275,"* f0319c88fd9a0e70cd8900ba7431724285886f9e Allow CONTAINS statements filtering on the partition key and its parts
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/restrictions/PartitionKeySingleRestrictionSet.java
  src/java/org/apache/cassandra/cql3/restrictions/RestrictionSet.java
  src/java/org/apache/cassandra/cql3/restrictions/RestrictionSetWrapper.java
  src/java/org/apache/cassandra/cql3/restrictions/Restrictions.java
  src/java/org/apache/cassandra/cql3/restrictions/StatementRestrictions.java
  src/java/org/apache/cassandra/cql3/restrictions/TokenFilter.java
  src/java/org/apache/cassandra/cql3/restrictions/TokenRestriction.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectOrderedPartitionerTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectTest.java"
CASSANDRA-13320,"* 5918375e88bcacfab47e44cbfa2dd202ec634725 Propagate row deletion info for 2i tables on upgrade
  CHANGES.txt
  src/java/org/apache/cassandra/db/LegacyLayout.java"
CASSANDRA-13337,"* 5262bb17b46fc8c02f9f836ddf9317d0de2698cd Dropping column results in ""corrupt"" SSTable
  CHANGES.txt
  src/java/org/apache/cassandra/db/columniterator/SSTableIterator.java
  src/java/org/apache/cassandra/db/columniterator/SSTableReversedIterator.java
  src/java/org/apache/cassandra/db/rows/RangeTombstoneMarker.java
  src/java/org/apache/cassandra/db/rows/Unfiltered.java
  src/java/org/apache/cassandra/db/rows/UnfilteredSerializer.java
  test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java"
CASSANDRA-13346,"* 40ad3cf4dd384bede595edce4617534ca904f1ed Failed unregistering mbean during drop keyspace
  CHANGES.txt
  src/java/org/apache/cassandra/metrics/TableMetrics.java"
CASSANDRA-13363,"* ded663622e7861d577bd8ab11ba5e502f57ce038 Remove unnecessary ReadCommand.index() method (follow-up to CASSANDRA-13363)
| src/java/org/apache/cassandra/db/ReadCommand.java
| test/unit/org/apache/cassandra/db/SecondaryIndexTest.java
| test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java
* 7f297bcf8aced983cbc9c4103d0ebefc1789f0dd Fix race condition in read command serialization
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/db/AbstractReadCommandBuilder.java
  src/java/org/apache/cassandra/db/PartitionRangeReadCommand.java
  src/java/org/apache/cassandra/db/ReadCommand.java
  src/java/org/apache/cassandra/db/SinglePartitionReadCommand.java
  src/java/org/apache/cassandra/index/SecondaryIndexManager.java
  src/java/org/apache/cassandra/index/internal/composites/CompositesSearcher.java
  src/java/org/apache/cassandra/index/internal/keys/KeysSearcher.java
  src/java/org/apache/cassandra/service/AbstractReadExecutor.java
  src/java/org/apache/cassandra/service/pager/PartitionRangeQueryPager.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java
  test/unit/org/apache/cassandra/Util.java
  test/unit/org/apache/cassandra/db/SecondaryIndexTest.java
  test/unit/org/apache/cassandra/db/SinglePartitionSliceCommandTest.java
  test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java"
CASSANDRA-13366,"* f55cb88ab595ccb941ebb4a088ab90f860f463d5 Possible AssertionError in UnfilteredRowIteratorWithLowerBound
  CHANGES.txt
  src/java/org/apache/cassandra/db/SinglePartitionReadCommand.java
  src/java/org/apache/cassandra/db/compaction/CompactionController.java
  src/java/org/apache/cassandra/db/rows/UnfilteredRowIteratorWithLowerBound.java
  src/java/org/apache/cassandra/io/sstable/format/SSTableReader.java"
CASSANDRA-13370,"* ee7023e324cdd3b3442b04ad4b0b1f4b33921d35 Avoid seeding /dev/urandom on OS X by specifying SHA1PRNG in CipherFactoryTest.
  CHANGES.txt
  test/unit/org/apache/cassandra/security/CipherFactoryTest.java"
CASSANDRA-13389,"* 849f8cd6162c4850d64581a2c4a542c677e43e0a Fix possible NPE on upgrade to 3.0/3.X in case of IO errors
  CHANGES.txt
  src/java/org/apache/cassandra/db/SystemKeyspace.java
  src/java/org/apache/cassandra/io/util/FileUtils.java
  test/unit/org/apache/cassandra/db/SystemKeyspaceTest.java"
CASSANDRA-13395,"* 462b9cf63bf986671f8a080ef1802f0c27e7c772 Fix the conversion of 2.X expired rows without regular column data
  CHANGES.txt
  src/java/org/apache/cassandra/db/LegacyLayout.java"
CASSANDRA-13396,"* bd0804065daaa01ba478c0ed97f7411f1180eef9 Allow logging implementation to be interchanged for embedded testing
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/functions/JavaBasedUDFunction.java
  src/java/org/apache/cassandra/cql3/functions/ScriptBasedUDFunction.java
  src/java/org/apache/cassandra/security/SecurityThreadGroup.java
  src/java/org/apache/cassandra/security/ThreadAwareSecurityManager.java
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/utils/logging/LogbackLoggingSupport.java
  src/java/org/apache/cassandra/utils/logging/LoggingSupport.java
  src/java/org/apache/cassandra/utils/logging/LoggingSupportFactory.java
  src/java/org/apache/cassandra/utils/logging/NoOpFallbackLoggingSupport.java
  test/unit/org/apache/cassandra/cql3/CQLTester.java"
CASSANDRA-13399,"* b77e754a0cbaa9225d100a4361c3893c2d481611 UDA fails without input rows
  test/unit/org/apache/cassandra/cql3/validation/operations/AggregationTest.java"
CASSANDRA-13400,"* 828ca7cc925de90c3883e935c66f7beec6fa9113 Fix 2i page size calculation when there are no regular columns
  CHANGES.txt
  src/java/org/apache/cassandra/index/SecondaryIndexManager.java
  test/unit/org/apache/cassandra/index/internal/CassandraIndexTest.java"
CASSANDRA-13407,"* 31590f5da10de8bbcf36d19617ced02b37be2a57 Avoid starting gossiper in RemoveTest
  CHANGES.txt
  test/unit/org/apache/cassandra/service/RemoveTest.java"
CASSANDRA-1343,"* 5e1abef0b013de1069c7c2f2f7bb1b76920b5725 complain if there aren't enough nodes to support requested RF. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1343
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java"
CASSANDRA-13464,"* 44604b7316fcbfd7d0d7425e75cd7ebe267e3247 Reject token() in MV WHERE clause
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/WhereClause.java
  src/java/org/apache/cassandra/cql3/statements/CreateViewStatement.java
  test/unit/org/apache/cassandra/cql3/ViewSchemaTest.java"
CASSANDRA-1348,"* 2d26e6298d14e50186e765fcbe69cf94cac3cf12 make failure to remove comitlog segment non-fatal.  patch by jbellis; reviewed by gdusbabek for CASSANDRA-1348
  CHANGES.txt
  src/java/org/apache/cassandra/db/commitlog/CommitLog.java
* f571a4e1480e2fb3bee0ce6bdb547dfb6fb25f05 close commitlog reader before deleting it patch by jbellis; reviewed by gdusbabek for CASSANDRA-1348
  src/java/org/apache/cassandra/db/commitlog/CommitLog.java"
CASSANDRA-13482,"* 7251c9559805d83423ca5ddbe4f955ce668c3d9a Make concat work with iterators that have different subsets of columns
  CHANGES.txt
  src/java/org/apache/cassandra/db/SinglePartitionReadCommand.java
  src/java/org/apache/cassandra/db/rows/UnfilteredRowIterators.java
  src/java/org/apache/cassandra/db/transform/BaseIterator.java
  src/java/org/apache/cassandra/db/transform/BasePartitions.java
  src/java/org/apache/cassandra/db/transform/BaseRows.java
  src/java/org/apache/cassandra/db/transform/MoreRows.java
  src/java/org/apache/cassandra/db/transform/StoppingTransformation.java
  src/java/org/apache/cassandra/db/transform/Transformation.java
  src/java/org/apache/cassandra/db/transform/UnfilteredRows.java
  test/unit/org/apache/cassandra/db/RowCacheCQLTest.java
  test/unit/org/apache/cassandra/db/rows/UnfilteredRowIteratorsTest.java"
CASSANDRA-13559,"* 6b36d9f0506351f03555efaa3a0784d097913adf Ninja: update NEWS.txt for CASSANDRA-13559
  NEWS.txt
* f96a5dc5840c7d1fea99aa450543af8e889c161e Fix schema digest mismatch during rolling upgrades from versions before 3.0.13
  CHANGES.txt
  src/java/org/apache/cassandra/schema/SchemaKeyspace.java"
CASSANDRA-13592,"* cb6fad3efcd7cd3dc87d02ca7e8e97eb277a66ab Fix toJSONString for the UDT, tuple and collection types
  CHANGES.txt
  src/java/org/apache/cassandra/db/marshal/AbstractType.java
  src/java/org/apache/cassandra/db/marshal/EmptyType.java
  src/java/org/apache/cassandra/db/marshal/ListType.java
  src/java/org/apache/cassandra/db/marshal/MapType.java
  src/java/org/apache/cassandra/db/marshal/TupleType.java
  test/unit/org/apache/cassandra/cql3/CQLTester.java
  test/unit/org/apache/cassandra/cql3/validation/entities/JsonTest.java
  test/unit/org/apache/cassandra/db/marshal/JsonConversionTest.java"
CASSANDRA-13619,"* bb3b332c42256609275b214b7fbeceeecb6a3f30 Make isBuilt volatile in PartitionUpdate
  CHANGES.txt
  src/java/org/apache/cassandra/db/partitions/PartitionUpdate.java"
CASSANDRA-13658,"* 5ccbebaf85b61673bb8c34b1f435d730183587ee Allow noop incremental repair state transitions
  CHANGES.txt
  src/java/org/apache/cassandra/repair/consistent/ConsistentSession.java
  test/unit/org/apache/cassandra/repair/consistent/LocalSessionTest.java"
CASSANDRA-13660,"* 7df240e74f0bda9a15eff3c9de02eb0cd8771b20 Flush system.repair table before IR finalize promise
  CHANGES.txt
  src/java/org/apache/cassandra/repair/consistent/LocalSessions.java"
CASSANDRA-13669,"* ea62d8862c311e3d9b64d622bea0a68d3825aa7d Validate supported column type with SASI analyzer
  CHANGES.txt
  src/java/org/apache/cassandra/index/sasi/SASIIndex.java
  src/java/org/apache/cassandra/index/sasi/analyzer/AbstractAnalyzer.java
  src/java/org/apache/cassandra/index/sasi/analyzer/DelimiterAnalyzer.java
  src/java/org/apache/cassandra/index/sasi/analyzer/NoOpAnalyzer.java
  src/java/org/apache/cassandra/index/sasi/analyzer/NonTokenizingAnalyzer.java
  src/java/org/apache/cassandra/index/sasi/analyzer/StandardAnalyzer.java
  src/java/org/apache/cassandra/index/sasi/conf/IndexMode.java
  test/unit/org/apache/cassandra/index/sasi/SASIIndexTest.java"
CASSANDRA-13696,"* f919cf4a478cdbcb7864e8b47814a40bfcb343a7 Fix Digest mismatch Exception if hints file has UnknownColumnFamily
  CHANGES.txt
  src/java/org/apache/cassandra/hints/ChecksummedDataInput.java
  src/java/org/apache/cassandra/hints/HintsDescriptor.java
  src/java/org/apache/cassandra/hints/HintsReader.java
  test/unit/org/apache/cassandra/hints/HintsReaderTest.java"
CASSANDRA-13711,"* 9dc896f4ea51276de4ea76ffca3fd719e0c8b8a1 Invalid writetime for null columns in cqlsh
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/selection/Selection.java
  test/unit/org/apache/cassandra/cql3/validation/entities/TimestampTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectTest.java"
CASSANDRA-13723,"* ba87ab4e954ad2e537f6690953bd7ebaa069f5cd Explicitly use e.getMessage() for log message formatting
  src/java/org/apache/cassandra/auth/CassandraAuthorizer.java
  src/java/org/apache/cassandra/batchlog/BatchlogManager.java
  src/java/org/apache/cassandra/concurrent/AbstractLocalAwareExecutorService.java
  src/java/org/apache/cassandra/concurrent/SEPWorker.java
  src/java/org/apache/cassandra/db/Directories.java
  src/java/org/apache/cassandra/hints/HintsDispatchExecutor.java
  src/java/org/apache/cassandra/io/util/FileUtils.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/streaming/DefaultConnectionFactory.java
  src/java/org/apache/cassandra/utils/NativeLibrary.java"
CASSANDRA-1373,"* 2c64c97fb037407dc524a87ce18c150d766b3435 fix updating index when value is changed.  patch by jbellis; tested by Tyler Hobbs for CASSANDRA-1373
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/Table.java
  test/conf/cassandra.yaml
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java"
CASSANDRA-13737,"* 918667929f87a2e8e74913fe6d6e5dd137fe4e4f Skip materialized view addition if the base table doesn't exist
  CHANGES.txt
  src/java/org/apache/cassandra/db/view/ViewManager.java"
CASSANDRA-13747,"* a7cb009f8a3f4d0e0293111bfcfff3d404a37a89 Fix AssertionError in short read protection
  CHANGES.txt
  src/java/org/apache/cassandra/db/partitions/UnfilteredPartitionIterators.java
  src/java/org/apache/cassandra/db/transform/EmptyPartitionsDiscarder.java
  src/java/org/apache/cassandra/db/transform/Filter.java
  src/java/org/apache/cassandra/db/transform/FilteredPartitions.java
  src/java/org/apache/cassandra/db/transform/FilteredRows.java
  src/java/org/apache/cassandra/metrics/TableMetrics.java
  src/java/org/apache/cassandra/service/DataResolver.java"
CASSANDRA-1377,"* 7674982d1c18d119de7c0103a9d6280eab3469b6 CHANGES.txt and NEWS.txt update explaining the ramifications of CASSANDRA-1377
  CHANGES.txt
  NEWS.txt
* ccb593237f55e3bc0f144f09ca5454dda7f9ca38 disallow invalid ks+cf names. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1377
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/migration/AddColumnFamily.java
  src/java/org/apache/cassandra/db/migration/AddKeyspace.java
  src/java/org/apache/cassandra/db/migration/Migration.java
  src/java/org/apache/cassandra/db/migration/RenameColumnFamily.java
  src/java/org/apache/cassandra/db/migration/RenameKeyspace.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/system/test_thrift_server.py
  test/unit/org/apache/cassandra/db/DefsTest.java"
CASSANDRA-1378,"* 927136634449e66adc222f42b2063071295cf08b handle graveyard cleanups gracefully when there is nothing to delete. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1378
  CHANGES.txt
  src/java/org/apache/cassandra/db/CompactionManager.java
  test/system/test_thrift_server.py
* 9f9ac5d562d9979a081825dae2e27666d1533fbb trap ConfigExceptions so they don't become RTEs. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1378
  src/java/org/apache/cassandra/db/DefinitionsUpdateResponseVerbHandler.java
  src/java/org/apache/cassandra/service/MigrationManager.java"
CASSANDRA-1382,"* 29b213fb428d47f7bdb2771e266574d72665265c missed CHANGES.txt for CASSANDRA-1382
| CHANGES.txt
* e17e22a80ad1064c4c505f5bab7ffb7ea37db02f separate CFS dir cleanup from CFS instantiation. fixes race condition. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1382
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/io/sstable/SSTable.java"
CASSANDRA-13831,"* bab76eba958241bbfca33e9fc6fe663ce230b034 NettyFactoryTest is failing in trunk on MacOS
  CHANGES.txt
  src/java/org/apache/cassandra/net/async/NettyFactory.java
  src/java/org/apache/cassandra/service/NativeTransportService.java
  test/unit/org/apache/cassandra/net/async/NettyFactoryTest.java"
CASSANDRA-1384,"* 96e0ed42c1677a1ab8eb4353e516d4c166691f3d trap ConfigExceptions so they don't become RTEs. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1384
  src/java/org/apache/cassandra/db/DefinitionsUpdateResponseVerbHandler.java
  src/java/org/apache/cassandra/service/MigrationManager.java
* 91c3ecc4ed439664602faf824576a92c5988cb9b revert last change (committed wrong branch CASSANDRA-1384)
  src/java/org/apache/cassandra/db/DefinitionsUpdateResponseVerbHandler.java
  src/java/org/apache/cassandra/service/MigrationManager.java"
CASSANDRA-13897,"* 5b23054f10f4d6553e8dacbf53bd59e552f2a031 Round buffer size to powers of 2 for the chunk cache
  CHANGES.txt
  src/java/org/apache/cassandra/cache/ChunkCache.java
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/io/util/DiskOptimizationStrategy.java
  src/java/org/apache/cassandra/io/util/FileHandle.java
  test/unit/org/apache/cassandra/io/util/DiskOptimizationStrategyTest.java"
CASSANDRA-13899,"* d080a73723d9aa402507c1ae04eef92ff6d44948 Fix buffer length comparison when decompressing in netty-based streaming
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/compress/CompressedInputStream.java"
CASSANDRA-13917,"* b907dc9689dd04ebae1f765570401d1f20a88ebd Make sure that hidden columns are only hidden from CQL
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/cql3/ColumnIdentifier.java
  src/java/org/apache/cassandra/cql3/Relation.java
  src/java/org/apache/cassandra/cql3/selection/Selectable.java
  src/java/org/apache/cassandra/cql3/statements/CreateIndexStatement.java
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/db/AbstractReadCommandBuilder.java
  src/java/org/apache/cassandra/db/RowUpdateBuilder.java
  test/unit/org/apache/cassandra/cql3/ViewTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/InsertTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectTest.java
  test/unit/org/apache/cassandra/index/internal/CassandraIndexTest.java
* 0c54cc98595b4879c9a634737674fd36fd1c46d0 Queries on hidden columns act as if these columns do not exist
  src/java/org/apache/cassandra/config/CFMetaData.java
  test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/CreateTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/DeleteTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/InsertTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/UpdateTest.java
  test/unit/org/apache/cassandra/db/PartitionRangeReadTest.java"
CASSANDRA-13938,"* 602a5eef177ac65020470cb0fcf8d88d820ab888 Fix and optimise partial compressed sstable streaming
  CHANGES.txt
  src/java/org/apache/cassandra/db/streaming/CassandraCompressedStreamReader.java
  src/java/org/apache/cassandra/db/streaming/CassandraCompressedStreamWriter.java
  src/java/org/apache/cassandra/db/streaming/CompressedInputStream.java
  src/java/org/apache/cassandra/io/compress/CompressionMetadata.java
  src/java/org/apache/cassandra/io/util/RebufferingInputStream.java
  test/distributed/org/apache/cassandra/distributed/test/RepairTest.java"
CASSANDRA-13939,"* 5378ba27ff66b4f39e34d613f99b0f2eddf7990d Fix handling of cells for removed column when reading legacy sstables
  src/java/org/apache/cassandra/db/LegacyLayout.java
  src/java/org/apache/cassandra/db/UnfilteredDeserializer.java"
CASSANDRA-13948,"* 25e46f05294fd42c111f2f1d5881082d97c572ea Reload compaction strategies when disk boundaries are invalidated
  CHANGES.txt
  src/java/org/apache/cassandra/db/Directories.java
  src/java/org/apache/cassandra/db/DiskBoundaries.java
  src/java/org/apache/cassandra/db/DiskBoundaryManager.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/compaction/CompactionStrategyManager.java
  src/java/org/apache/cassandra/db/compaction/Scrubber.java
  src/java/org/apache/cassandra/db/compaction/SizeTieredCompactionStrategy.java
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/db/compaction/CompactionStrategyManagerTest.java
  test/unit/org/apache/cassandra/db/compaction/CompactionsCQLTest.java"
CASSANDRA-13949,"* bbda20155ae0f3443cbb5fee0659234e81b2e914 Update jackson JSON jars
  CHANGES.txt
  lib/jackson-core-asl-1.9.13.jar
  lib/jackson-core-asl-1.9.2.jar
  lib/jackson-mapper-asl-1.9.13.jar
  lib/licenses/jackson-core-asl-1.9.13.txt
  lib/licenses/jackson-mapper-asl-1.9.13.txt"
CASSANDRA-1402,"* 84aab33341b22b44bd4adfe8a8d34d3f15e86f25 fix sharded lock hashing on index write path.  patch by jbellis; reviewed by eevans for CASSANDRA-1402
  src/java/org/apache/cassandra/db/Table.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java"
CASSANDRA-14066,"* 882c28230ef3b31bd17689d51e83ea624116c769 Fix CommitLogReplayer exception for CDC data
  CHANGES.txt
  src/java/org/apache/cassandra/db/commitlog/CommitLogReplayer.java"
CASSANDRA-14080,"* 68079e4b2ed4e58dbede70af45414b3d4214e195 Handle incompletely written hint descriptors during startup
  CHANGES.txt
  src/java/org/apache/cassandra/hints/ChecksumMismatchException.java
  src/java/org/apache/cassandra/hints/HintsCatalog.java
  src/java/org/apache/cassandra/hints/HintsDescriptor.java"
CASSANDRA-14087,"* 8f840a3c03d55ae859fbcc0178685a948cb1ade0 ninja: assertion should have been removed in CASSANDRA-14087
  src/java/org/apache/cassandra/cql3/Terms.java
* 2c150980cc1bfea81fd039f304e74fc2fb30fb45 Fix NPE when performing comparison against a null frozen in LWT
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/ColumnCondition.java
  test/unit/org/apache/cassandra/cql3/validation/operations/InsertUpdateIfConditionTest.java"
CASSANDRA-14088,"* f9de26a79de02e61624994e67e64f2c93fb5a35b Accept role names containing forward-slash
  CHANGES.txt
  src/java/org/apache/cassandra/auth/RoleResource.java
  test/unit/org/apache/cassandra/cql3/validation/miscellaneous/RoleSyntaxTest.java"
CASSANDRA-14106,"* 1db54a1266a68d9c765c0fa248277635c4520f6d Fix cassandra-stress startup failure
  CHANGES.txt
  tools/stress/src/org/apache/cassandra/stress/generate/Distribution.java
  tools/stress/test/unit/org/apache/cassandra/stress/generate/DistributionGaussianTest.java"
CASSANDRA-14139,"* fe0ee85c71faada0acb48a65f249575c65bf0972 Acquire read lock before accessing CompactionStrategyManager fields
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionStrategyManager.java"
CASSANDRA-14166,"* 58e6c55e17d6b75328b065e093d51c08b8844004 Don't regenerate bloomfilter and summaries on startup
  CHANGES.txt
  NEWS.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/io/sstable/format/SSTableReader.java
  test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java"
CASSANDRA-14167,"* 93012e43ea03411456c20e7cec1ede73ff46b7d2 Ignore empty Counter cells on digest calculation.
  CHANGES.txt
  src/java/org/apache/cassandra/db/context/CounterContext.java
  test/unit/org/apache/cassandra/db/CounterCellTest.java"
CASSANDRA-14173,"* 28ee665b3c0c9238b61a871064f024d54cddcc79 Remove dependencies on JVM internals for JMX support
  CHANGES.txt
  src/java/org/apache/cassandra/utils/JMXServerUtils.java"
CASSANDRA-14286,"* 594cde7937de6f848998bac35d35591f8a18aa10 Fix JSON queries with IN restrictions and ORDER BY clause
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/ResultSet.java
  src/java/org/apache/cassandra/cql3/selection/Selection.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  test/unit/org/apache/cassandra/cql3/validation/entities/JsonTest.java"
CASSANDRA-1435,"* c450da88083342f1fc3aea388f13a572b29c1ada avoid attempting to keep CL header constant size (schema change can defeat this); it's not necessary now that header is a separate file now.  forceNewSegment was attempting to start a new CL header when the schema changed, which was race-prone. patch by jbellis; reviewed by gdusbabek for CASSANDRA-1435
  CHANGES.txt
  src/java/org/apache/cassandra/db/commitlog/CommitLog.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogHeader.java
  src/java/org/apache/cassandra/db/migration/AddColumnFamily.java
  src/java/org/apache/cassandra/db/migration/AddKeyspace.java
  src/java/org/apache/cassandra/db/migration/DropColumnFamily.java
  src/java/org/apache/cassandra/db/migration/DropKeyspace.java
  src/java/org/apache/cassandra/db/migration/RenameColumnFamily.java
  src/java/org/apache/cassandra/db/migration/RenameKeyspace.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/db/commitlog/CommitLogHeaderTest.java"
CASSANDRA-14358,"* bfbc5274f2b3a5af2cbbe9679f0e78f1066ef638 Partitioned outbound internode TCP connections can occur when nodes restart
  CHANGES.txt
  NEWS.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/net/async/NettyFactory.java
  src/java/org/apache/cassandra/net/async/OutboundConnectionParams.java
  src/java/org/apache/cassandra/net/async/OutboundMessagingConnection.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/service/StorageServiceMBean.java
  src/java/org/apache/cassandra/streaming/DefaultConnectionFactory.java
  src/java/org/apache/cassandra/tools/NodeProbe.java
  src/java/org/apache/cassandra/tools/nodetool/GetTimeout.java
  test/unit/org/apache/cassandra/net/async/OutboundConnectionParamsTest.java"
CASSANDRA-14362,"* 70d95359d2dca1c35f573776d11ed87bb9b4b441 Bind to correct local address in 4.0 streaming
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/StreamSession.java"
CASSANDRA-14365,"* ae326eed2aa8f9c761fc7a0a872ce8172fde2f0f Fix Commit log replays when static column clustering keys are collections
  CHANGES.txt
  src/java/org/apache/cassandra/serializers/MapSerializer.java
  src/java/org/apache/cassandra/serializers/SetSerializer.java
  test/unit/org/apache/cassandra/db/commitlog/CommitLogTest.java"
CASSANDRA-14374,"* f165e72bf19e8d12457b8f569517012628513d24 Fix speculative retry parsing on non-english default Locale
  src/java/org/apache/cassandra/service/reads/PercentileSpeculativeRetryPolicy.java
  test/unit/org/apache/cassandra/service/reads/SpeculativeRetryParseTest.java"
CASSANDRA-1439,"* e766e15265b42e5717957df6af014ee72221efd8 Always use UTF-8 for hint keys.  Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-1439
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/db/RowMutationVerbHandler.java
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-14410,"* d6c049f0835f137fc07711ec5cf9adc323347c65 Fix error with non-existent table for nodetool tablehistograms
  CHANGES.txt
  src/java/org/apache/cassandra/tools/nodetool/TableHistograms.java"
CASSANDRA-14419,"* c4982587bfe3cb6946daa2912fe46146edef7fbf Restore resumable hints delivery
  CHANGES.txt
  src/java/org/apache/cassandra/hints/ChecksummedDataInput.java
  src/java/org/apache/cassandra/hints/CompressedChecksummedDataInput.java
  src/java/org/apache/cassandra/hints/HintsDispatchExecutor.java
  src/java/org/apache/cassandra/hints/HintsDispatcher.java
  src/java/org/apache/cassandra/hints/HintsReader.java
  src/java/org/apache/cassandra/hints/HintsService.java
  src/java/org/apache/cassandra/hints/HintsStore.java
  src/java/org/apache/cassandra/hints/InputPosition.java
  test/unit/org/apache/cassandra/hints/HintsCatalogTest.java
  test/unit/org/apache/cassandra/hints/HintsCompressionTest.java
  test/unit/org/apache/cassandra/hints/HintsServiceTest.java"
CASSANDRA-14426,"* 71a27ee2b93a47e177edc16571f91bb5d592899e This commit fixes NPE when the 'insert' section is missing from user-defined profile
  CHANGES.txt
  tools/stress/src/org/apache/cassandra/stress/StressProfile.java"
CASSANDRA-14450,"* 7068ef62548c1ff8d17be7d0a1e71a5f098010e6 Fix IllegalArgumentException if there is no text between two delimiters
  src/java/org/apache/cassandra/index/sasi/analyzer/DelimiterAnalyzer.java
  test/unit/org/apache/cassandra/index/sasi/analyzer/DelimiterAnalyzerTest.java"
CASSANDRA-14468,"* 4b00601e831690e4ccf4ea95f70c09381d0ce49a Fix reading columns with non-UTF names from schema
  CHANGES.txt
  src/java/org/apache/cassandra/config/ColumnDefinition.java
  src/java/org/apache/cassandra/cql3/ColumnIdentifier.java
  src/java/org/apache/cassandra/schema/SchemaKeyspace.java
  src/java/org/apache/cassandra/utils/NativeSSTableLoaderClient.java"
CASSANDRA-14481,"* 4f02db5c45ece38dda48e0d19667888e9f46536e Update documentation on cassandra integrated auth to show required permissions for nodetool role
  doc/source/operating/security.rst"
CASSANDRA-14525,"* a6196a3a79b67dc6577747e591456328e57c314f Do not enable native transport if bootstrap is pending
  CHANGES.txt
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/service/StorageServiceMBean.java
  src/java/org/apache/cassandra/tools/NodeProbe.java
  src/java/org/apache/cassandra/tools/nodetool/Join.java"
CASSANDRA-14574,"* 298416a7445aa50874caebc779ca3094b32f3e31 Incomplete handling of exceptions when decoding incoming messages
  CHANGES.txt
  src/java/org/apache/cassandra/net/async/BaseMessageInHandler.java
  src/java/org/apache/cassandra/net/async/MessageInHandler.java
  src/java/org/apache/cassandra/net/async/MessageInHandlerPre40.java
  test/microbench/org/apache/cassandra/test/microbench/MessageOutBench.java
  test/unit/org/apache/cassandra/net/async/MessageInHandlerTest.java"
CASSANDRA-1463,"* c933bb326899b83dd136f8a31b090849c802084c Java-based stress util.  Patch by Pavel Yaskevich, reviewed by brandonwilliams for CASSANDRA-1463
  contrib/stress/bin/stress
  contrib/stress/build.xml
  contrib/stress/src/org/apache/cassandra/contrib/stress/Session.java
  contrib/stress/src/org/apache/cassandra/contrib/stress/Stress.java
  contrib/stress/src/org/apache/cassandra/contrib/stress/tests/IndexedRangeSlicer.java
  contrib/stress/src/org/apache/cassandra/contrib/stress/tests/Inserter.java
  contrib/stress/src/org/apache/cassandra/contrib/stress/tests/MultiGetter.java
  contrib/stress/src/org/apache/cassandra/contrib/stress/tests/RangeSlicer.java
  contrib/stress/src/org/apache/cassandra/contrib/stress/tests/Reader.java
  contrib/stress/src/org/apache/cassandra/contrib/stress/util/OperationThread.java
  contrib/stress/src/org/apache/cassandra/contrib/stress/util/Range.java"
CASSANDRA-1467,"* cac6a28adda97e9f63cf2486476ebab7f29ae5ab broadcast removetoken using MOVE,NORMAL to preserve the coordinator state. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1467
| src/java/org/apache/cassandra/service/StorageService.java
| test/unit/org/apache/cassandra/service/MoveTest.java
* d6378a85b46f25b07919d3d48423b8d61fb18d98 remove unused code from SLB. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1467
| src/java/org/apache/cassandra/service/StorageLoadBalancer.java
* 9680a3febc9e1a3e06b9e1369bb8626e80770f44 expose endpoint states to jmx. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1467
  src/java/org/apache/cassandra/gms/FailureDetector.java
  src/java/org/apache/cassandra/gms/FailureDetectorMBean.java"
CASSANDRA-14672,"* d496dca6729853ece49d68c4837fed35149c95d0 Fix purging semi-expired RT boundaries in reversed iterators
  CHANGES.txt
  src/java/org/apache/cassandra/db/rows/RangeTombstoneBoundaryMarker.java
  test/unit/org/apache/cassandra/db/partitions/PurgeFunctionTest.java"
CASSANDRA-14757,"* 2ed2b87b634c1b9d9ec9b3ba3f580f1be753972a Fix accessing java.nio.Bits.totalCapacity in Java11
  src/java/org/apache/cassandra/service/GCInspector.java"
CASSANDRA-14762,"* 467068d1e9d84e6cca1f9dd5a4eff5f80d027c2e Transient node receives full data requests
  CHANGES.txt
  src/java/org/apache/cassandra/service/reads/AbstractReadExecutor.java
  src/java/org/apache/cassandra/service/reads/ShortReadPartitionsProtection.java
  src/java/org/apache/cassandra/service/reads/repair/AbstractReadRepair.java
  test/unit/org/apache/cassandra/service/reads/repair/BlockingReadRepairTest.java
  test/unit/org/apache/cassandra/service/reads/repair/DiagEventsBlockingReadRepairTest.java
  test/unit/org/apache/cassandra/service/reads/repair/ReadOnlyReadRepairTest.java"
CASSANDRA-1477,"* eb6c190be419a839fabcd74c77757d06459341bc CHANGES.txt update. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1477
| CHANGES.txt
* 77cebf97742c12ef4f097a662255c2497eb308c9 avro system tests. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1477
| test/system/test_avro_super.py
| test/system/test_avro_system.py
* e97db28277e3f9953d7dcb4ff65004ae2ccca4fc move directory scrubbing to startup. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1477
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/Table.java
| src/java/org/apache/cassandra/service/AbstractCassandraDaemon.java
* dc5da90c71ae7fe542543179d655791ad8ece946 revert r996974. fix by adding a switch to files() to allow it to be used to get valid files and generate a count. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1477
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/io/sstable/SSTable.java
  test/system/test_thrift_server.py
* 1ab976be2a46ca8bba16177a2246da496616a910 ensure that compacted sstables are excluded from newly instantiated readers. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1477
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTable.java
  test/system/test_thrift_server.py"
CASSANDRA-14772,"* 5242f7d4306f034f32e26834df06ff7fc85a3c16 Fix issues in audit / full query log interactions
  src/java/org/apache/cassandra/audit/AuditLogManager.java
  src/java/org/apache/cassandra/audit/BinAuditLogger.java
  src/java/org/apache/cassandra/audit/BinLogAuditLogger.java
  src/java/org/apache/cassandra/audit/DiagnosticEventAuditLogger.java
  src/java/org/apache/cassandra/audit/FileAuditLogger.java
  src/java/org/apache/cassandra/audit/IAuditLogger.java
  src/java/org/apache/cassandra/audit/NoOpAuditLogger.java
  src/java/org/apache/cassandra/auth/AuthEvents.java
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/cql3/CustomPayloadMirroringQueryHandler.java
  src/java/org/apache/cassandra/cql3/QueryEvents.java
  src/java/org/apache/cassandra/cql3/QueryHandler.java
  src/java/org/apache/cassandra/cql3/QueryProcessor.java
  src/java/org/apache/cassandra/fql/FullQueryLogger.java
  src/java/org/apache/cassandra/fql/FullQueryLoggerOptions.java
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/service/StorageProxyMBean.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/service/StorageServiceMBean.java
  src/java/org/apache/cassandra/tools/NodeProbe.java
  src/java/org/apache/cassandra/tools/nodetool/DisableFullQueryLog.java
  src/java/org/apache/cassandra/tools/nodetool/EnableFullQueryLog.java
  src/java/org/apache/cassandra/tools/nodetool/ResetFullQueryLog.java
  src/java/org/apache/cassandra/transport/messages/AuthResponse.java
  src/java/org/apache/cassandra/transport/messages/BatchMessage.java
  src/java/org/apache/cassandra/transport/messages/ExecuteMessage.java
  src/java/org/apache/cassandra/transport/messages/PrepareMessage.java
  src/java/org/apache/cassandra/transport/messages/QueryMessage.java
  src/java/org/apache/cassandra/utils/binlog/BinLog.java
  test/unit/org/apache/cassandra/audit/AuditLoggerAuthTest.java
  test/unit/org/apache/cassandra/audit/AuditLoggerTest.java
  test/unit/org/apache/cassandra/audit/BinAuditLoggerTest.java
  test/unit/org/apache/cassandra/audit/InMemoryAuditLogger.java
  test/unit/org/apache/cassandra/config/DatabaseDescriptorRefTest.java
  test/unit/org/apache/cassandra/cql3/CQLTester.java
  test/unit/org/apache/cassandra/cql3/CustomNowInSecondsTest.java
  test/unit/org/apache/cassandra/cql3/QueryEventsTest.java
  test/unit/org/apache/cassandra/fql/FullQueryLoggerTest.java
  test/unit/org/apache/cassandra/service/StorageServiceServerTest.java
  test/unit/org/apache/cassandra/transport/CQLUserAuditTest.java
  test/unit/org/apache/cassandra/transport/MessagePayloadTest.java
  test/unit/org/apache/cassandra/utils/binlog/BinLogTest.java
  tools/fqltool/src/org/apache/cassandra/fqltool/FQLQuery.java
  tools/fqltool/src/org/apache/cassandra/fqltool/FQLQueryReader.java
  tools/fqltool/src/org/apache/cassandra/fqltool/commands/Dump.java
  tools/fqltool/test/unit/org/apache/cassandra/fqltool/FQLReplayTest.java"
CASSANDRA-14773,"* 00fb6d76d0a97af06ba27c1180d6dcddfa337fea Fix overflows on StreamingTombstoneHistogramBuilder produced by large deletion times.
  CHANGES.txt
  src/java/org/apache/cassandra/utils/streamhist/StreamingTombstoneHistogramBuilder.java
  src/java/org/apache/cassandra/utils/streamhist/TombstoneHistogram.java
  test/unit/org/apache/cassandra/utils/streamhist/StreamingTombstoneHistogramBuilderTest.java"
CASSANDRA-14791,"* 73ebd200c04335624f956e79624cf8494d872f19 Create Temporary folder for CompressedInputStreamTest
  test/unit/org/apache/cassandra/streaming/compression/CompressedInputStreamTest.java"
CASSANDRA-14820,"* 4ae229f5cd270c2b43475b3f752a7b228de260ea Upgrade to 4.0 fails with NullPointerException
  doc/source/cql/ddl.rst
  pylib/cqlshlib/cql3handling.py
  pylib/cqlshlib/test/test_cqlsh_completion.py
  pylib/cqlshlib/test/test_cqlsh_output.py
  src/java/org/apache/cassandra/cql3/statements/schema/TableAttributes.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/TableCQLHelper.java
  src/java/org/apache/cassandra/metrics/KeyspaceMetrics.java
  src/java/org/apache/cassandra/metrics/TableMetrics.java
  src/java/org/apache/cassandra/schema/SchemaKeyspace.java
  src/java/org/apache/cassandra/schema/TableMetadata.java
  src/java/org/apache/cassandra/schema/TableParams.java
  src/java/org/apache/cassandra/service/AbstractWriteResponseHandler.java
  src/java/org/apache/cassandra/service/reads/repair/BlockingReadRepair.java
  test/unit/org/apache/cassandra/db/TableCQLHelperTest.java
  test/unit/org/apache/cassandra/service/reads/repair/AbstractReadRepairTest.java"
CASSANDRA-14841,"* 877b08eaf0e02542c9f6d9f8cd457a8e44b4febf Don't write to system_distributed.repair_history, system_traces.sessions, system_traces.events in mixed version 3.X/4.0 clusters
  CHANGES.txt
  NEWS.txt
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/gms/VersionedValue.java
  src/java/org/apache/cassandra/repair/SystemDistributedKeyspace.java
  src/java/org/apache/cassandra/tracing/TraceStateImpl.java
  test/unit/org/apache/cassandra/gms/GossiperTest.java"
CASSANDRA-14855,"* b82a42fd9ae99dc115ec04339f4265096bb45044 Disable immediate flusher by default for cassandra-3.0 and cassandra-3.11
| conf/cassandra.yaml
| src/java/org/apache/cassandra/config/Config.java
* fff6eec2903ee85f648535dd051c9bc72631f524 Backport ImmediateFlusher to cassandra-3.0 and cassandra-3.11
  CHANGES.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/transport/Message.java
  src/java/org/apache/cassandra/transport/Server.java"
CASSANDRA-14866,"* e6a61be8c857106d5d99a270b2d17de9f84c4d67 Add flag to disable SASI indexes, and warning on creation
  CHANGES.txt
  NEWS.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/cql3/statements/CreateIndexStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateViewStatement.java
  src/java/org/apache/cassandra/db/view/View.java
  src/java/org/apache/cassandra/index/sasi/SASIIndex.java
  test/unit/org/apache/cassandra/cql3/ViewTest.java
  test/unit/org/apache/cassandra/index/sasi/SASICQLTest.java"
CASSANDRA-14896,"* f3609995c09570d523527d9bd0fd69c2bc65d986 Correct the messaging versions used in ThirdHandshakeMessage.
  src/java/org/apache/cassandra/net/async/HandshakeProtocol.java
  src/java/org/apache/cassandra/net/async/OutboundHandshakeHandler.java
* c5dee08dfb791ba28fecc8ca8b25a4a4d7e9cb07 Send correct messaging version in internode messaging handshake's third message.
  CHANGES.txt
  src/java/org/apache/cassandra/net/async/OutboundHandshakeHandler.java
  test/unit/org/apache/cassandra/net/async/OutboundHandshakeHandlerTest.java"
CASSANDRA-14899,"* cf6f7920f7742bb9a17a23ad37499d9213807d81 Cannot perform slice reads in reverse direction against tables with clustering columns in mixed order
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/restrictions/PrimaryKeyRestrictionSet.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectMultiColumnRelationTest.java"
CASSANDRA-14900,"* 3d59557aceaaaedd8eafc4783394330d55a7fb4e don't log DigestMismatchException at DEBUG
  CHANGES.txt
  src/java/org/apache/cassandra/service/ReadCallback.java"
CASSANDRA-14909,"* e4d0ce6ba2d6088c7edf8475f02462e1606f606d Netty epoll IOExceptions caused by unclean client disconnects being logged at INFO
  CHANGES.txt
  src/java/org/apache/cassandra/transport/Message.java"
CASSANDRA-1493,"* 3d61dae55b2e5cbfe44a752d8a84ecfcdcd809fd Fix assertion error on read repair introduced by CASSANDRA-1465. Patch by johan, review by jbellis. CASSANDRA-1493
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-14959,"* f0494889176873b3f68ae14cc5f1d9dcbc189da9 ReadCommandVerbHandler validateTransientStatus class cast exception
  src/java/org/apache/cassandra/db/ReadCommandVerbHandler.java"
CASSANDRA-15041,"* b2f6953addfb1fce111d1b49627285d1a57a7f40 Handle exceptions during authentication/authorization
  CHANGES.txt
  src/java/org/apache/cassandra/auth/CassandraAuthorizer.java
  src/java/org/apache/cassandra/auth/CassandraRoleManager.java
  src/java/org/apache/cassandra/auth/PasswordAuthenticator.java
  src/java/org/apache/cassandra/auth/PermissionsCache.java
  src/java/org/apache/cassandra/auth/Roles.java
  src/java/org/apache/cassandra/auth/RolesCache.java
  src/java/org/apache/cassandra/exceptions/AuthenticationException.java
  src/java/org/apache/cassandra/exceptions/UnauthorizedException.java
  src/java/org/apache/cassandra/service/ClientState.java"
CASSANDRA-15050,"* a9a4f171be6c7d33ce43d04a9bc2dd20f3fd82a5 Fix JDK7 compatibility broken in cassandra-2.2
  CHANGES.txt
  build.xml
  src/java/org/apache/cassandra/utils/MBeanWrapper.java"
CASSANDRA-151,"* f2260f107bd2d71aed96e1199edfa5186b8b308f add more robust sanity checking of get_column arguments.  patch by jbellis; reviewed by Jun Rao for CASSANDRA-151
  src/java/org/apache/cassandra/service/CassandraServer.java
  test/system/test_server.py"
CASSANDRA-15142,"* 5bc7a375a3cac85e79543e7e30d620faeb891955 Fix errors on repairing empty keyspace
  src/java/org/apache/cassandra/repair/RepairRunnable.java"
CASSANDRA-15158,"* 921609eff7ab26f26ddc2bfa906d21f161e3ee69 ninja-fix: CHANGES.txt entry for CASSANDRA-15158 corrected to 3.11.10
  CHANGES.txt
* 17ebee3186d1bfdee9a2b355cb8f139492d144e8 CASSANDRA-15158 fixed SCHEMA_DELAY to use getSchemaDelay and no longer convert it from secones to millis (since its already millis)
  src/java/org/apache/cassandra/service/StorageService.java
* 08450080614250a8bfaba23dbca741a4d9315e3c Wait for schema agreement when bootstrapping
  CHANGES.txt"
CASSANDRA-15164,"* 5a39ff40780029c4d2125504b41fc7bf8e7fffe3 Avoid failing compactions with very large partitions
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/metadata/MetadataCollector.java
  src/java/org/apache/cassandra/io/sstable/metadata/StatsMetadata.java
  src/java/org/apache/cassandra/utils/EstimatedHistogram.java
  test/unit/org/apache/cassandra/io/sstable/metadata/MetadataSerializerTest.java
  test/unit/org/apache/cassandra/utils/EstimatedHistogramTest.java
  test/unit/org/apache/cassandra/utils/SerializationsTest.java
* 0361d53f4c9d350654fbf733cfdb208d17922027 Avoid failing compactions with very large partitions
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/metadata/MetadataCollector.java
  src/java/org/apache/cassandra/io/sstable/metadata/StatsMetadata.java
  src/java/org/apache/cassandra/utils/EstimatedHistogram.java
  test/unit/org/apache/cassandra/io/sstable/metadata/MetadataSerializerTest.java
  test/unit/org/apache/cassandra/utils/EstimatedHistogramTest.java
  test/unit/org/apache/cassandra/utils/SerializationsTest.java
* 4782fd399d97be551032576c4d77f079e862fdba Avoid failing compactions with very large partitions
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/metadata/MetadataCollector.java
  src/java/org/apache/cassandra/io/sstable/metadata/StatsMetadata.java
  src/java/org/apache/cassandra/utils/EstimatedHistogram.java
  test/unit/org/apache/cassandra/io/sstable/metadata/MetadataSerializerTest.java
  test/unit/org/apache/cassandra/utils/EstimatedHistogramTest.java
  test/unit/org/apache/cassandra/utils/SerializationsTest.java"
CASSANDRA-15172,"* 2b10a5f2b5e62f2900119a37e91637916e8b23df Fix LegacyLayout RangeTombstoneList IndexOutOfBoundsException when upgrading and RangeTombstone bounds are asymmetric.
  CHANGES.txt
  src/java/org/apache/cassandra/db/LegacyLayout.java
  test/unit/org/apache/cassandra/db/LegacyLayoutTest.java"
CASSANDRA-15191,"* db034609554a3185c0808cc67e9f0c148cc912c4 stop_paranoid disk failure policy is ignored on CorruptSSTableException after node is up
  CHANGES.txt
  src/java/org/apache/cassandra/concurrent/AbstractLocalAwareExecutorService.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/Directories.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogSegmentManager.java
  src/java/org/apache/cassandra/db/lifecycle/Tracker.java
  src/java/org/apache/cassandra/io/sstable/format/SSTableReader.java
  src/java/org/apache/cassandra/io/util/FileUtils.java
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  src/java/org/apache/cassandra/service/DefaultFSErrorHandler.java
  src/java/org/apache/cassandra/utils/JVMStabilityInspector.java
  test/distributed/org/apache/cassandra/distributed/impl/Instance.java
  test/distributed/org/apache/cassandra/distributed/test/JVMStabilityInspectorCorruptSSTableExceptionTest.java
  test/distributed/org/apache/cassandra/io/sstable/format/ForwardingSSTableReader.java
  test/unit/org/apache/cassandra/db/DirectoriesTest.java
  test/unit/org/apache/cassandra/utils/JVMStabilityInspectorTest.java"
CASSANDRA-15204,"* 855fc91596b10a89a504b3491952d06ffe93618d Toughen up column drop/recreate type validations
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java
  test/unit/org/apache/cassandra/cql3/validation/entities/CollectionsTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java"
CASSANDRA-153,"* fe3e1a8a097d2f78dfab6644750acefc6860b5b5 check for at-end-of-data in iterator init.  patch by jbellis; reviewed by Jun Rao for CASSANDRA-153
| src/java/org/apache/cassandra/db/FileStruct.java
* dfa41ec103130c173bcc210396f19c89f993086b cannonicalize all accesses to indexMetadataMap. patch by jbellis; reviewed by Jun Rao for CASSANDRA-153
| src/java/org/apache/cassandra/io/SSTable.java
| test/unit/org/apache/cassandra/io/SSTableTest.java
* 69bc7e97c8dfac3dc6bd3cbfd7fcb05de8d0aedc unit test to expose bug system test is running into.  patch by jbellis; reviewed by Jun Rao for CASSANDRA-153
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/MinorCompactionManager.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
* 44a0a3a54df3bf7236806266e9b9be37ce13cbaf fix CME during range queries -- keyset call needs to go on the memtable exector. patch by jbellis; tested by Tv for CASSANDRA-153
  src/java/org/apache/cassandra/db/Memtable.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/service/RangeVerbHandler.java
* 61a81504209e508f84b399d1f5009c176f4f9116 fix iteration bug.  it would always return hasNext=false if seekTo was called first.  fixing this with maybeInit proved difficult, so init is now done in constructor and iterator itself is created lazily. patch by jbellis; tested by nk11 for CASSANDRA-153
  src/java/org/apache/cassandra/db/FileStruct.java"
CASSANDRA-15308,"* abeaa3ea5ef99691cc1b29787cfcd573a90e34fb Fix ConnectionTest.testAcquireReleaseOutbound
  CHANGES.txt
  src/java/org/apache/cassandra/net/OutboundConnection.java
  test/unit/org/apache/cassandra/net/ConnectionTest.java"
CASSANDRA-15338,"* 753b40eb0f570fc88b5211b9bcea04761a240071 Fix flaky ConnectionTest#testMessagePurging patch by Yifan Cai; reviewed by Andres de la Pena for CASSANDRA-15338
  test/unit/org/apache/cassandra/net/ConnectionTest.java"
CASSANDRA-1534,"* 9e515d618b01876255b2a876fb7eabacaf85c8c2 fix setting bootstrap status on startup. patch by jbellis; reviewed by brandonwilliams for CASSANDRA-1534
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-15358,"* 443bca18839268cd100930b380e0534b052a8c89 LARGE_MESSAGE connection allocates heap buffer when BufferPool exhausted
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/net/AsyncStreamingOutputPlus.java
  src/java/org/apache/cassandra/net/LocalBufferPoolAllocator.java
  src/java/org/apache/cassandra/utils/memory/BufferPool.java
  src/java/org/apache/cassandra/utils/memory/MemoryUtil.java
  test/burn/org/apache/cassandra/utils/memory/LongBufferPoolTest.java
  test/unit/org/apache/cassandra/utils/memory/BufferPoolTest.java"
CASSANDRA-15363,"* 9081d0088119f02c8118598ac9fdb8ce39f0033b Avoid adding fake row deletions if they are superseeded by the partition deletion
  test/distributed/org/apache/cassandra/distributed/api/IInstance.java
  test/distributed/org/apache/cassandra/distributed/impl/DelegatingInvokableInstance.java
  test/distributed/org/apache/cassandra/distributed/impl/Instance.java
  test/distributed/org/apache/cassandra/distributed/upgrade/MixedModeReadRepairTest.java
  test/distributed/org/apache/cassandra/distributed/upgrade/UpgradeTestBase.java"
CASSANDRA-15383,"* f05cf4f21a938bffea27b9d31e1fb79f37c44e81 ninja fix: initialisation of DatabaseDescriptor in DistributedReadWritePathTest
  test/distributed/org/apache/cassandra/distributed/test/DistributedReadWritePathTest.java"
CASSANDRA-1540,"* 665965a2a2b6a168601573534df1e72e061498c2 Register CFS Mbean with the correct keyspace name.  Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-1540
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-15426,"* 4e6c0fadfe69419e0f6f7c3fa5960bdcd90d510a Fix NativeLibrary.tryOpenDirectory callers for Windows
  CHANGES.txt
  src/java/org/apache/cassandra/db/lifecycle/LogReplica.java
  src/java/org/apache/cassandra/hints/HintsCatalog.java"
CASSANDRA-1545,"* 009bd2c26a5a8b5935670e84b2f36244815979dc fix reading beta1 schema from beta2.  patch by jhermes; reviewed by Stu Hood and jbellis for CASSANDRA-1545
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/config/KSMetaData.java"
CASSANDRA-15468,"* b30ebb952c53a3dae078f6883b26feca685eb7cc Improve error when JVM 11 can't access required modules
  CHANGES.txt
  src/java/org/apache/cassandra/io/util/FileUtils.java"
CASSANDRA-15526,"* 731dfda99249c9b64fca5fa258c6078bfbe040ac Fixed empty check in TrieMemIndex due to potential state inconsistency in ConcurrentSkipListMap
  CHANGES.txt
  src/java/org/apache/cassandra/index/sasi/memory/KeyRangeIterator.java
  src/java/org/apache/cassandra/index/sasi/memory/SkipListMemIndex.java
  src/java/org/apache/cassandra/index/sasi/memory/TrieMemIndex.java"
CASSANDRA-15528,"* a01d05d9a73211fb91c068e133d78ef8ccf34b4e Ninja fix: fix eclipse warnings that were broken during CASSANDRA-15528
  src/java/org/apache/cassandra/index/sasi/memory/SkipListMemIndex.java
  src/java/org/apache/cassandra/index/sasi/memory/TrieMemIndex.java
* 1a735f36b988157f1e7143852c4e3749649ee25d Fixed flakey test in SASIIndexTest by shutting down its ExecutorService
  CHANGES.txt
  test/unit/org/apache/cassandra/index/sasi/SASIIndexTest.java"
CASSANDRA-15543,"* b6176906e71620b37920eaf84fa51516b046bdce Use immutable map for Read/WriteFailure exception and fix flaky test
  src/java/org/apache/cassandra/exceptions/ReadFailureException.java
  src/java/org/apache/cassandra/exceptions/RequestFailureException.java
  src/java/org/apache/cassandra/exceptions/WriteFailureException.java
  src/java/org/apache/cassandra/transport/messages/ErrorMessage.java
  test/distributed/org/apache/cassandra/distributed/test/SimpleReadWriteTest.java"
CASSANDRA-15550,"* 95224b71e19e2b7f18596da070937291f040f695 Wait for async abort to finish in StreamTransferTaskTest
  test/unit/org/apache/cassandra/streaming/StreamTransferTaskTest.java"
CASSANDRA-15551,"* 2344e77c026f1ecfed4f9ba84dab21ede2cf5b26 Fixed race condition in MoveTest by waiting for stale endpoints to be evicted from membership before starting another test.
  test/unit/org/apache/cassandra/service/MoveTest.java"
CASSANDRA-15552,"* 1ce58ac2ea945baaaeece233f3d3735686a2ecb8 Wait for compactions to finish in PendingAntiCompactionBytemanTest
  test/unit/org/apache/cassandra/db/repair/PendingAntiCompactionBytemanTest.java"
CASSANDRA-15557,"* 61b8a14a59e824854f87b54afc08289a3278942c Use ClientState timestamp for when dropping columns
  src/java/org/apache/cassandra/cql3/statements/schema/AlterTableStatement.java
  src/java/org/apache/cassandra/service/ClientState.java"
CASSANDRA-15558,"* 9fecb6674adc0b9cbbfb4b284cc4ab371edeaa09 Ensure tombstones can be purged in ReadCommandTest
  test/unit/org/apache/cassandra/db/ReadCommandTest.java"
CASSANDRA-15565,"* c81d7dcc09fa1c35f190f0baad764fbe8a024679 Use result size for built index test
  test/unit/org/apache/cassandra/index/internal/CassandraIndexTest.java"
CASSANDRA-15575,"* dc8f94a653a3cdb963bcc781562bb2fe63dbc575 Filter nulls from assertNoUnexpectedThreadsStarted.
  test/unit/org/apache/cassandra/tools/ToolsTester.java"
CASSANDRA-15592,"* 95197cef7871d1211f97da740dbdb236b81b9862 Run evictFromMembership in GossipStage
  CHANGES.txt
  src/java/org/apache/cassandra/gms/Gossiper.java
  test/unit/org/apache/cassandra/gms/ExpireEndpointTest.java"
CASSANDRA-15595,"* 4886968c4e973488df4f2da480785beff09b562b Fix chunk index overflow due to large sstable with small chunk length
  CHANGES.txt
  src/java/org/apache/cassandra/io/compress/CompressionMetadata.java
  test/unit/org/apache/cassandra/io/compress/CompressedRandomAccessReaderTest.java
* 04be7366fcf1b8edeb3495adcf37a171aa188d5c Fix chunk index overflow due to large sstable with small chunk length
  CHANGES.txt
  src/java/org/apache/cassandra/io/compress/CompressionMetadata.java
  test/unit/org/apache/cassandra/io/compress/CompressedRandomAccessReaderTest.java"
CASSANDRA-156,"* 3aca0737cb6b6b7c3217ddb6b05c99f5f4a5e170 another workaround for register/select wonkiness.  patch by jbellis; tested by Mark Robson for CASSANDRA-156
  src/java/org/apache/cassandra/net/SelectorManager.java"
CASSANDRA-15630,"* e08053b77cac4ec91fd398d7bad65bba1394f45f Fix race-conditions in ConnectionTesti
  test/unit/org/apache/cassandra/Util.java
  test/unit/org/apache/cassandra/net/ConnectionUtils.java"
CASSANDRA-15685,"* 7d4c2da7427392f506deaf832f2c66fc6a358688 Fix flaky testWithMismatchingPending - org.apache.cassandra.distributed.test.PreviewRepairTest
  test/distributed/org/apache/cassandra/distributed/test/PreviewRepairTest.java"
CASSANDRA-15692,"* e2d2bfd9ccd5fc5875ea9eae571c42732e701193 Initialize commitlog for ConnectionBurnTest due to CASSANDRA-15295
  test/burn/org/apache/cassandra/net/ConnectionBurnTest.java"
CASSANDRA-15708,"* 91ce0473833f87328e858001806b81c0686efe2a CASSANDRA-15708 followup - log warning if there is a missing field
| test/distributed/org/apache/cassandra/distributed/impl/InstanceConfig.java
* 479a76df2320856a0bcc5c202d40050c3b3ab14d Fix upgrade dtests
  test/distributed/org/apache/cassandra/distributed/UpgradeableCluster.java
  test/distributed/org/apache/cassandra/distributed/impl/InstanceConfig.java
  test/distributed/org/apache/cassandra/distributed/upgrade/UpgradeTestBase.java"
CASSANDRA-15726,"* fb9e74a4fe26eda988c0e98d578f7ded80a8c390 Fix buffer pool NPE with concurrent release due to in-progress tiny pool eviction
  CHANGES.txt
  src/java/org/apache/cassandra/utils/memory/BufferPool.java"
CASSANDRA-15757,"* f858a800f05d33679b2bce2a08a701b5e61f36bc Fix flaky test CustomIndexTest#indexBuildingPagesLargePartitions
  test/unit/org/apache/cassandra/index/CustomIndexTest.java"
CASSANDRA-15778,"* c4064dd80e427aec7c04e8e2e1e4630d6c8087b6 Allow recovery from the cases when CQL-created compact sense tables have bytes in EmptyType columns.
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java
  src/java/org/apache/cassandra/db/marshal/AbstractType.java
  src/java/org/apache/cassandra/schema/LegacySchemaMigrator.java
  src/java/org/apache/cassandra/serializers/EmptySerializer.java
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_bytes/legacy_tables-legacy_ka_cql_created_dense_table_with_bytes-ka-1-CompressionInfo.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_bytes/legacy_tables-legacy_ka_cql_created_dense_table_with_bytes-ka-1-Data.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_bytes/legacy_tables-legacy_ka_cql_created_dense_table_with_bytes-ka-1-Digest.sha1
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_bytes/legacy_tables-legacy_ka_cql_created_dense_table_with_bytes-ka-1-Filter.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_bytes/legacy_tables-legacy_ka_cql_created_dense_table_with_bytes-ka-1-Index.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_bytes/legacy_tables-legacy_ka_cql_created_dense_table_with_bytes-ka-1-Statistics.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_bytes/legacy_tables-legacy_ka_cql_created_dense_table_with_bytes-ka-1-Summary.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_bytes/legacy_tables-legacy_ka_cql_created_dense_table_with_bytes-ka-1-TOC.txt
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_int/legacy_tables-legacy_ka_cql_created_dense_table_with_int-ka-1-CompressionInfo.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_int/legacy_tables-legacy_ka_cql_created_dense_table_with_int-ka-1-Data.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_int/legacy_tables-legacy_ka_cql_created_dense_table_with_int-ka-1-Digest.sha1
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_int/legacy_tables-legacy_ka_cql_created_dense_table_with_int-ka-1-Filter.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_int/legacy_tables-legacy_ka_cql_created_dense_table_with_int-ka-1-Index.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_int/legacy_tables-legacy_ka_cql_created_dense_table_with_int-ka-1-Statistics.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_int/legacy_tables-legacy_ka_cql_created_dense_table_with_int-ka-1-Summary.db
  test/data/legacy-sstables/ka/legacy_tables/legacy_ka_cql_created_dense_table_with_int/legacy_tables-legacy_ka_cql_created_dense_table_with_int-ka-1-TOC.txt
  test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java
  test/unit/org/apache/cassandra/db/ScrubTest.java
  test/unit/org/apache/cassandra/db/marshal/EmptyTypeTest.java
  test/unit/org/apache/cassandra/io/sstable/LegacySSTableTest.java"
CASSANDRA-15825,"* bcc1174e9bba9ba0cacbc9356d48a7599c50e03e Fix CassandraStreamManagerTest.incrementalSSTableSelection flakiness
  test/unit/org/apache/cassandra/db/streaming/CassandraStreamManagerTest.java"
CASSANDRA-15830,"* ec1808a34f9aa5ae0b956c1527828566f4ba2be5 Fixes version used inside the rpm package
  CHANGES.txt
  redhat/cassandra.spec"
CASSANDRA-15842,"* 2621e07e87c1a5b53476871618740248d07607f2 Fix SchemaTest.testTransKsMigration-cdc and CQLSSTableWriterTest-cdc
  src/java/org/apache/cassandra/db/commitlog/CommitLogSegmentManagerCDC.java
  test/unit/org/apache/cassandra/io/sstable/CQLSSTableWriterTest.java
  test/unit/org/apache/cassandra/schema/SchemaTest.java"
CASSANDRA-15857,"* d51c18f807c5c88ef44114341592214747487645 Frozen RawTuple is not annotated with frozen in the toString method
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/CQL3Type.java
  src/java/org/apache/cassandra/cql3/statements/CreateAggregateStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateFunctionStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropAggregateStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropFunctionStatement.java
  test/unit/org/apache/cassandra/cql3/validation/entities/UFTest.java
  test/unit/org/apache/cassandra/cql3/validation/entities/UFTypesTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/AggregationTest.java
  test/unit/org/apache/cassandra/io/sstable/CQLSSTableWriterTest.java"
CASSANDRA-15861,"* f3bf0775a5a8bce228289c22b96d0c922cf2cb0d Mutating sstable component may race with entire-sstable-streaming(ZCS) causing checksum validation failure
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionStrategyManager.java
  src/java/org/apache/cassandra/db/compaction/LeveledManifest.java
  src/java/org/apache/cassandra/db/compaction/SingleSSTableLCSTask.java
  src/java/org/apache/cassandra/db/compaction/Verifier.java
  src/java/org/apache/cassandra/db/streaming/CassandraCompressedStreamReader.java
  src/java/org/apache/cassandra/db/streaming/CassandraCompressedStreamWriter.java
  src/java/org/apache/cassandra/db/streaming/CassandraEntireSSTableStreamReader.java
  src/java/org/apache/cassandra/db/streaming/CassandraEntireSSTableStreamWriter.java
  src/java/org/apache/cassandra/db/streaming/CassandraOutgoingFile.java
  src/java/org/apache/cassandra/db/streaming/CassandraStreamHeader.java
  src/java/org/apache/cassandra/db/streaming/CassandraStreamWriter.java
  src/java/org/apache/cassandra/db/streaming/ComponentContext.java
  src/java/org/apache/cassandra/db/streaming/ComponentManifest.java
  src/java/org/apache/cassandra/db/streaming/CompressedInputStream.java
  src/java/org/apache/cassandra/db/streaming/CompressionInfo.java
  src/java/org/apache/cassandra/io/sstable/Descriptor.java
  src/java/org/apache/cassandra/io/sstable/IndexSummaryManager.java
  src/java/org/apache/cassandra/io/sstable/SSTable.java
  src/java/org/apache/cassandra/io/sstable/format/SSTableReader.java
  src/java/org/apache/cassandra/io/sstable/format/SSTableReaderBuilder.java
  src/java/org/apache/cassandra/io/sstable/format/big/BigFormat.java
  src/java/org/apache/cassandra/io/sstable/format/big/BigTableReader.java
  src/java/org/apache/cassandra/io/sstable/format/big/BigTableWriter.java
  src/java/org/apache/cassandra/io/sstable/metadata/IMetadataSerializer.java
  src/java/org/apache/cassandra/io/sstable/metadata/MetadataSerializer.java
  src/java/org/apache/cassandra/net/BufferPoolAllocator.java
  src/java/org/apache/cassandra/streaming/OutgoingStream.java
  src/java/org/apache/cassandra/streaming/StreamSession.java
  src/java/org/apache/cassandra/streaming/StreamTransferTask.java
  test/distributed/org/apache/cassandra/io/sstable/format/ForwardingSSTableReader.java
  test/microbench/org/apache/cassandra/test/microbench/ZeroCopyStreamingBenchmark.java
  test/unit/org/apache/cassandra/Util.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
  test/unit/org/apache/cassandra/db/KeyspaceTest.java
  test/unit/org/apache/cassandra/db/lifecycle/LogTransactionTest.java
  test/unit/org/apache/cassandra/db/streaming/CassandraEntireSSTableStreamWriterTest.java
  test/unit/org/apache/cassandra/db/streaming/CassandraStreamHeaderTest.java
  test/unit/org/apache/cassandra/db/streaming/EntireSSTableStreamConcurrentComponentMutationTest.java
  test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java
  test/unit/org/apache/cassandra/streaming/EntireSSTableStreamingCorrectFilesCountTest.java
  test/unit/org/apache/cassandra/streaming/compression/CompressedInputStreamTest.java"
CASSANDRA-15869,"* 7cdad3ce61664cf2ffac75b6e537c910e573754c Avoid overflow when bloom filter size exceeds 2GB
  src/java/org/apache/cassandra/io/util/MemoryOutputStream.java"
CASSANDRA-15878,"* 6fc8920889e8537a1f56f45e6c966b3d18325fbb Fix upgrade failures when using the EC2Snitch in legacy mode
  CHANGES.txt
  src/java/org/apache/cassandra/locator/Ec2Snitch.java
  test/unit/org/apache/cassandra/locator/EC2SnitchTest.java"
CASSANDRA-15899,"* 31b9078a691a6f93b104cc6b3f72fe2fbf6557f6 Handle unexpected columns due to schema races
  CHANGES.txt
  src/java/org/apache/cassandra/config/ColumnDefinition.java
  src/java/org/apache/cassandra/db/Columns.java
  src/java/org/apache/cassandra/db/SerializationHeader.java
  src/java/org/apache/cassandra/db/UnknownColumnException.java
  src/java/org/apache/cassandra/db/filter/ColumnFilter.java
  src/java/org/apache/cassandra/db/partitions/PartitionUpdate.java
  src/java/org/apache/cassandra/db/rows/UnfilteredSerializer.java
  test/distributed/org/apache/cassandra/distributed/test/SchemaTest.java
  test/distributed/org/apache/cassandra/distributed/test/SimpleReadWriteTest.java
  test/unit/org/apache/cassandra/db/ColumnsTest.java"
CASSANDRA-15924,"* ab6a87bf60174d9a6e7cd727702da3004c0dbeeb Avoid emitting empty range tombstones from RangeTombstoneList
  CHANGES.txt
  src/java/org/apache/cassandra/db/RangeTombstoneList.java
  src/java/org/apache/cassandra/db/rows/RowAndDeletionMergeIterator.java
  test/distributed/org/apache/cassandra/distributed/test/ReadRepairTest.java"
CASSANDRA-15929,"* 3cca9ab22f6ff675c6332671da1304fac9aad77c Fix LZ4 startup check
  src/java/org/apache/cassandra/service/StartupChecks.java"
CASSANDRA-15946,"* 838bd8cae6d125cfb055dbf6bfc5a2d4e13cdfcb Correctly serialize all request responses - CASSANDRA-15946 followup
  src/java/org/apache/cassandra/net/Message.java
  src/java/org/apache/cassandra/net/RequestCallbacks.java
  src/java/org/apache/cassandra/net/Verb.java
  test/distributed/org/apache/cassandra/distributed/impl/Instance.java
  test/distributed/org/apache/cassandra/distributed/upgrade/Pre40MessageFilterTest.java
* 14d1e3eb91189e1684583918305116061eba6413 Fix communication between versions 3 and 4 in upgrade JVM DTests
  src/java/org/apache/cassandra/net/Verb.java
  test/distributed/org/apache/cassandra/distributed/impl/Instance.java"
CASSANDRA-15949,"* f670db4a0ec6c2d76b52fa1510f585c49b4f731e NPE thrown while updating speculative execution time if keyspace is removed during task execution
  CHANGES.txt
  src/java/org/apache/cassandra/db/Keyspace.java
  src/java/org/apache/cassandra/db/ReadCommand.java
  src/java/org/apache/cassandra/schema/Schema.java
  src/java/org/apache/cassandra/schema/SchemaProvider.java
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  test/unit/org/apache/cassandra/db/KeyspaceTest.java
  test/unit/org/apache/cassandra/net/MessageSerializationPropertyTest.java
  test/unit/org/apache/cassandra/service/OptionalTasksTest.java"
CASSANDRA-15958,"* ba63fa3c951cb5c18d0fa4f9483577c6e18389c4 Fix flaky test ConnectionTest.testMessagePurging
  src/java/org/apache/cassandra/net/InboundSockets.java
  src/java/org/apache/cassandra/net/OutboundConnection.java
  src/java/org/apache/cassandra/net/OutboundMessageQueue.java
  test/unit/org/apache/cassandra/net/ConnectionTest.java"
CASSANDRA-15959,"* 5d968e6d274f9743a777276d5b5ee09fa4db3254 computeMaxTTL directly before fetching TTL in TTLTest
  test/unit/org/apache/cassandra/cql3/validation/operations/TTLTest.java"
CASSANDRA-15965,"* 68aca1064be12697e5ff7f56b50e6808f5d5d020 Remove flaky channelRead_Normal test that wasn't doing much
  test/unit/org/apache/cassandra/streaming/async/StreamingInboundHandlerTest.java"
CASSANDRA-15970,"* b9053971ee9232b774c7175a6503f54947342266 3.x fails to start if commit log has range tombstones from a column which is also deleted
  src/java/org/apache/cassandra/utils/ByteBufferUtil.java"
CASSANDRA-15981,"* 528e3ad00b78f3cc03f27248914249798f2c0aa9 jvm-dtests crash on java 11
  build.xml"
CASSANDRA-15985,"* d3ddb190eed11dda305bcae75b6db9e0b9275459 Fix pycodestyle compliance Patch by Aleksandr Sorokoumov; reviewed by Ekaterina Dimitrova and Brandon Williams for CASSANDRA-15985
  bin/cqlsh.py
  pylib/cqlshlib/copyutil.py
  pylib/cqlshlib/cql3handling.py
  pylib/cqlshlib/formatting.py
  pylib/cqlshlib/wcwidth.py"
CASSANDRA-16002,"* 624d01660bdad4dc924717f4c602ce6241c0c825 jvm upgrade dtests fail on java 11 caused by bad initialization order of DatabaseDescriptor and FileUtils
  src/java/org/apache/cassandra/io/util/FileUtils.java
  test/distributed/org/apache/cassandra/distributed/impl/Instance.java"
CASSANDRA-16003,"* 9a23a8a6af5ab1ee8c947f363b0e32f71369746f ToolRunner added in CASSANDRA-15942 stdErr checks improvements
  test/unit/org/apache/cassandra/tools/ToolRunner.java"
CASSANDRA-16008,"* ed8005552376188abb81894fb8c9c611ebd6379a Fix ExceptionInInitializerError when data_file_directories is not set
  CHANGES.txt
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java"
CASSANDRA-16049,"* f866753b058fae2d73089710acd5628b7cff70c7 Read repair test with moving token should read at QUORUM
  test/distributed/org/apache/cassandra/distributed/test/ReadRepairTest.java"
CASSANDRA-16084,"* 9b6e54ee02dc68a99965f1ea9533fd5e781e4cbe Avoid trying to keep track of RTs for endpoints we won't write to during read repair
  CHANGES.txt
  src/java/org/apache/cassandra/service/reads/repair/RowIteratorMergeListener.java
  test/distributed/org/apache/cassandra/distributed/test/ReadRepairTest.java"
CASSANDRA-16086,"* 23ba48aa935d3f81e66b65285fa8e7972f94dcfe MessageSerializationPropertyTest fails with bytes should not be empty for type org.apache.cassandra.db.marshal.BytesType
  test/unit/org/apache/cassandra/utils/AbstractTypeGenerators.java"
CASSANDRA-16097,"* 4c103447af3c4829e3a1c733bed3952fd059af08 DigestResolver.getData throws AssertionError since dataResponse is null
  CHANGES.txt
  src/java/org/apache/cassandra/service/reads/AbstractReadExecutor.java
  src/java/org/apache/cassandra/service/reads/DigestResolver.java
  src/java/org/apache/cassandra/service/reads/ReadCallback.java
  test/distributed/org/apache/cassandra/distributed/test/ReadFailureTest.java
  test/unit/org/apache/cassandra/service/reads/ReadExecutorTest.java
* 3436c3efc0ff785137ac299e8e09085ffa526f5c DigestResolver.getData throws AssertionError since dataResponse is null
  CHANGES.txt
  src/java/org/apache/cassandra/service/reads/AbstractReadExecutor.java
  src/java/org/apache/cassandra/service/reads/DigestResolver.java
  src/java/org/apache/cassandra/service/reads/ReadCallback.java
  test/distributed/org/apache/cassandra/distributed/test/ReadFailureTest.java
  test/unit/org/apache/cassandra/service/reads/ReadExecutorTest.java"
CASSANDRA-16103,"* ce270081bc0bc8ffa0a7e1e5c04f30b5c1875a84 Invalid serialized size for responses caused by increasing message time by 1ms which caused extra bytes in size calculation
  CHANGES.txt
  src/java/org/apache/cassandra/net/Message.java
  test/unit/org/apache/cassandra/net/FramingTest.java
  test/unit/org/apache/cassandra/net/MessageSerializationPropertyTest.java
  test/unit/org/apache/cassandra/net/MessageTest.java
  test/unit/org/apache/cassandra/net/OutboundMessageQueueTest.java
  test/unit/org/apache/cassandra/utils/CassandraGenerators.java
  test/unit/org/apache/cassandra/utils/FixedMonotonicClock.java
  test/unit/org/apache/cassandra/utils/FreeRunningClock.java
  test/unit/org/apache/cassandra/utils/Generators.java"
CASSANDRA-16114,"* ec2f2e687dde75b30c09e0a676bb03fd62ac0cbb Avoid storing the last schema change in CQLTester
  test/unit/org/apache/cassandra/cql3/CQLTester.java
  test/unit/org/apache/cassandra/cql3/validation/entities/UFTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/AggregationTest.java"
CASSANDRA-16127,"* 521a6e2aa9f8a4bc95dd13e768ec6de33cf6fa15 Fixed a NullPointerException when calling nodetool enablethrift
  CHANGES.txt
  build.xml
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/distributed/org/apache/cassandra/distributed/impl/AbstractCluster.java
  test/distributed/org/apache/cassandra/distributed/impl/Instance.java
  test/distributed/org/apache/cassandra/distributed/shared/Byteman.java
  test/distributed/org/apache/cassandra/distributed/shared/Shared.java
  test/distributed/org/apache/cassandra/distributed/test/BootstrapBinaryDisabledTest.java
  test/distributed/org/apache/cassandra/distributed/test/ClientNetworkStopStartTest.java
  test/resources/byteman/stream_failure.btm"
CASSANDRA-16131,"* 2958c558707e3e2252bdd38d61981ce7eb138717 Fix null type returned in StreamMessage lookup
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/messages/StreamMessage.java
  test/unit/org/apache/cassandra/streaming/messages/StreamMessageTest.java"
CASSANDRA-16143,"* c6ea8fabf9f726a58b76ff6e41d21b650941f880 Add dedicated tcp user timeout for streaming connection
  CHANGES.txt
  conf/cassandra.yaml
  doc/source/configuration/cass_yaml_file.rst
  doc/source/operating/metrics.rst
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/metrics/StreamingMetrics.java
  src/java/org/apache/cassandra/net/OutboundConnectionSettings.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/service/StorageServiceMBean.java
  src/java/org/apache/cassandra/streaming/StreamSession.java
  src/java/org/apache/cassandra/tools/NodeProbe.java
  src/java/org/apache/cassandra/tools/nodetool/GetTimeout.java
  test/distributed/org/apache/cassandra/distributed/test/NodeToolTest.java
  test/distributed/org/apache/cassandra/distributed/test/metrics/StreamingMetricsTest.java"
CASSANDRA-16144,"* 67f0c3491a4a1966603ace4fe110b7cfc5b64e9c SSTableLoader will fail if encryption parameters are used due to CASSANDRA-16144
  src/java/org/apache/cassandra/tools/LoaderOptions.java
  test/unit/org/apache/cassandra/tools/LoaderOptionsTest.java
* f293376aa8dd315a208ef2f03bdcb7a84dcc675c TLS connections to the storage port on a node without server encryption configured causes java.io.IOException accessing missing keystore
  src/java/org/apache/cassandra/config/YamlConfigurationLoader.java
  test/distributed/org/apache/cassandra/distributed/impl/InstanceConfig.java"
CASSANDRA-16156,"* 3cba8d807a478a9ee7cc93e3fd50849cfe056fa0 Decomissioned nodes are picked for gossip when unreachable nodes are considered for gossiping
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/LoadBroadcaster.java"
CASSANDRA-16157,"* 5be83b6a72695253c552535d2b826209f144cc63 Fix NPEs when 3.0 messages get re-serialized for filtering on 4.0 nodes in in-JVM dtests.
  test/distributed/org/apache/cassandra/distributed/impl/Instance.java
  test/distributed/org/apache/cassandra/distributed/impl/MessageImpl.java
  test/distributed/org/apache/cassandra/distributed/upgrade/UpgradeTest.java"
CASSANDRA-1617,"* 00ff744620d5e9482c71ead358cb59e21d70b232 Add framing to hint destinations.  Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-1617
  src/java/org/apache/cassandra/db/RowMutationVerbHandler.java
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-16207,"* 3a05ed3ce15ab4dcd5f13b9b56c18c0198c0e203 Follow-up: fix test failures caused by 16207.
  test/distributed/org/apache/cassandra/distributed/impl/Instance.java
* 6eeca9d6cc482417fd4564302baa349ed76fd7ec Fix NPE when calling broadcast address on unintialized node
  test/distributed/org/apache/cassandra/distributed/upgrade/UpgradeTest.java"
CASSANDRA-16229,"* 12b610246bc42dc6af33abfe0885b2f989fc2c73 Don't manually remove endpoints in distributed tests
  src/java/org/apache/cassandra/gms/Gossiper.java
  test/distributed/org/apache/cassandra/distributed/action/GossipHelper.java
  test/distributed/org/apache/cassandra/distributed/impl/Instance.java
  test/distributed/org/apache/cassandra/distributed/test/ring/NodeNotInRingTest.java"
CASSANDRA-16236,"* 9b32b8a4369049aec6e0848d21f524a40d2c93f1 Fix flaky SSTableMetadataTest and SSTableMetadataTrackingTest
  test/unit/org/apache/cassandra/cql3/validation/miscellaneous/SSTableMetadataTrackingTest.java
  test/unit/org/apache/cassandra/io/sstable/SSTableMetadataTest.java"
CASSANDRA-16237,"* f88cd88419604dbe6f93389a7898d387f20bbf43 Fix flaky test mixedModeReadRepairUpdate - org.apache.cassandra.distributed.upgrade.MixedModeReadRepairTest
  test/distributed/org/apache/cassandra/distributed/upgrade/MixedModeReadRepairDeleteTest.java
  test/distributed/org/apache/cassandra/distributed/upgrade/MixedModeReadRepairTest.java
  test/distributed/org/apache/cassandra/distributed/upgrade/MixedModeReadRepairWriteTest.java
  test/distributed/org/apache/cassandra/distributed/upgrade/ReadRepairCompactStorageUpgradeTest.java
  test/distributed/org/apache/cassandra/distributed/upgrade/UpgradeTestBase.java"
CASSANDRA-16238,"* 3a610066eb3df5603d8a4d0fd491e0233c708eb5 Fix fat client removal race, show seed list when unable to contact any seeds and warn when empty
  CHANGES.txt
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/gms/ShadowRoundTest.java"
CASSANDRA-16241,"* beee6b441c71895ca7b2833631933a6a55b516c2 AbstractArrayClusteringPrefix now properly handles null clustering elements from compact (or previously compact) tables
  CHANGES.txt
  src/java/org/apache/cassandra/db/AbstractArrayClusteringPrefix.java
  test/distributed/org/apache/cassandra/distributed/upgrade/CompactStorage3to4UpgradeTest.java"
CASSANDRA-16247,"* 94663c314a8a2c69a90cc64ac7e60344ba1c60ce Relax < check to <= for NodeToolGossipInfoTest
  test/unit/org/apache/cassandra/tools/NodeToolGossipInfoTest.java"
CASSANDRA-16259,"* 6baeb9247b9156c08305326a77d8c27510d6cb40 Fix the counting of cells per partition
  CHANGES.txt
  src/java/org/apache/cassandra/db/transform/BaseIterator.java
* e96b60bd9f814ee1a911e8820b7e255d23e2f24e Fix the histogram merge of the table metrics
  CHANGES.txt
  src/java/org/apache/cassandra/metrics/ColumnFamilyMetrics.java
  test/unit/org/apache/cassandra/db/ColumnFamilyMetricTest.java"
CASSANDRA-16288,"* 2a135cad6d3e0e78aaeb60939161c951b262b2cc Include test jars in dtest uber jar
  build.xml"
CASSANDRA-16296,"* 87e4f31e30f6a89f1c17b5a9eb6406208e384d51 Fix node unable to join when RF > N in multi-DC with added warning
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/schema/AlterKeyspaceStatement.java
  src/java/org/apache/cassandra/cql3/statements/schema/CreateKeyspaceStatement.java
  src/java/org/apache/cassandra/dht/BootStrapper.java
  src/java/org/apache/cassandra/dht/RangeStreamer.java
  src/java/org/apache/cassandra/locator/AbstractReplicationStrategy.java
  src/java/org/apache/cassandra/locator/LocalStrategy.java
  src/java/org/apache/cassandra/locator/NetworkTopologyStrategy.java
  src/java/org/apache/cassandra/locator/SimpleStrategy.java
  src/java/org/apache/cassandra/locator/TokenMetadata.java
  src/java/org/apache/cassandra/service/ClientWarn.java
  test/unit/org/apache/cassandra/cql3/validation/operations/AlterTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/CreateTest.java
  test/unit/org/apache/cassandra/schema/CreateTableValidationTest.java"
CASSANDRA-16301,"* 47278ae3765fcf1532f20b0ade3f36f08a089630 Use a more informative message when rejecting OldNetworkTopologyStrategy
  .circleci/config.yml
  NEWS.txt
  src/java/org/apache/cassandra/locator/AbstractReplicationStrategy.java"
CASSANDRA-1631,"* 3f83c10ef103a485d12489cdcf62c702f859339c fix drop race with flush. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1631
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/CompactionManager.java
| src/java/org/apache/cassandra/db/Table.java
* f43e6217e3d38703eb81f2bc50db8d962de55d94 fix drop race with compaction. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1631
  src/java/org/apache/cassandra/db/CompactionManager.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/db/migration/DropColumnFamily.java
  src/java/org/apache/cassandra/db/migration/DropKeyspace.java"
CASSANDRA-16350,"* 7152d40bb372398bd40db1f649e8d644f90fbb44 Add autocomplete, errors for provide_overlapping_tombstones
  CHANGES.txt
  pylib/cqlshlib/cql3handling.py
  pylib/cqlshlib/test/test_cqlsh_completion.py
  src/java/org/apache/cassandra/schema/CompactionParams.java
  test/unit/org/apache/cassandra/db/compaction/CompactionsCQLTest.java"
CASSANDRA-16358,"* dfdb6e3d8ebd797bbda8bbe5e47b5228a9281839 Prevent NPE and increase timing windows in ProxyHandlerConnectionsTest
  test/unit/org/apache/cassandra/net/ProxyHandlerConnectionsTest.java
* c0b58de334290590cb4d8d90751a6bd6c9139e33 Increase ProxyHandlerConnectionsTest timeouts
  test/unit/org/apache/cassandra/net/ProxyHandlerConnectionsTest.java"
CASSANDRA-16362,"* 1b04702f351861e6fef8cf64fd26f65ec90e4c70 SSLFactory should initialize SSLContext before setting protocols
  src/java/org/apache/cassandra/security/SSLFactory.java
* 7637acc3d762047f2a478855eb4d239b4f314cd8 SSLFactory should initialize SSLContext before setting protocols
  CHANGES.txt
  src/java/org/apache/cassandra/config/EncryptionOptions.java
  src/java/org/apache/cassandra/security/SSLFactory.java
  src/java/org/apache/cassandra/tools/BulkLoader.java
  test/distributed/org/apache/cassandra/distributed/test/SSTableLoaderEncryptionOptionsTest.java
  test/unit/org/apache/cassandra/config/DatabaseDescriptorRefTest.java
  test/unit/org/apache/cassandra/db/virtual/SettingsTableTest.java
  tools/stress/src/org/apache/cassandra/stress/util/JavaDriverClient.java"
CASSANDRA-16365,"* 0a9e129e10203e28b22c547bd7e56a51b29d1265 Upgrade Jacoco to 0.8.6 (for Java 11 support) Patch by Jacek Lewandowski; reviewed by Michael Semb Wever for CASSANDRA-16365
  CHANGES.txt
  build.xml"
CASSANDRA-16381,"* 64f54f9fb0ac1fe2920f44379326cf076ab8aab8 Avoid processing redundant application states on endpoint changes
  CHANGES.txt
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/locator/RangesAtEndpoint.java"
CASSANDRA-16387,"* df0216c345b0b03f1b394fe092667e5d6bcd2957 Increase CASTest timeouts
  test/distributed/org/apache/cassandra/distributed/test/CASTest.java
* 1f686fd634dbe9b46c03629d2b3bfae345a151e3 Avoid pushing schema mutations when setting up distributed system keyspaces locally
  CHANGES.txt
  src/java/org/apache/cassandra/service/MigrationManager.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/distributed/org/apache/cassandra/distributed/impl/AbstractCluster.java
  test/distributed/org/apache/cassandra/distributed/test/InternodeEncryptionEnforcementTest.java"
CASSANDRA-16429,"* f32475a839e01e4eea3989871d293d70e8a360d7 Fix incorrect encoding for strings can be UTF8
  CHANGES.txt
  doc/source/cql/definitions.rst
  src/java/org/apache/cassandra/cql3/ResultSet.java
  src/java/org/apache/cassandra/transport/DataType.java
  test/unit/org/apache/cassandra/transport/SerDeserTest.java"
CASSANDRA-16435,"* 9bc8d0b452aeb7aaa2005e710fc3de0998172738 Avoid executing commands that have guaranteed empty bounds in slices filter
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/db/SinglePartitionReadCommand.java
  src/java/org/apache/cassandra/db/Slice.java
  src/java/org/apache/cassandra/db/filter/AbstractClusteringIndexFilter.java
  src/java/org/apache/cassandra/db/filter/ClusteringIndexFilter.java
  src/java/org/apache/cassandra/db/filter/ClusteringIndexSliceFilter.java
  test/distributed/org/apache/cassandra/distributed/test/PagingTest.java
  test/distributed/org/apache/cassandra/distributed/test/ReadRepairEmptyRangeTombstonesTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/SelectTest.java"
CASSANDRA-16444,"* e3902bcdad79dcef43562a075d6a130c6a77d63d Fix SASIIndexTest flakyness
  test/unit/org/apache/cassandra/index/sasi/SASIIndexTest.java"
CASSANDRA-1645,"* d3ec319f9fecaeaeda4cdbd8dc58f33f9f6fe5e5 CASSANDRA-1645, already committed in trunk
  src/java/org/apache/cassandra/dht/BytesToken.java
  src/java/org/apache/cassandra/utils/FBUtilities.java
* 15da7af65ffc60cf8d11880a923302aa84e1dfd6 BytesToken.convertByteBuffer duplicates the BB so other threads can trust its position. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1645
| src/java/org/apache/cassandra/dht/BytesToken.java
* 7a418c2c3b967ed5162c8ecf1edbbe08496a9e50 FBU.decodeToUtf8 duplicates the BB so other threads can trust its position. patch by gdusbabek, reviewed by jbellis. CASSANDRA-1645
  src/java/org/apache/cassandra/utils/FBUtilities.java
* 34302c394434dfda2d0d243e0fdcf7718a6cfe9b Return correct SpecificDatumReader for schema records.  Patch by Stu Hood, reviewed by brandonwilliams for CASSANDRA-1645.
  src/java/org/apache/cassandra/io/SerDeUtils.java"
CASSANDRA-16453,"* 6f13c864a02b32daa7696eca27431f5385a306df NPE in Slice#make on RT + partition deletion reconciliation on timestamp tie
  src/java/org/apache/cassandra/db/Slice.java
  src/java/org/apache/cassandra/service/reads/repair/RowIteratorMergeListener.java
  test/distributed/org/apache/cassandra/distributed/test/ReadRepairTest.java"
CASSANDRA-16457,"* e675a74d7303f10694e571594538a0462002051f Fix hint message re-serialization for in-jvm dtests
  test/distributed/org/apache/cassandra/distributed/impl/Instance.java
  test/distributed/org/apache/cassandra/distributed/test/MessageFiltersTest.java
  test/unit/org/apache/cassandra/hints/DTestSerializer.java"
CASSANDRA-16473,"* 2d9d17894dab365df09f515e37b62b658bce6594 Fix cassandra-stress JMX connection
  CHANGES.txt
  build.xml
  tools/stress/src/org/apache/cassandra/stress/report/StressMetrics.java
  tools/stress/test/unit/org/apache/cassandra/stress/settings/StressSettingsTest.java"
CASSANDRA-1649,"* 6af572671bcdd8d254bf12528661d751ac499452 move strategy creation into Table instantiation so it can't be out of sync patch by jbellis; tested by Paul Cannon for CASSANDRA-1649
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/dht/BootStrapper.java
  src/java/org/apache/cassandra/service/DatacenterQuorumResponseHandler.java
  src/java/org/apache/cassandra/service/DatacenterSyncWriteResponseHandler.java
  src/java/org/apache/cassandra/service/DatacenterWriteResponseHandler.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/locator/ReplicationStrategyEndpointCacheTest.java
  test/unit/org/apache/cassandra/locator/SimpleStrategyTest.java
  test/unit/org/apache/cassandra/service/AntiEntropyServiceTest.java"
CASSANDRA-16493,"* dd6c261119d29208f68c5037741e6390347f5c64 Add io.netty.tryReflectionSetAccessible=true to j11 server options in order to enable netty to use Unsafe direct byte buffer construction Patch by Sam Tunnicliffe; reviewed by Brandon Williams, Ekaterina Dimitrova and Berenguer Blasi for CASSANDRA-16493
  CHANGES.txt
  build.xml
  conf/jvm11-server.options"
CASSANDRA-16497,"* 86a3cfe2fa7d8dcf070fd8d3297cdabffe410934 Ignore LongSharedExecutorPoolTest until SEPThreadpool is re-evaluated post 4.0
  test/burn/org/apache/cassandra/concurrent/LongSharedExecutorPoolTest.java"
CASSANDRA-165,"* f86d47c242ffd6834a52985aed90abd8dd5aa9a5 to avoid adding work to terminating executor (which will raise an exception) we need to check for threshold violated _first_, and move puts to the new memtable once flush has started.  patch by jbellis; reviewed by Eric Evans for CASSANDRA-165
  src/java/org/apache/cassandra/db/Memtable.java"
CASSANDRA-16524,"* 27cc2fc3e275f56f1fa1df7285c389d5491acc8c Allow for setting buffer max capacity to increase it dynamically as needed
  CHANGES.txt
  src/java/org/apache/cassandra/net/BufferPoolAllocator.java
  src/java/org/apache/cassandra/net/GlobalBufferPoolAllocator.java
  test/unit/org/apache/cassandra/net/BufferPoolAllocatorTest.java"
CASSANDRA-16526,"* d421e82ee0ffd66d3f382bfbe0b69b7b275edce3 Modernize temp dir creation, wrap truncation with flakyTest
  test/unit/org/apache/cassandra/utils/binlog/BinLogTest.java"
CASSANDRA-16529,"* 932b0a483eb9f7cfd23b29cb90b328e1825a02bc make cassandra-stress -node work with host:port
  CHANGES.txt
  test/unit/org/apache/cassandra/tools/cassandrastress/CassandrastressTest.java
  tools/stress/src/org/apache/cassandra/stress/util/JavaDriverClient.java"
CASSANDRA-16532,"* 6115a02021c86028c0cc5a510452454cc8b4d2c2 CASSANDRA-16532 Fix flaky testSkipScrubCorruptedCounterRowWithTool
  test/unit/org/apache/cassandra/db/ScrubTest.java"
CASSANDRA-1655,"* cf1a65498b6c01405e47511df76402a08ab7127d avoid initializing DatabaseDescriptor during CFMetadata construction.  patch by Stu Hood; reviewed by jbellis for CASSANDRA-1655
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java"
CASSANDRA-16554,"* a1285ac92ded45ab6e9f6c7c98917daf14a4a320 Fix race between secondary index building and active compactions tracking
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/Scrubber.java
  src/java/org/apache/cassandra/db/compaction/Verifier.java
  src/java/org/apache/cassandra/io/sstable/KeyIterator.java
  src/java/org/apache/cassandra/io/sstable/ReducingKeyIterator.java
  src/java/org/apache/cassandra/io/util/RandomAccessReader.java
  test/unit/org/apache/cassandra/db/compaction/ActiveCompactionsTest.java"
CASSANDRA-16567,"* ca40e770a5bbdeed69700ae498866f940782864b Fix materialized view builders inserting truncated data
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/view/TableViews.java
  src/java/org/apache/cassandra/db/view/View.java
  src/java/org/apache/cassandra/db/view/ViewBuilder.java
  test/unit/org/apache/cassandra/cql3/ViewTest.java"
CASSANDRA-16577,"* 4164313f926b605a24395a8ca920e8bea0691204 Don't wait for migrations from removed nodes, mention flag to skip
  CHANGES.txt
  src/java/org/apache/cassandra/service/MigrationCoordinator.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/service/MigrationCoordinatorTest.java
* db6e70442ddfe1cd653a632b10ae3f951d8f7201 Don't wait for migrations from removed nodes, mention flag to skip
  CHANGES.txt
  src/java/org/apache/cassandra/service/MigrationCoordinator.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/service/MigrationCoordinatorTest.java
* f7365cb0d988ff8aecd20a18d70831d39954b4d4 Don't wait for migrations from removed nodes, mention flag to skip
  CHANGES.txt
  src/java/org/apache/cassandra/schema/MigrationCoordinator.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/schema/MigrationCoordinatorTest.java"
CASSANDRA-16581,"* 9c50b1f9a12a95b55851cc52d4b66440f9fafaea Failure to execute queries should emit a KPI other than read timeout/unavailable so it can be alerted/tracked
  CHANGES.txt
  src/java/org/apache/cassandra/metrics/ClientMetrics.java
  src/java/org/apache/cassandra/transport/Frame.java
  src/java/org/apache/cassandra/transport/Message.java
  src/java/org/apache/cassandra/transport/ProtocolException.java
  src/java/org/apache/cassandra/transport/SimpleClient.java
  src/java/org/apache/cassandra/utils/Throwables.java
  test/distributed/org/apache/cassandra/distributed/test/UnableToParseClientMessageTest.java
  test/unit/org/apache/cassandra/transport/MessagePayloadTest.java
  test/unit/org/apache/cassandra/transport/WrappedSimpleClient.java"
CASSANDRA-16582,"* d9e5dd2ff9be17b1ac32aa53a612117e63c40876 Fix mixed cluster GROUP BY queries
  CHANGES.txt
  src/java/org/apache/cassandra/db/filter/DataLimits.java
  test/distributed/org/apache/cassandra/distributed/upgrade/GroupByTest.java
  test/distributed/org/apache/cassandra/distributed/upgrade/UpgradeTestBase.java"
CASSANDRA-16585,"* 5cbdb2e58e870535af61204898a1e2bbf6cb5f64 Periodic failures in *RepairCoordinator*Test caused by race condition with nodetool repair
  CHANGES.txt
  src/java/org/apache/cassandra/repair/RepairRunnable.java
  test/distributed/org/apache/cassandra/distributed/test/RepairCoordinatorNeighbourDown.java"
CASSANDRA-16586,"* 27f1bdee5ecf37eda3dde6ea61a439bdda41ea0a Fix MixedModeAvailabilityV30Test.testAvailabilityV30ToV4 flakiness
  test/distributed/org/apache/cassandra/distributed/upgrade/MixedModeAvailabilityTestBase.java"
CASSANDRA-16588,"* f6d19512c4d79f800371da1e54dfe01cae5d894e Ignore stale ack in shadow round
  CHANGES.txt
  src/java/org/apache/cassandra/gms/EndpointState.java
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/gms/ShadowRoundTest.java"
CASSANDRA-16596,"* 3b1d7c36d18ce4b314b007ef439f860dd2ef7460 Test org.apache.cassandra.net.AsyncPromiseTest FAILED
  CHANGES.txt
  test/unit/org/apache/cassandra/net/TestAbstractPromise.java"
CASSANDRA-16598,"* 14fd0ad4e3102ec626af22e5007663526fbebbbe Fix StreamingMetricTests flakiness
  test/distributed/org/apache/cassandra/distributed/test/metrics/StreamingMetricsTest.java"
CASSANDRA-16601,"* b2e897f6a92b931f6f8595a2c0c8d12b04aaf601 CASSANDRA-16601 Flaky CassandraIndexTest
  test/unit/org/apache/cassandra/index/internal/CassandraIndexTest.java
* 4bfe68717d9a419ab6a0b3a681478b39117dee80 Flaky CassandraIndexTest
  test/unit/org/apache/cassandra/index/internal/CassandraIndexTest.java"
CASSANDRA-16607,"* 60cf948f8bfdc23e1f718967fdd365fc3da7919d Fix flaky MockMessagingServiceTest
  test/unit/org/apache/cassandra/gms/ShadowRoundTest.java
  test/unit/org/apache/cassandra/net/MockMessagingServiceTest.java
  test/unit/org/apache/cassandra/net/MockMessagingSpy.java"
CASSANDRA-16621,"* 78c6279658d5c18a8704a8e1ab1bc5200b8b1e0b Replace spinAsserts code with Awaitility code
  test/unit/org/apache/cassandra/Util.java
  test/unit/org/apache/cassandra/metrics/ThreadPoolMetricsTest.java"
CASSANDRA-16651,"* 5bd8207cd78d247b8110a49567c4787025f6cc4f Fix flaky test testHasVersion3Nodes - org.apache.cassandra.gms.GossiperTest
  CHANGES.txt
  test/unit/org/apache/cassandra/gms/GossiperTest.java"
CASSANDRA-16670,"* 6ad259238d82d7fe752eff6373d55bd225d8c630 Flaky ViewComplexTest, ViewFilteringTest and InsertUpdateIfConditionTest
  test/long/org/apache/cassandra/cql3/ViewComplexTest.java
  test/long/org/apache/cassandra/cql3/ViewFilteringTest.java
  test/unit/org/apache/cassandra/cql3/ViewComplexDeletionsTest.java
  test/unit/org/apache/cassandra/cql3/ViewComplexTTLTest.java
  test/unit/org/apache/cassandra/cql3/ViewComplexTest.java
  test/unit/org/apache/cassandra/cql3/ViewComplexUpdatesTest.java
  test/unit/org/apache/cassandra/cql3/ViewFilteringClusteringTest.java
  test/unit/org/apache/cassandra/cql3/ViewFilteringPKTest.java
  test/unit/org/apache/cassandra/cql3/ViewFilteringTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/InsertUpdateIfConditionCollectionsTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/InsertUpdateIfConditionStaticsTest.java
  test/unit/org/apache/cassandra/cql3/validation/operations/InsertUpdateIfConditionTest.java"
CASSANDRA-16684,"* 3875fd26ea3c16e57bf08454d570e3359d2ce5fc Mark MemtableSizeTest as flaky patch by Ekaterina Dimitrova, reviewed by Branimir Lambov for CASSANDRA-16684
  test/unit/org/apache/cassandra/cql3/MemtableSizeTest.java"
CASSANDRA-16685,"* 23ad7c301e227d5ea88cea0784b32e6351603912 Flaky ActiveRepairServiceTest.testRejectWhenPoolFullStrategy
  test/unit/org/apache/cassandra/service/ActiveRepairServiceTest.java"
CASSANDRA-16690,"* a9f472c432fbe5c45662837f7d7ee578f59fd862 Fix flaky NativeAllocatorTest.testBookKeeping test patch by Ekaterina Dimitrova; reviewed by Andres de la Pena and Berenguer Blasi for CASSANDRA-16690
  test/unit/org/apache/cassandra/utils/memory/NativeAllocatorTest.java"
CASSANDRA-16692,"* 5f09226a0d56f6d2d5e60f83465f9f17beed0572 Don't wait on schema versions from replacement target when replacing a node
  CHANGES.txt
  src/java/org/apache/cassandra/service/MigrationCoordinator.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/distributed/org/apache/cassandra/distributed/test/MigrationCoordinatorTest.java
  test/unit/org/apache/cassandra/service/MigrationCoordinatorTest.java"
CASSANDRA-16720,"* 1b24f3e1a772127c716c75b47651646087030ee0 Ignore in-jvm FqlReplayDDLExclusionTest in favor of python dtest.
  test/distributed/org/apache/cassandra/distributed/test/FqlReplayDDLExclusionTest.java"
CASSANDRA-16750,"* a4af55fe2af836904004c4db1aa6a87cea18ee92 Flaky AlibabaCloudSnitchTest
  src/java/org/apache/cassandra/db/commitlog/AbstractCommitLogSegmentManager.java
  test/unit/org/apache/cassandra/locator/AlibabaCloudSnitchTest.java
  test/unit/org/apache/cassandra/locator/CloudstackSnitchTest.java
  test/unit/org/apache/cassandra/locator/EC2SnitchTest.java
  test/unit/org/apache/cassandra/locator/GoogleCloudSnitchTest.java"
CASSANDRA-16754,"* f329c63d86e8e123be360004fb61bf6c08f8b01a Fix flaky dtest SchemaTest not waiting for node shutdown before restart
  test/distributed/org/apache/cassandra/distributed/test/SchemaTest.java"
CASSANDRA-16756,"* d07239362377d71f1a46a9bd6d97398e4d14d719 Fix test testNullClusteringValues - org.apache.cassandra.distributed.upgrade.CompactStorage3to4UpgradeTest
  test/distributed/org/apache/cassandra/distributed/upgrade/CompactStorage3to4UpgradeTest.java
* 418bf140167c7d156b446acc59e13aeee91d675d Fix test testNullClusteringValues - org.apache.cassandra.distributed.upgrade.CompactStorage3to4UpgradeTest
  test/distributed/org/apache/cassandra/distributed/upgrade/CompactStorage3to4UpgradeTest.java"
CASSANDRA-16758,"* 636e8b99226703d643cc4b30e5c30a64ce830434 Fix flaky ClientResourceLimitsTest
  test/unit/org/apache/cassandra/cql3/CQLTester.java
  test/unit/org/apache/cassandra/transport/ClientResourceLimitsTest.java"
CASSANDRA-16771,"* cfefdfd76e4ac35ee748132013718e7196b04742 Flaky MessageFiltersTest patch by Berenguer Blasi; reviewed by Brandon Williams, Ekaterina Dimitrova for CASSANDRA-16771
  test/distributed/org/apache/cassandra/distributed/test/MessageFiltersTest.java"
CASSANDRA-16807,"* 93496e826e7382adf52a99d4df38e73a43f892de Avoid signaling DigestResolver until the minimum number of responses are guaranteed to be visible
  CHANGES.txt
  src/java/org/apache/cassandra/service/reads/ReadCallback.java
  test/unit/org/apache/cassandra/service/reads/DigestResolverTest.java"
CASSANDRA-16808,"* 4d4e1e88d095e10d53b59bf004a59709c3cee186 Fix pre-4.0 FWD_FRM parameter serializer
  CHANGES.txt
  src/java/org/apache/cassandra/db/MutationVerbHandler.java
  src/java/org/apache/cassandra/locator/InetAddressAndPort.java
  src/java/org/apache/cassandra/net/ForwardingInfo.java
  src/java/org/apache/cassandra/net/Message.java
  src/java/org/apache/cassandra/net/ParamType.java
  test/distributed/org/apache/cassandra/distributed/UpgradeableCluster.java
  test/distributed/org/apache/cassandra/distributed/upgrade/MixedModeMessageForwardTest.java
  test/distributed/org/apache/cassandra/distributed/upgrade/UpgradeTestBase.java"
CASSANDRA-16836,"* 99e1fcc251bd498abab17a59a9fc9593d242671b Materialized views incorrect quoting of UDF
  src/java/org/apache/cassandra/cql3/functions/FunctionCall.java
  src/java/org/apache/cassandra/cql3/functions/FunctionName.java
  test/unit/org/apache/cassandra/cql3/ViewTest.java"
CASSANDRA-16847,"* 5cdddcf393145b4fb794cc4a73391fad78f58bac Make assassinate more resilient to missing tokens
  CHANGES.txt
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/locator/TokenMetadata.java"
CASSANDRA-1715,"* 477eecb1cc5bcc5fa10e130c93a54864d1f56f86 fix flush and compaction races with schema updates. patch by gdusbabek and jbellis. CASSANDRA-1715
  CHANGES.txt
  src/avro/internode.genavro
  src/java/org/apache/cassandra/avro/CassandraServer.java
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/ColumnDefinition.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/CompactionManager.java
  src/java/org/apache/cassandra/db/RowIteratorFactory.java
  src/java/org/apache/cassandra/db/RowMutation.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/db/commitlog/CommitLog.java
  src/java/org/apache/cassandra/db/migration/DropColumnFamily.java
  src/java/org/apache/cassandra/db/migration/DropKeyspace.java
  src/java/org/apache/cassandra/db/migration/Migration.java
  src/java/org/apache/cassandra/db/migration/UpdateColumnFamily.java
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/streaming/StreamInSession.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java
  src/java/org/apache/cassandra/utils/DefaultDouble.java
  src/java/org/apache/cassandra/utils/DefaultInteger.java
  test/long/org/apache/cassandra/db/LongCompactionSpeedTest.java
  test/system/test_thrift_server.py
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
  test/unit/org/apache/cassandra/db/DefsTest.java
  test/unit/org/apache/cassandra/io/sstable/SSTableWriterTest.java
* 78bfb1ea24927b0daf2c2ab925c123640df3ad2a remove locks from UpdateColumnFamily. patch by jbellis, reviewed by gdusbabek. CASSANDRA-1715
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/commitlog/CommitLog.java
| src/java/org/apache/cassandra/db/migration/UpdateColumnFamily.java
* 3c58e6848ba94b054b7e157f0c9b726d974208f3 make addIndex asynchronous and race proof. patch by jbellis, reviewed by gdusbabek. CASSANDRA-1715
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/Table.java
* 13e73255d8eb429050e714971b47aaf6d8cc36c0 remove unused fields in DropColumnFamily, DropKeyspace. patch by gdusbabek, reviewe by jbellis. CASSANDRA-1715
| src/avro/internode.genavro
| src/java/org/apache/cassandra/avro/CassandraServer.java
| src/java/org/apache/cassandra/db/migration/DropColumnFamily.java
| src/java/org/apache/cassandra/db/migration/DropKeyspace.java
| src/java/org/apache/cassandra/thrift/CassandraServer.java
| test/unit/org/apache/cassandra/db/DefsTest.java
* 5ea3dc3f61010ccf8591bc52460a7ba419978eaa use avro structures inside UpdateColumnFamily. patch by gdusbabek, reviewe by jbellis. CASSANDRA-1715
| src/java/org/apache/cassandra/avro/CassandraServer.java
| src/java/org/apache/cassandra/config/CFMetaData.java
| src/java/org/apache/cassandra/config/DatabaseDescriptor.java
| src/java/org/apache/cassandra/db/migration/UpdateColumnFamily.java
| src/java/org/apache/cassandra/thrift/CassandraServer.java
| test/unit/org/apache/cassandra/db/DefsTest.java
* b0fd9e83b73a88f144f3a9bbe27e06c041e38d1f perform index maintenance outside of migration locks during CF update. patch by gdusbabek, reviewe by jbellis. CASSANDRA-1715
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/Table.java
| test/system/test_thrift_server.py
* 3dc8066547de9c31be09cba912ddbb3262fd4870 updateColumnFamily uses reload, remove unneccesary structures, fix bugs. patch by gdusbabek, reviewe by jbellis. CASSANDRA-1715
| src/avro/internode.genavro
| src/java/org/apache/cassandra/avro/CassandraServer.java
| src/java/org/apache/cassandra/config/CFMetaData.java
| src/java/org/apache/cassandra/config/ColumnDefinition.java
| src/java/org/apache/cassandra/config/DatabaseDescriptor.java
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/migration/UpdateColumnFamily.java
| src/java/org/apache/cassandra/service/StorageService.java
| src/java/org/apache/cassandra/thrift/CassandraServer.java
| test/unit/org/apache/cassandra/db/DefsTest.java
* 2993584fd8b537c192b49d5b3f637f38ed52174a replace modifiable CFM members with private fields and public getters. patch by gdusbabek, reviewe by jbellis. CASSANDRA-1715
| src/java/org/apache/cassandra/config/CFMetaData.java
| src/java/org/apache/cassandra/config/DatabaseDescriptor.java
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/CompactionManager.java
| src/java/org/apache/cassandra/db/RowIteratorFactory.java
| src/java/org/apache/cassandra/db/RowMutation.java
| src/java/org/apache/cassandra/db/migration/UpdateColumnFamily.java
| src/java/org/apache/cassandra/service/StorageProxy.java
| src/java/org/apache/cassandra/service/StorageService.java
| test/long/org/apache/cassandra/db/LongCompactionSpeedTest.java
| test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
| test/unit/org/apache/cassandra/db/DefsTest.java
* 96588d4f322dfbb1f5ff9328afe4377babfb1d2c CFS.reload() assumes metadata is mutable. patch by gdusbabek, reviewe by jbellis. CASSANDRA-1715
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/utils/DefaultDouble.java
| src/java/org/apache/cassandra/utils/DefaultInteger.java
* 439a980be2877153e927dff37c0084dbe9ab3910 handle moved/dropped CF prior to pending compaction/streams. patch by gdusbabek, reviewe by jbellis. CASSANDRA-1715
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/CompactionManager.java
| src/java/org/apache/cassandra/io/sstable/SSTableWriter.java
| src/java/org/apache/cassandra/streaming/StreamInSession.java
| test/unit/org/apache/cassandra/io/sstable/SSTableWriterTest.java
* 5a0a445bd8eb69ef5bc518a4cffbd34abb81f6b8 migration uses locks. patch by gdusbabek, reviewe by jbellis. CASSANDRA-1715
| src/java/org/apache/cassandra/db/CompactionManager.java
| src/java/org/apache/cassandra/db/migration/DropColumnFamily.java
| src/java/org/apache/cassandra/db/migration/DropKeyspace.java
| src/java/org/apache/cassandra/db/migration/Migration.java
| src/java/org/apache/cassandra/db/migration/UpdateColumnFamily.java
* 186eb9f7b8c05ad2abe9249aaef627334b3abfbf compaction lock. patch by gdusbabek, reviewe by jbellis. CASSANDRA-1715
| src/java/org/apache/cassandra/db/CompactionManager.java
| src/java/org/apache/cassandra/db/Table.java
* edaa958c3f75c61f69aa76ad6b6b3f175eb21861 take drop off CompactionManager. patch by gdusbabek, reviewe by jbellis. CASSANDRA-1715
  src/java/org/apache/cassandra/db/CompactionManager.java
  src/java/org/apache/cassandra/db/migration/DropColumnFamily.java
  src/java/org/apache/cassandra/db/migration/DropKeyspace.java"
CASSANDRA-1736,"* 440f0399b565aaa0450d62e0c45329ecdc545be4 avoid attempting to delete compacted sstables twice on restart patch by jbellis to fix regression introduced by CASSANDRA-1736
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
* 2bb1021b295c8116db2c0fb3ca7816f282043710 fix race between snapshot andcompaction patch by jbellis; reviewed by gdusbabek for CASSANDRA-1736
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/io/sstable/SSTable.java
  src/java/org/apache/cassandra/io/sstable/SSTableDeletingReference.java
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java"
CASSANDRA-1756,"* 53b49b1180dd2299b76709b4e7cf2ac184d2190e resolve circular initializer dependency deadlock. patch by Erik Onnen and Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-1756
  CHANGES.txt
  src/java/org/apache/cassandra/locator/DynamicEndpointSnitch.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/conf/cassandra.yaml
  test/unit/org/apache/cassandra/locator/DynamicEndpointSnitchTest.java
  test/unit/org/apache/cassandra/service/InitClientTest.java"
CASSANDRA-1768,"* 2d51d59a93c389ab35e80449b2608aa71c348207 fix add/remove bugs in CFMetadata. patch by gdusbabek, reviewed by tjake. CASSANDRA-1768
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  test/unit/org/apache/cassandra/db/DefsTest.java
* 97202c0a208ebb8eba0950428bd5034279cdfa24 fix add/remove index bugs in CFMetadata. patch by gdusbabek, reviewed by tjake. CASSANDRA-1768
  src/java/org/apache/cassandra/config/CFMetaData.java
  test/unit/org/apache/cassandra/db/DefsTest.java"
CASSANDRA-1790,"* 37a21306903b1e2033b264405644e949a587a155 close file handle used for post-flush truncate patch by jbellis; reviewed by mdennis for CASSANDRA-1790
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java
  src/java/org/apache/cassandra/io/util/FileUtils.java"
CASSANDRA-1832,"* 3a353f779c2f6cd00a8867e0ca02accaf0c5543f add sample mx4j options to cassandra-env.sh patch by Ran Tavory; reviewed by jbellis for CASSANDRA-1832
  conf/cassandra-env.sh"
CASSANDRA-1843,"* 115d63cfb466729672e91793da663749f53374a2 Unregister index Mbeans upon deletion.  Patch by Jon Hermes, reviewed by brandonwilliams for CASSANDRA-1843
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
* 8124bdccab47bb10d86ce845ce71da7ec9f9ba73 Unregister index Mbeans upon deletion.  Patch by Jon Hermes, reviewed by brandonwilliams for CASSANDRA-1843
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-1866,"* 486864605ce3fff26ff4988492afa5258ca9a5ec return InvalidRequest when remove ofsubcolumn without supercolumn is requested patch by thobbs; reviewed by jbellis for CASSANDRA-1866
  CHANGES.txt
  src/java/org/apache/cassandra/thrift/ThriftValidation.java
  test/system/test_thrift_server.py"
CASSANDRA-1903,"* f100754ae8b1217d03719efc9c1441f6fc086fed set DEFAULT_REPLICATE_ON_WRITE to false. patch by gdusbabek, reviewed by eevans. CASSANDRA-1903
  src/java/org/apache/cassandra/config/CFMetaData.java"
CASSANDRA-1922,"* e5f87d1d91340db050a9a4efa954a82ee371aafa Fix CompactionManager regression from CASSANDRA-1916 and add a better test and more docs to prevent in the future. Patch by jbellis, reviewed by brandonwilliams for CASSANDRA-1922
  src/java/org/apache/cassandra/db/CompactionManager.java
  src/java/org/apache/cassandra/io/AbstractCompactedRow.java
  test/unit/org/apache/cassandra/db/CleanupTest.java"
CASSANDRA-1924,"* 402e1edeb7302112e6ea532bf77f1d6a3eb81c78 allow zero replicas in a NTSdatacenter patch by slebresne; reviewed by jbellis for CASSANDRA-1924
  CHANGES.txt
  src/java/org/apache/cassandra/locator/TokenMetadata.java
  test/unit/org/apache/cassandra/locator/NetworkTopologyStrategyTest.java
  test/unit/org/apache/cassandra/locator/TokenMetadataTest.java"
CASSANDRA-1927,"* 440e072e36773c1244682a78e894a923c1face23 retry hadoop split requests on connection failure patch by mck; reviewed by jbellis for CASSANDRA-1927
  CHANGES.txt
  src/java/org/apache/cassandra/hadoop/ColumnFamilyInputFormat.java"
CASSANDRA-1931,"* d718dddd6ea1eb4584c4b17151cfdcb11da9236e fix batch mutations post-#1530 patch by tjake; reviewed by jbellis for CASSANDRA-1931
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-1959,"* a043125eb54193512c86086fcd90fbe798bc0367 convert MessagingService into a true singleton patch by Folke Behrens; reviewed by jbellis for CASSANDRA-1959
| src/java/org/apache/cassandra/net/AsyncResult.java
| src/java/org/apache/cassandra/net/IncomingTcpConnection.java
| src/java/org/apache/cassandra/net/MessageDeliveryTask.java
| src/java/org/apache/cassandra/net/MessagingService.java
| src/java/org/apache/cassandra/net/ResponseVerbHandler.java
| src/java/org/apache/cassandra/service/ReadCallback.java
| src/java/org/apache/cassandra/service/StorageService.java
| src/java/org/apache/cassandra/streaming/FileStreamTask.java
| test/unit/org/apache/cassandra/service/RemoveTest.java
* f4f5826338deaa08f776109b796020b6e2cb1d30 fix race condition in MessagingService.targets patch by jbellis; reviewed by Folke Behrens for CASSANDRA-1959
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-2014,"* 581d885e0851835cbedb88a665915272eebd038b Handle whole-row deletions in CFOutputFormat patch by Patrik Modesto; reviewed by jbellis for CASSANDRA-2014
  CHANGES.txt
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordWriter.java"
CASSANDRA-2072,"* 15cf72c55f06cbd9fc57ecc0a4decb9f52b59948 Fix race condition during decommission by announcing for RING_DELAY and not removing endpoint state until removing the ep from justRemovedEndpoints. Patch by brandonwilliams, reviewed by gdusbabek for CASSANDRA-2072
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-2073,"* 59f87afa7a61fc2d865468d23fc46b98c77c123d avoid blocking gossip while deletinghandoffhints patch by jbellis; reviewed by gdusbabek for CASSANDRA-2073
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java"
CASSANDRA-2076,"* 31ca1b42388d8aa59f4fa26f3058011ed905613c continue starting when invalid savedcache entries are encountered patch by mdennis and jbellis for CASSANDRA-2076
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/io/sstable/CacheWriter.java"
CASSANDRA-2081,"* f51da9a724bcf584543000f356c8ab13f448eaa8 avoid re-using Message object in index queries patch by Aaron Morton; reviewed by jbellis for CASSANDRA-2081
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/utils/ExpiringMap.java
* 88c94a711086f32c2010efae1feb5a18f8ae0df8 add debug log message for missing callback patch by Aaron Morton and jbellis for CASSANDRA-2081
| src/java/org/apache/cassandra/net/ResponseVerbHandler.java
* a23547d9aed3a9c29429cbf36be30055bd40c8ad fix range slice ConsistencyLevel > ONE patch by jbellis; tested by Michel Conrad and Thibaut for CASSANDRA-2081
  CHANGES.txt
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-2083,"* ecbd71f6b4bb004d26e585ca8a7e642436a5c1a4 Fix race between HH and schema changes. Patch by brandonwilliams, reviewed by gdusbabek for CASSANDRA-2083
  src/java/org/apache/cassandra/db/DefinitionsUpdateResponseVerbHandler.java
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/db/migration/Migration.java
  src/java/org/apache/cassandra/service/MigrationManager.java
* 25f1ed51247b966d9acf1209d6ad47f41dac03aa Check for schema agreement before delivering hints, add random sleep to avoid DDoSing the node. Patch by brandonwilliams and jbellis, reviewed by brandonwilliams for CASSANDRA-2083
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/db/migration/Migration.java
  src/java/org/apache/cassandra/gms/Gossiper.java"
CASSANDRA-2096,"* 55c153f2f6ba798fbe3acd0b92fe61a18d40c6b1 Fix internal exception when not passing in column_metadata over Thrift patch by goffinet; reviewed by gdusbabek for CASSANDRA-2096
  src/java/org/apache/cassandra/config/CFMetaData.java"
CASSANDRA-2104,"* 53286d56f084270a457d8698785a189b8b410cc3 fix supercolumn de/serialization when subcolumn comparator is different from supercolumn's patch by slebresne; reviewed by jbellis for CASSANDRA-2104
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java
  test/conf/cassandra.yaml
  test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java"
CASSANDRA-2134,"* fc4a261787cf3a59b09edf188b73e35f08ca5b2d fix ByteBufferUtil.string position patch by slebresne; reviewed by jbellis for CASSANDRA-2134
  src/java/org/apache/cassandra/utils/ByteBufferUtil.java"
CASSANDRA-2165,"* 87ea405523c59349e2fb87c6dab5dc5a692b8b99 fix column bloom filter deserialization patch by jbellis and slebresne for CASSANDRA-2165
  CHANGES.txt
  src/java/org/apache/cassandra/utils/ByteBufferUtil.java
  test/conf/cassandra.yaml
  test/long/org/apache/cassandra/db/LongTableTest.java
  test/unit/org/apache/cassandra/db/CompactionsPurgeTest.java
  test/unit/org/apache/cassandra/db/KeyCacheTest.java
  test/unit/org/apache/cassandra/db/TableTest.java"
CASSANDRA-2182,"* 076198e2e76130c11140866c3ee78549ca66d477 read repair stage requires a minimum of 2 threads patch by tjake for CASSANDRA-2182
  src/java/org/apache/cassandra/concurrent/StageManager.java"
CASSANDRA-2188,"* b9495d8e8e991fb82c6e5fe938116b40ae2d6128 fix sstable2json large-row pagination patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-2188
  CHANGES.txt
  src/java/org/apache/cassandra/tools/SSTableExport.java"
CASSANDRA-2196,"* 11af73aae9498cd8cea56e21a1f4fe48a6505bfe invoke toString() instead of casting
  src/java/org/apache/cassandra/db/migration/UpdateColumnFamily.java
* 6c3bf55d02ef2983a03e59b2ec28337898ea6b1e validate index namesfor \w+ patch by jbellis; reviewed by gdusbabek for CASSANDRA-2196
  CHANGES.txt
  src/java/org/apache/cassandra/db/migration/AddColumnFamily.java
  src/java/org/apache/cassandra/db/migration/UpdateColumnFamily.java"
CASSANDRA-2206,"* 2344adbf599c02990dff2166ed427b99c48578d3 improve detection and cleanup ofpartially-written sstables patch by jbellis; reviewed by gdusbabek for CASSANDRA-2206
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java"
CASSANDRA-2207,"* f4a68eb778dddc118d6e366c72065275b2421194 fix cache saving on Windows patch by jbellis; reviewed by mdennis for CASSANDRA-2207
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/CacheWriter.java"
CASSANDRA-2223,"* e6d74c13466afdcdaa433661245aac67e4a5888a fat clients were creating local data. patch by gdusbabek, reviewed by tjake. CASSANDRA-2223
  CHANGES.txt
  contrib/client_only/conf/cassandra.yaml
  contrib/client_only/src/ClientOnlyExample.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/db/commitlog/CommitLog.java
  src/java/org/apache/cassandra/db/migration/Migration.java
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/MigrationManager.java"
CASSANDRA-2228,"* c5f4f3b2be60652b380806c6928d8ec480d06941 initialize localendpoint in gossiper earlier. patch by gdusbabek, reviewed by jbellis. CASSANDRA-2228
  CHANGES.txt
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/cli/CliTest.java
  test/unit/org/apache/cassandra/service/RemoveTest.java"
CASSANDRA-2237,"* dd0da7cbbe6a93869fc68a1165aca2fcc3b9c80d fix starting up on Windows when CASSANDRA_HOME contains whitespace patch by Norman Maurer; reviewed by jbellis for CASSANDRA-2237
  CHANGES.txt
  bin/cassandra.bat"
CASSANDRA-2240,"* 8097545140716f0cbde4c9112a0de2d0b75698d3 make nodetool scrub more robust patch by jbellis and slebresne; tested by Sbastien Giroux for CASSANDRA-2240
  CHANGES.txt
  src/java/org/apache/cassandra/db/CompactionManager.java
  src/java/org/apache/cassandra/io/sstable/IndexHelper.java
  src/java/org/apache/cassandra/io/sstable/SSTableIdentityIterator.java
  test/unit/org/apache/cassandra/io/LazilyCompactedRowTest.java"
CASSANDRA-2256,"* 1f073123f61dd7245d1412adbccd4be2337705cf throw EOFException when seeking past EOF in read-only mode patch by Pavel Yaskevich; reviewed by tjake and jbellis for CASSANDRA-2256
  src/java/org/apache/cassandra/io/util/BufferedRandomAccessFile.java
  test/unit/org/apache/cassandra/io/util/BufferedRandomAccessFileTest.java"
CASSANDRA-2258,"* 0c1d0dba6cff82e9f3c818915ee8c09f441c7491 do not instrument *Token classes. patch by gdusbabek, reviewed by jbellis. CASSANDRA-2258
  build.xml
* 3947dba35b605ad365e62d4c875ff76685bf69c9 do not instrument the *Token classes. patch by gdusbabek, reviewed by jbellis. CASSANDRA-2258
  build.xml"
CASSANDRA-2282,"* 51d3b94da6ae672b1f2d330a206065fb9dbea5d8 update CHANGES for CASSANDRA-2282 that got committed already (in r1079812 I think)
  CHANGES.txt"
CASSANDRA-2283,"* 7dbb7983c248419e2d43ad11296f6d8f3e7e87dc preserve version when streaming data from old sstables patch by jbellis; reviewed by Stu Hood for CASSANDRA-2283
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/streaming/StreamIn.java
  test/unit/org/apache/cassandra/streaming/BootstrapTest.java
  test/unit/org/apache/cassandra/streaming/SerializationsTest.java"
CASSANDRA-2296,"* 0087c38a268d314172f06bcd522210ed8f226409 avoid writing empty rows when scrubbing tombstoned rows patch by jbellis; reviewed by slebresne for CASSANDRA-2296
  CHANGES.txt
  src/java/org/apache/cassandra/db/CompactionManager.java
* 5947c5907258c81fce0ff8e8333fa9852ed31eaf add asserts to make sure we don't write zero-length rows; see CASSANDRA-2296
  src/java/org/apache/cassandra/db/CompactionManager.java
  src/java/org/apache/cassandra/io/LazilyCompactedRow.java
  src/java/org/apache/cassandra/io/PrecompactedRow.java
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java"
CASSANDRA-2297,"* a4b71120ff6548055f8e53417186e2c6456df922 fix HH delivery when column index is larger than 2GB patch by jbellis; reviewed by slebresne for CASSANDRA-2297
  CHANGES.txt
  src/java/org/apache/cassandra/io/util/BufferedRandomAccessFile.java
  src/java/org/apache/cassandra/io/util/FileDataInput.java
  src/java/org/apache/cassandra/io/util/MappedFileDataInput.java
  test/unit/org/apache/cassandra/io/util/BufferedRandomAccessFileTest.java"
CASSANDRA-2304,"* c7df15da536d239ebadaad68e4ce09ad5db9bf46 fix fd leak in sstable2json with non-mmap'd i/o patch by jbellis; reviewed by Pavel Yaskevich for CASSANDRA-2304
  CHANGES.txt
  src/java/org/apache/cassandra/tools/SSTableExport.java"
CASSANDRA-2316,"* f5b030a657c1263e0b15856991b239f9d3c15214 add assert that repair keys arrive in-order patch by jbellis; reviewed by stuhood for CASSANDRA-2316
  src/java/org/apache/cassandra/service/AntiEntropyService.java"
CASSANDRA-2328,"* 840aae0f51a345e4154574a05d8d28ef5d9f1a3b validate index predicates patch by Aaron Morton; reviewed by jbellis for CASSANDRA-2328
  src/java/org/apache/cassandra/thrift/ThriftValidation.java
  test/system/__init__.py
  test/system/test_thrift_server.py"
CASSANDRA-2350,"* 46b0dd5f108502b9abf82e54afda95e42d42df84 fix race when iterating CFs during add/drop patch by jbellis; reviewed by gdusbabek for CASSANDRA-2350
  CHANGES.txt
  src/java/org/apache/cassandra/db/CompactionManager.java
  src/java/org/apache/cassandra/db/Table.java"
CASSANDRA-2377,"* e05fb25675bf20567b530ed862116d0607841ad1 Log a message when a streaming action for an unkown session is received instead of NPE. Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-2377
  src/java/org/apache/cassandra/streaming/StreamReplyVerbHandler.java"
CASSANDRA-2401,"* 3b907655c78131cc2950c2f7f36ea62d8a341e31 improve ignoring of obsoletemutations in index maintenance patch by jbellis; reviewed by slebresne for CASSANDRA-2401
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/db/filter/NamesQueryFilter.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java"
CASSANDRA-2410,"* f5203cfef2790080bde0d83ec768e6884b276f86 honor specific column validators in JDBC driver. patch by gdusbabek, reviewed by jbellis. CASSANDRA-2410
  drivers/java/src/org/apache/cassandra/cql/jdbc/CassandraResultSet.java
  drivers/java/src/org/apache/cassandra/cql/jdbc/ColumnDecoder.java
  drivers/java/src/org/apache/cassandra/cql/jdbc/TypedColumn.java
  drivers/java/test/org/apache/cassandra/cql/JdbcDriverTest.java
  test/unit/org/apache/cassandra/SchemaLoader.java"
CASSANDRA-2416,"* 86f6184d0d09f3f3a2c6d080c88e31810f373020 avoid caching token-only decoratedkeys patch by jbellis; reviewed by slebresne for CASSANDRA-2416
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java"
CASSANDRA-2417,"* bdba69ff8d59c975bdfb5ba60d3435c757633209 Convert mmap assertion to if/throw patch by jbellis; reviewed by slebresne for CASSANDRA-2417
  src/java/org/apache/cassandra/io/util/MappedFileDataInput.java
* a25f7300053d377288d49d795af6fb82155913ac Merge CASSANDRA-2417 from 0.7
  src/java/org/apache/cassandra/io/util/MappedFileDataInput.java"
CASSANDRA-2437,"* 2e7ecdb6819d5e6f087097680ef4f60de41c8067 Support a byte[] key for getNaturalEndpoints so clustertool get_endpoints does not throw exception patch by goffinet; reviewed by stuhood for CASSANDRA-2437
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/service/StorageServiceMBean.java
  src/java/org/apache/cassandra/tools/NodeProbe.java"
CASSANDRA-2450,"* 977e48294b5ecad5a9ead1963a6349f75f5b33ca fix schema compatibility w/ 0.7 patch by jbellis; reviewed by gdusbabek for CASSANDRA-2450
  src/avro/internode.genavro
  src/java/org/apache/cassandra/config/KSMetaData.java"
CASSANDRA-2487,"* fff2c085c4cc4b88cfa1d0eb072fedec7a654fe2 Update pig example script to work again. Patch by Jeremy Hanna, reviewed by brandonwilliams for CASSANDRA-2487
  contrib/pig/README.txt
  contrib/pig/example-script.pig"
CASSANDRA-2496,"* b9dc6a60049118c2949ec4dc122ddc779a4973c6 Gossip handles dead states, token removal actually works, gossip states are held for aVeryLongTime. Patch by brandonwilliams and Paul Cannon, reviewed by Paul Cannon for CASSANDRA-2496.
  CHANGES.txt
  NEWS.txt
  src/java/org/apache/cassandra/gms/ApplicationState.java
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/gms/HeartBeatState.java
  src/java/org/apache/cassandra/gms/VersionedValue.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-2525,"* dbcbb0cb17d1c2969eb3fc95d4c488dd63cc07f0 validate CQL create keyspace options patch by jbellis; reviewed by eevans for CASSANDRA-2525
  CHANGES.txt
  doc/cql/CQL.textile
  src/java/org/apache/cassandra/cql/CreateKeyspaceStatement.java"
CASSANDRA-2528,"* 0137829ac4add5b0e5b4e25b8403e7f9ad057276 fix NPE compacting index CFs patch by jbellis; reviewed by Jackson Chung for CASSANDRA-2528
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamily.java
  src/java/org/apache/cassandra/tools/SSTableImport.java"
CASSANDRA-2538,"* 16d860683c29e47010d50326289a18d9ca337c13 NPE running SELECT with an IN clause
  src/java/org/apache/cassandra/cql/WhereClause.java"
CASSANDRA-2549,"* eaf1ef50ba28529fc11d170fd7ad55052945ead1 add thrift, cql jars to debian package patch by Timu Eren; reviewed by eevans for CASSANDRA-2549
  debian/rules"
CASSANDRA-2563,"* cf0f55e578f3f1cfa2f0cc259014aef809456e07 disallow making schema changes to system keyspace patch by jbellis; tested by cdaw for CASSANDRA-2563
  CHANGES.txt
  src/java/org/apache/cassandra/service/ClientState.java"
CASSANDRA-2571,"* 520c565a36364c25e821f96f9c88f84b9b559445 Merge CASSANDRA-2571 from 0.7
* d24d7ce6c47637512864892c222f396dd6eaa6e7 Reject queries with missing mandatory super column and always validate super column name patch by jbellis and slebresne for CASSANDRA-2571
  CHANGES.txt
  src/java/org/apache/cassandra/thrift/CassandraServer.java
  src/java/org/apache/cassandra/thrift/ThriftValidation.java
  test/system/__init__.py
  test/system/test_thrift_server.py
* 832a45d89c42869769e159a1154759edeaf5b5ef merge CASSANDRA-2571 from 0.8
  src/java/org/apache/cassandra/thrift/CassandraServer.java
  src/java/org/apache/cassandra/thrift/ThriftValidation.java
  test/system/__init__.py
  test/system/test_thrift_server.py"
CASSANDRA-2592,"* 16c2f455af42db5f249d1034c4a7df4cf9618873 properly handle empty result set
  src/java/org/apache/cassandra/cql/QueryProcessor.java
* 8d3922771b1b593b79445058f26b9c9da568fcb2 fix CQL treatment of> and <operators in range slices patch by Pavel Yaskevich and jbellis for CASSANDRA-2592
  CHANGES.txt
  src/java/org/apache/cassandra/cql/QueryProcessor.java
  src/java/org/apache/cassandra/cql/SelectStatement.java
  src/java/org/apache/cassandra/cql/WhereClause.java
  test/system/test_cql.py"
CASSANDRA-2598,"* d383294daf148e7246786313706917fadc6ad50a snapshot_before_compaction directoryname fix patch by jbellis; reviewed by mck for CASSANDRA-2598
  CHANGES.txt
  src/java/org/apache/cassandra/db/CompactionManager.java"
CASSANDRA-2600,"* 93ef5fa8492bfdb44f6a91edb34818fbfb35c9e5 add check for sane start/end keys patch by Pavel Yaskevich; reviewed by jbellis for CASSANDRA-2600
  src/java/org/apache/cassandra/cql/QueryProcessor.java"
CASSANDRA-2618,"* 0dc0029e820783f168297bdafd6169d03aa6ea20 Avoid race in AdaptiveLatencyTracker between add() and clear() Patch by brandonwilliams, reviewed by tjake for CASSANDRA-2618
  src/java/org/apache/cassandra/locator/DynamicEndpointSnitch.java"
CASSANDRA-2619,"* 5f8991c73a6f43fbe9c7e0d8906e751c21d54412 recognize attempt todrop just the index while leaving the column definition patch by jbellis; reviewed by brandonwilliams for CASSANDRA-2619
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  test/conf/cassandra.yaml
  test/unit/org/apache/cassandra/db/DefsTest.java"
CASSANDRA-2652,"* 21b5cdb899a7a8ea24b90810e2d32716acc3d7c5 adjust hinted handoff page size to avoid OOM with large columns patch by jbellis; reviewed by brandonwilliams for CASSANDRA-2652
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java"
CASSANDRA-2653,"* 1f75bfa1a854fdf9a6a635cba6ff6abd9d9dd814 Fix scan wrongly throwing assertion errors patch by slebresne; reviewed by jbellis for CASSANDRA-2653
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
* 3d9305b505471db21bd73d79a95d7d4a4981433b Reset SSTII in EchoedRow iterator (see CASSANDRA-2653)
  src/java/org/apache/cassandra/db/CompactionManager.java
  test/unit/org/apache/cassandra/db/CompactionsTest.java"
CASSANDRA-2673,"* cd60613ae03642a841c0fd460205bcf78b10249c fix truncate/compaction race patch by jbellis; reviewed by slebresne for CASSANDRA-2673
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/CompactionManager.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/db/TruncateVerbHandler.java"
CASSANDRA-2675,"* 145010997609f1ed8e629b0996c06a367fdde588 Clone super column to avoid modifying them mid-flush patch by slebresne; reviewed by jbellis for CASSANDRA-2675
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamily.java
  src/java/org/apache/cassandra/db/filter/QueryFilter.java"
CASSANDRA-2684,"* ed7f7e8f57e34f33b74e9c6e5179facc619ccbcf fix IntegerType.getString with direct buffers patch by Ed Anuff; reviewed by jbellis for CASSANDRA-2684
  CHANGES.txt
  src/java/org/apache/cassandra/db/marshal/IntegerType.java"
CASSANDRA-2685,"* 40a13696e40ce24e8331ef5e500228d862b5945a avoid replaying hints to dropped columnfamilies patch by jbellis; reviewed by gdusbabek for CASSANDRA-2685
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/db/Table.java"
CASSANDRA-2718,"* 4e96cc9d41bccc9781cbe3008db6e72c91c7d5f1 fix NPE	when bypassing commitlog during	memtable flush
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-2746,"* df9308f2afd2c1602e08c5ab0beb922215db6e4f add initCause to cliclient exceptions patch by Jackson Chung; reviewed by jbellis for CASSANDRA-2746
  src/java/org/apache/cassandra/cli/CliClient.java"
CASSANDRA-2752,"* 1a26564400d5ce1cb14ce950c9858ead6c9067be Seek back after deserializing a row to update cache with patch by jbellis; reviewed by slebresne for CASSANDRA-2752
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java"
CASSANDRA-2762,"* 6a9a336ad4a4621aeb7bf73a4e6cd15aaf74323d ensure that string tokens do not contain commas patch by jbellis; reviewed by slebresne for CASSANDRA-2762
  CHANGES.txt
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/dht/AbstractByteOrderedPartitioner.java
  src/java/org/apache/cassandra/dht/OrderPreservingPartitioner.java
  src/java/org/apache/cassandra/dht/RandomPartitioner.java
  src/java/org/apache/cassandra/dht/Token.java
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/service/StorageServiceMBean.java
  src/java/org/apache/cassandra/tools/NodeProbe.java"
CASSANDRA-2766,"* 1019dead2b34f7bf87392d88af9cfb7778541cdd use threadsafe collections for StreamInSession patch by jbellis; reviewed by slebresne for CASSANDRA-2766
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/StreamInSession.java"
CASSANDRA-2769,"* 27f189c6d244a7601a6587d37e89870b03c9c0c8 Avoids unmarking compacting sstable prematurely during cleanup patch by slebresne; reviewed by jbellis for CASSANDRA-2769
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
* 33983738fabb4624881a1cca2d2b4406c2ea6330 Fix compaction of the same sstable by multiple thread patch by slebresne; reviewed by jbellis for CASSANDRA-2769
  src/java/org/apache/cassandra/db/DataTracker.java
  src/java/org/apache/cassandra/db/compaction/AbstractCompactionTask.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/compaction/CompactionTask.java"
CASSANDRA-2780,"* 82ca7c54452b83bd1c069e98e91831517425ed47 Use jackson's ObjectMapper instead of hand-crafting json in sstable2json. Patch by Pavel Yaskevich, reviewed by brandonwilliams for CASSANDRA-2780
  src/java/org/apache/cassandra/tools/SSTableExport.java
* ceabeb8fa65eec36f437e4111c9a6a100c120726 sstable2json escapes quotes. Patch by Pavel Yaskevich, reviewed by brandonwilliams for CASSANDRA-2780
  src/java/org/apache/cassandra/tools/SSTableExport.java
  test/unit/org/apache/cassandra/SchemaLoader.java
  test/unit/org/apache/cassandra/tools/SSTableExportTest.java"
CASSANDRA-2792,"* 0692c1397274b8fb106f4b7af15d0c776139a2fb Improve thread safety in StreamOutSession patch by slebresne; reviewed by jbellis for CASSANDRA-2792
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/StreamOutSession.java"
CASSANDRA-2818,"* 6ef8513e235d324d53475a73756f70f32591abd3 fix Message version propagation fromold nodes to new ones patch by brandonwilliams and jbellis for CASSANDRA-2818
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/net/IncomingTcpConnection.java"
CASSANDRA-2822,"* e4290657ce49a7625079270f3ba9baa8783c98fe tolerate missing encryption options patch by jbellis; reviewed by slebresne for CASSANDRA-2822
  src/java/org/apache/cassandra/net/OutboundTcpConnection.java"
CASSANDRA-2823,"* ebe9815431255fceba3b2238814be92360caada7 Fix potential NPE in range slice read repair patch by slebresne; reviewed by jbellis for CASSANDRA-2823
  CHANGES.txt
  src/java/org/apache/cassandra/service/RangeSliceResponseResolver.java
  src/java/org/apache/cassandra/service/RowRepairResolver.java
* 058cf7fe690d8db822a891b0b2cd3979b6f42a62 Fix potential NPE during read repair patch by slebresne; reviewed by jbellis for CASSANDRA-2823
  CHANGES.txt
  src/java/org/apache/cassandra/service/RangeSliceResponseResolver.java
  src/java/org/apache/cassandra/service/RowRepairResolver.java"
CASSANDRA-2863,"* 9b9c4d32973ea4e586031775b3322180169135cd Make SSTW.RowIndexer.iwriter a final field to avoid NPE patch by slebresne; reviewed by jbellis for CASSANDRA-2863
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java"
CASSANDRA-2867,"* 8a79b6476f1b9c6efb52258ffc8c8e52b8cd17f1 avoid trying to create index names, when no index exists patch by jbellis; reviewed by slebresne for CASSANDRA-2867
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java"
CASSANDRA-2933,"* 3ac8f2fe5eb30d2c18bdd42c1c565da07968c16e check column family input validity in nodetool repair patch by yukim; reviewed by slebresne for CASSANDRA-2933
  CHANGES.txt
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-2946,"* d04a8b514302d23ddfd28a181f21a78d9b2c40e5 keep gossipped version in sync with actual on migration coordinator patch by jbellis; reviewed by brandonwilliams and tested by Richard Low for CASSANDRA-2946
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/db/migration/Migration.java"
CASSANDRA-2949,"* ea9a74370e211ff37a8099fb4f03c89894d58a9b don't throw exception on batch of counter super columns patch by slebresne; reviewed by soverton for CASSANDRA-2949
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamily.java
  src/java/org/apache/cassandra/db/CounterMutation.java
  src/java/org/apache/cassandra/db/RowMutation.java
  src/java/org/apache/cassandra/db/SuperColumn.java
  test/unit/org/apache/cassandra/db/CounterMutationTest.java"
CASSANDRA-2960,"* 4624cb45655aaf231c49258d8796828aeabf560a throw exception when NTS is given replication_factoras an option patch by jbellis; reviewed by slebresne for CASSANDRA-2960
  CHANGES.txt
  src/java/org/apache/cassandra/locator/NetworkTopologyStrategy.java"
CASSANDRA-2968,"* caea7ffd6b7e71bd6bb12409cb619545d30366c2 Fix assertion error during compaction of counter CFs patch by slebresne; reviewed by jbellis for CASSANDRA-2968
  CHANGES.txt
  src/java/org/apache/cassandra/db/SystemTable.java
  src/java/org/apache/cassandra/db/compaction/LazilyCompactedRow.java
  src/java/org/apache/cassandra/db/compaction/PrecompactedRow.java
  src/java/org/apache/cassandra/db/context/CounterContext.java
  src/java/org/apache/cassandra/utils/NodeId.java
  test/unit/org/apache/cassandra/SchemaLoader.java
  test/unit/org/apache/cassandra/db/CounterMutationTest.java"
CASSANDRA-2994,"* 1e36fb1e44bff96005dd75a25648ff25eea6a95f Fix OutOfBounds with compression patch by slebresne; reviewed by stuhood for CASSANDRA-2994
  src/java/org/apache/cassandra/io/compress/CompressedRandomAccessReader.java
  src/java/org/apache/cassandra/io/compress/CompressedSequentialWriter.java"
CASSANDRA-3000,"* daf3b012c77483480e4df0970126186e5dbff483 Use broadcastAddress instead of localAddress. Patch by Vijay, reviewed by brandonwilliams for CASSANDRA-3000
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/net/OutboundTcpConnection.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/utils/FBUtilities.java"
CASSANDRA-3007,"* dfcb62163b6cfba75714357ee4f63f1b59f9e87a fix NPE when encryption_options is unspecified patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3007
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-3011,"* 00f6a2495ff3e73bfad05b7c74d3df18e322a431 ignore saved replication_factor strategy_option for NTS patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3011
  CHANGES.txt
  src/java/org/apache/cassandra/config/KSMetaData.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-3039,"* 41d83e0157e8d51787d5db2925c9e86f51bf77b7 Make cleanup and normal compaction able to skip empty rows (rows containing nothing but expired tombstones). patch by Jonathan Ellis; reviewed by Pavel Yaskevich for CASSANDRA-3039
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java"
CASSANDRA-3057,"* a9e9b720fb04aa7218a0815ea4cfeaa1ef60c065 return an InvalidRequestException if an indexed column is assigned a value larger than 64K patch by pyaskevich and jbellis for CASSANDRA-3057
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/thrift/ThriftValidation.java
  test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java"
CASSANDRA-308,"* ac921c44d3ae8f876dfadbcb2e4cd762f968bb4d add ""required"" to non-optional fields. Thrift sucks. patch by jbellis; reviewed by Eric Evans for CASSANDRA-308
  interface/cassandra.thrift
  interface/gen-java/org/apache/cassandra/service/BatchMutation.java
  interface/gen-java/org/apache/cassandra/service/Column.java
  interface/gen-java/org/apache/cassandra/service/ColumnParent.java
  interface/gen-java/org/apache/cassandra/service/ColumnPath.java
  interface/gen-java/org/apache/cassandra/service/InvalidRequestException.java
  interface/gen-java/org/apache/cassandra/service/SliceRange.java
  interface/gen-java/org/apache/cassandra/service/SuperColumn.java
* 0f56a255539e884721afe5a31ec605e935774b71 update to thrift trunk and rename jar after the svn revision (806014).  inline our map typedef to work around regression introduced in THRIFT-144.  add slf4j dependencies (required since THRIFT-558).  regenerate thrift structs with new version. patch by jbellis for CASSANDRA-308, CASSANDRA-387
  interface/cassandra.thrift
  interface/gen-java/org/apache/cassandra/service/BatchMutation.java
  interface/gen-java/org/apache/cassandra/service/Cassandra.java
  interface/gen-java/org/apache/cassandra/service/Column.java
  interface/gen-java/org/apache/cassandra/service/ColumnOrSuperColumn.java
  interface/gen-java/org/apache/cassandra/service/ColumnParent.java
  interface/gen-java/org/apache/cassandra/service/ColumnPath.java
  interface/gen-java/org/apache/cassandra/service/InvalidRequestException.java
  interface/gen-java/org/apache/cassandra/service/NotFoundException.java
  interface/gen-java/org/apache/cassandra/service/SlicePredicate.java
  interface/gen-java/org/apache/cassandra/service/SliceRange.java
  interface/gen-java/org/apache/cassandra/service/SuperColumn.java
  interface/gen-java/org/apache/cassandra/service/UnavailableException.java
  lib/libthrift-r806014.jar
  lib/libthrift.jar
  lib/licenses/slf4j-api-1.5.8.jar.LICENSE
  lib/licenses/slf4j-log4j12-1.5.8.jar.LICENSE
  lib/slf4j-api-1.5.8.jar
  lib/slf4j-log4j12-1.5.8.jar"
CASSANDRA-3138,"* ba8f60154a41b0bd2d72a6572e939c09b7ea9657 avoid trying to watch cassandra-topology.properties when loaded from jar patch by Mck SembWever; reviewed by jbellis for CASSANDRA-3138
  CHANGES.txt
  src/java/org/apache/cassandra/locator/PropertyFileSnitch.java"
CASSANDRA-3156,"* 39b4b93b06a967af8cfca140986aa81c6f6cf60b reset ReadVerbHandler buffer between uses patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3156
  src/java/org/apache/cassandra/db/ReadVerbHandler.java"
CASSANDRA-317,"* 67deae8e40edd3325028cffba70ada621e9193f9 fix cli/thrift map key regression.  patch by Gasol Wu; reviewed by jbellis for CASSANDRA-317
  src/java/org/apache/cassandra/cli/CliClient.java"
CASSANDRA-3179,"* 2b95b1f915523625f0aec3b5cac03e4dd2313475 copy buffers from mmap'd source so we don't segfault if the source is unmapped before we're done with it patch by jbellis; tested by brandonwilliams for CASSANDRA-3179
  CHANGES.txt
  src/java/org/apache/cassandra/io/util/MappedFileDataInput.java"
CASSANDRA-3191,"* daa6267e85673af9cd085efcf34d82e9aa3303bd clarify ""No other nodes seen!  Unable to bootstrap"" error message patch by jbellis; reviewed by slebresne for CASSANDRA-3191
  conf/cassandra.yaml
  src/java/org/apache/cassandra/dht/BootStrapper.java
  src/java/org/apache/cassandra/service/AbstractCassandraDaemon.java"
CASSANDRA-3192,"* c2709ba27757e5aabee28ff5c7affd0f87164fd6 fix RRR NPE patch by jbellis; reviewed by slebresne for CASSANDRA-3192
  CHANGES.txt
  src/java/org/apache/cassandra/service/RowRepairResolver.java"
CASSANDRA-3218,"* 03d3669bc656bfe09367ad51e99326b811149046 Don't allow any cache loading exceptions to halt startup patch by Eldon Stegall; reviewed by jbellis for CASSANDRA-3218
  CHANGES.txt
  src/java/org/apache/cassandra/cache/AutoSavingCache.java"
CASSANDRA-3256,"* 3104648f9e75a288d11733add0ca20c192ca8a95 Log a miningfull warning when a node receive a message for a repair session that don't exist anymore patch by slebresne; reviewed by jbellis for CASSANDRA-3256
  CHANGES.txt
  src/java/org/apache/cassandra/service/AntiEntropyService.java"
CASSANDRA-3270,"* 7954d69001dfb4205c45dde88d2f7b3e9457f31d fix full queue scenario for ParallelCompactionIterator patch by jbellis; reviewed by slebresne for CASSANDRA-3270
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/ParallelCompactionIterable.java"
CASSANDRA-3289,"* ce09666e53ba17a821828bf16e67898f0b522979 use correct ISortedColumns for time-optimized reads patch by jbellis; reviewed by slebresne for CASSANDRA-3289
  CHANGES.txt
  src/java/org/apache/cassandra/db/CollationController.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-3291,"* 2dbde4357ba52b73b4245feb12061718b24839d8 remove obsolete hints on first startup patch by jbellis; reviewed by Patricio Echague for CASSANDRA-3291
  CHANGES.txt
  src/java/org/apache/cassandra/db/SystemTable.java"
CASSANDRA-3306,"* d401d9f1deaad08ff0a76e3795ec4b1c0fa72421 Fix duplicate SSTable reference when stream session failed; patch by yukim reviewed by Sylvain Lebresne for CASSANDRA-3306
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/IncomingStreamReader.java
  src/java/org/apache/cassandra/streaming/StreamInSession.java"
CASSANDRA-3312,"* 5c26768e94bbc1388f846173460a6acdbac3d345 Improved CLI exceptions patch by satishbabu; reviewed by xedin for CASSANDRA-3312
  CHANGES.txt
  src/java/org/apache/cassandra/cli/CliClient.java"
CASSANDRA-3313,"* ad2ae452c937cc31f142f40ff7f42ee25ee38d1f tolerate index being dropped mid-mutation, part 2 patch by jbellis; reviewed by slebresne for CASSANDRA-3313
  CHANGES.txt
  src/java/org/apache/cassandra/db/index/SecondaryIndexManager.java"
CASSANDRA-3314,"* 368aa0e965cfc1dac1da5736ba6329cf55f2a867 acquire references during index build patch by jbellis; reviewed by slebresne for CASSANDRA-3314
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/index/SecondaryIndex.java"
CASSANDRA-3327,"* 5cdfaab72c6c8a2a9fab0d1a97fd1cdeafd6c2df TimeUUID support in CassandraStorage. Patch by brandonwilliams, reviewed by Rick Branson for CASSANDRA-3327
  contrib/pig/src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java"
CASSANDRA-3334,"* ca9952f6cefd98b585d4dab2dcd0de5507e0e01e tolerate index being dropped mid-mutation patch by jbellis; reviewed by slebresne for CASSANDRA-3334
  CHANGES.txt
  src/java/org/apache/cassandra/db/index/SecondaryIndexManager.java"
CASSANDRA-3349,"* b256611af1affbfc3f001371e7423c03e44b6f55 update CQL grammar to require key clause in delete statement patch by pyaskevich; reviewed by jbellis for CASSANDRA-3349
  CHANGES.txt
  src/java/org/apache/cassandra/cql/Cql.g"
CASSANDRA-3369,"* 118513ad9db5de929d450b40d73971a3dd30ff63 fix assertion error during repair with ordered partitioners patch by slebresne; reviewed by jbellis for CASSANDRA-3369
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java
  src/java/org/apache/cassandra/service/AntiEntropyService.java"
CASSANDRA-3385,"* 16e1875d7d074f1f95cb776c6ad40aea168ded1c ignore 0.8 hints even if compaction begins before we try to purge them patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3385
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/db/SystemTable.java"
CASSANDRA-3390,"* 5a439b23b19e4b73ac4e0511b619886cc57fc6f4 remove incorrect optimization from slice read path patch by jbellis; reviewed by slebresne for CASSANDRA-3390
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-3391,"* ece371588db88ebfafaadcc090437a8330def90a Correctly serialize key_validation_class for avro patch by amorton; reviewed by slebresne for CASSANDRA-3391
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java"
CASSANDRA-3394,"* 8a69a33dd91a58360f76a483984360bb808fc4e4 Don't expire counter tombstones after streaming patch by slebresne; reviewed by jbellis for CASSANDRA-3394
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java"
CASSANDRA-3400,"* c93ca8e1a92513450d8e6ca6d0b2b9d92114421f Fix race in AntiEntropyService patch by slebresne; reviewed by jbellis for CASSANDRA-3400
  CHANGES.txt
  src/java/org/apache/cassandra/service/AntiEntropyService.java"
CASSANDRA-3417,"* 79050449e7e953a301e275a755a2b5f3a5b0d06a fix unsynchronized use of TokenMetadata.entrySet patch by Peter Schuller; reviewed by jbellis for CASSANDRA-3417
  src/java/org/apache/cassandra/locator/NetworkTopologyStrategy.java
  src/java/org/apache/cassandra/locator/TokenMetadata.java
  src/java/org/apache/cassandra/service/StorageService.java
* 4ab6fad945cada90497a8cf523a4c868932834c2 fix unsynchronized use of TokenMetadata.entrySet patch by Peter Schuller; reviewed by jbellis for CASSANDRA-3417
  src/java/org/apache/cassandra/locator/NetworkTopologyStrategy.java
  src/java/org/apache/cassandra/locator/TokenMetadata.java
  src/java/org/apache/cassandra/service/StorageService.java
* b55ab4f3b23b9f3f056ffcc526d2b06989e024fb fix unsynchronized use of TokenMetadata.entrySet patch by Peter Schuller; reviewed by jbellis for CASSANDRA-3417
  src/java/org/apache/cassandra/locator/NetworkTopologyStrategy.java
  src/java/org/apache/cassandra/locator/TokenMetadata.java
  src/java/org/apache/cassandra/service/StorageService.java
* b10d5bd705fbbf07c567f61b2d6f68a4c8d22b0b synchronize BiMap of bootstrapping tokens patch by Peter Schuller and jbellis for CASSANDRA-3417
  CHANGES.txt
  src/java/org/apache/cassandra/locator/TokenMetadata.java
  src/java/org/apache/cassandra/service/StorageService.java
* 982789691a48afb69dd6dcd9448aa10f8882c3c7 synchronize BiMap of bootstrapping tokens patch by jbellis and brandonwilliams for CASSANDRA-3417
  CHANGES.txt
  conf/cassandra-env.sh
  src/java/org/apache/cassandra/locator/TokenMetadata.java"
CASSANDRA-3421,"* b2dcd3e5a5600be55c558eb5e20833ecec8264d1 fix DecimalType bytebuffer marshalling patch by Rick Shaw; reviewed by jbellis for CASSANDRA-3421
  CHANGES.txt
  src/java/org/apache/cassandra/cql/jdbc/JdbcDecimal.java
  src/java/org/apache/cassandra/db/marshal/DecimalType.java
  test/unit/org/apache/cassandra/db/marshal/DecimalTypeTest.java"
CASSANDRA-3427,"* 981ee774eb1d6efd5971569ca29890817d0271ea Fix CASSANDRA-3427
  CHANGES.txt
  src/java/org/apache/cassandra/io/compress/CompressedRandomAccessReader.java
  src/java/org/apache/cassandra/io/compress/CompressionMetadata.java
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java
  src/java/org/apache/cassandra/io/util/CompressedSegmentedFile.java
  src/java/org/apache/cassandra/io/util/SegmentedFile.java
  src/java/org/apache/cassandra/streaming/FileStreamTask.java
* 349489485bdb64d3cda7a17144fa43d86a833dd2 Cache for CompressionMetadata objects patch by Sylvain Lebresne; reviewed by Pavel Yaskevich for CASSANDRA-3427
  CHANGES.txt
  src/java/org/apache/cassandra/io/compress/CompressedRandomAccessReader.java
  src/java/org/apache/cassandra/io/compress/CompressionMetadata.java
  src/java/org/apache/cassandra/io/util/CompressedSegmentedFile.java"
CASSANDRA-3440,"* 48d1284a6438f1d6d7858a147149fff0f560f691 fix self-hinting of timed out read repair updates and make hinted handoff less prone to OOMing a coordinator patch by jbellis; reviewed by slebresne for CASSANDRA-3440
  CHANGES.txt
  src/java/org/apache/cassandra/db/RowMutation.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/RowRepairResolver.java
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-3466,"* d5723b08bd22e1ea2e8a3abe0485b6d4e96c205c Fix incomplete deletion of delivered hints patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3466
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/HintedHandOffManager.java"
CASSANDRA-3467,"* d15a798af7acaf96162dc12efa3c14440c862c4f add test for CASSANDRA-3467 (which was fixed by #3446) patch by Rick Branson; reviewed by jbellis for CASSANDRA-3467
  test/unit/org/apache/cassandra/SchemaLoader.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java"
CASSANDRA-348,"* ddf00a509a4793bc69bf11cf10cc8155a9371f2d give up on trying to optimize startWith -- it's basically impossible when replication factor > 1 b/c of the range wrap point. patch by jbellis; tested by Mark Robson for CASSANDRA-348
  src/java/org/apache/cassandra/service/StorageProxy.java
* 8a9c25ae0e849409a752b4d6eaf5a9bfbb3b3ca0  - switch from trying to get the next endpoint by increasing offset to asking tokenMetadata for ""the next one."" this will always be correct where the offset approach will not (usually you want offset to just be 1, but sometimes you have to keep increasing it if no results are found but the range is still not finished)  - merge results differently when the endpoint responsible for where the ring wraps is involved, since that endpoint can hold keys from both the beginning and end of the range.
  src/java/org/apache/cassandra/db/LoadVerbHandler.java
  src/java/org/apache/cassandra/db/RangeReply.java
  src/java/org/apache/cassandra/locator/AbstractStrategy.java
  src/java/org/apache/cassandra/locator/IReplicaPlacementStrategy.java
  src/java/org/apache/cassandra/locator/RackAwareStrategy.java
  src/java/org/apache/cassandra/locator/RackUnawareStrategy.java
  src/java/org/apache/cassandra/locator/TokenMetadata.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/tools/KeyChecker.java
  test/unit/org/apache/cassandra/locator/RackUnawareStrategyTest.java
* 449a444c7d1cfa13e1a7d25865227e1ba8c300e2 fix range query buglet; add debug logging patch by jbellis; tested by Mark Robson for CASSANDRA-348
  src/java/org/apache/cassandra/db/RangeReply.java
  src/java/org/apache/cassandra/service/CassandraServer.java
  src/java/org/apache/cassandra/service/RangeVerbHandler.java
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-3481,"* e029b7d0c11f32ba0c1647778759924bffd2275a Fix incorrect size exception during streaming of counters patch by slebresne; reviewed by jbellis for CASSANDRA-3481
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilySerializer.java
  src/java/org/apache/cassandra/db/ColumnSerializer.java
  src/java/org/apache/cassandra/db/CounterColumn.java
  src/java/org/apache/cassandra/db/ExpiringColumn.java
  src/java/org/apache/cassandra/db/ReadResponse.java
  src/java/org/apache/cassandra/db/Row.java
  src/java/org/apache/cassandra/db/RowMutation.java
  src/java/org/apache/cassandra/db/SuperColumn.java
  src/java/org/apache/cassandra/db/commitlog/CommitLog.java
  src/java/org/apache/cassandra/io/IColumnSerializer.java
  src/java/org/apache/cassandra/io/sstable/SSTableIdentityIterator.java
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java
  src/java/org/apache/cassandra/io/util/ColumnSortedMap.java
  src/java/org/apache/cassandra/streaming/IncomingStreamReader.java
  test/unit/org/apache/cassandra/db/CounterColumnTest.java
  test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java"
CASSANDRA-3482,"* ce6460cdfc77a19fbc090b2ab871a9bf728c4b99 Fix race introduced by CASSANDRA-2503 patch by jbellis; reviewed by slebresne for CASSANDRA-3482
  CHANGES.txt
  src/java/org/apache/cassandra/db/CollationController.java"
CASSANDRA-3514,"* 6d183c1a527cf70212dfac81f0d61aa8e6f9a8d4 Fix array out of bounds error in counter shard removal patch by slebresne; reviewed by yukim for CASSANDRA-3514
  CHANGES.txt
  src/java/org/apache/cassandra/db/context/CounterContext.java
  test/unit/org/apache/cassandra/db/context/CounterContextTest.java"
CASSANDRA-3519,"* 945c2e24f1340242a96f8c927cfe7e9ccba69b73 Fix ConcurrentModificationException in FailureDetector patch by amorton; reviewed by slebresne for CASSANDRA-3519
  CHANGES.txt
  src/java/org/apache/cassandra/gms/FailureDetector.java"
CASSANDRA-3521,"* dcbe1e4d671f6243e826313048cda68971e0235e Make sstabloader recognize compressed sstables patch by yukim; reviewed by slebresne for CASSANDRA-3521
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableLoader.java"
CASSANDRA-3536,"* cef35c0c68f8eae76fbb99424fa0cc8712e4d7d8 fix adding to leveled manifest after streaming patch by jbellis; reviewed by Ben Coverston and tested by Joe Siegrist for CASSANDRA-3536
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/DataTracker.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/compaction/LeveledManifest.java"
CASSANDRA-3537,"* eac19fee0384fdab25ae6d4eaa065199ce04fb4d Add a wrapper to the Runnables executed by DSTPE to prevent exceptions from killing the tasks. Replace ExpiringMap's timer with a DSTPE. patch by jbellis; reviewed by slebresne for CASSANDRA-3537
  src/java/org/apache/cassandra/concurrent/DebuggableScheduledThreadPoolExecutor.java
  src/java/org/apache/cassandra/concurrent/DebuggableThreadPoolExecutor.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/AbstractCassandraDaemon.java
  src/java/org/apache/cassandra/utils/ExpiringMap.java"
CASSANDRA-3544,"* dd5df19f2e4c30e00f4bd3cd312b1f76f897de02 Check for permission problems with directories on startup. Patch by Yuki Morishita, reviewed by brandonwilliams for CASSANDRA-3544
  src/java/org/apache/cassandra/service/AbstractCassandraDaemon.java"
CASSANDRA-3548,"* 09b4f448e2f9a7b4eeda8040bd8bb1893441aa57 fix potential race in AES when repair fails patch by slebresne; reviewed by amorton for CASSANDRA-3548
  CHANGES.txt
  src/java/org/apache/cassandra/service/AntiEntropyService.java"
CASSANDRA-3551,"* fc42891a3a174545658c1b20b09006d824e990ee Fix missing response during range slice repair patch by slebresne; reviewed by jbellis for CASSANDRA-3551
  CHANGES.txt
  src/java/org/apache/cassandra/db/ReadRepairVerbHandler.java"
CASSANDRA-3554,"* 23e1aa4c047061da3ab32f222f2172979967fd45 attempt hint delivery every ten minutes; hint handoff throttle delay default changed to 1ms, from 50 patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3554
  CHANGES.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/db/HintedHandOffManagerMBean.java
  src/java/org/apache/cassandra/db/RowMutation.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/service/StorageServiceMBean.java"
CASSANDRA-3566,"* a95bd467aef3f44ec474734277b65b09a884362c revert interruptible cache saving patch by slebresne; reviewed by jbellis for CASSANDRA-3566
  CHANGES.txt
  src/java/org/apache/cassandra/cache/AutoSavingCache.java
  src/java/org/apache/cassandra/db/compaction/CompactionManagerMBean.java
  src/java/org/apache/cassandra/tools/NodeCmd.java"
CASSANDRA-357,"* 9f570c192d258aef749ce1edbc084da465fd7888 respect ""start"" filter argument for subcolumns. patch by jbellis; reviewed by Even Weaver for CASSANDRA-357
| src/java/org/apache/cassandra/db/filter/SliceQueryFilter.java
| src/java/org/apache/cassandra/db/marshal/AbstractType.java
| test/system/test_server.py
* 480650b8264162fa9ee18584c00f78609266d602 fix typo breaking CompareSubcolumnsWith.  fix timeuuid compare with byte[0]. patch by jbellis; reviewed by Evan Weaver for CASSANDRA-357
  conf/log4j.properties
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/marshal/TimeUUIDType.java
  test/conf/storage-conf.xml
  test/system/test_server.py"
CASSANDRA-3573,"* 0d805c7455494f32f906e97ed294f7d7d4525450 validate compression parameters on add/update of the ColumnFamily patch by Pavel Yaskevich; reviewed by Brandon Williams for CASSANDRA-3573
  CHANGES.txt
  src/java/org/apache/cassandra/cli/CliMain.java
  src/java/org/apache/cassandra/io/compress/CompressionParameters.java
  src/java/org/apache/cassandra/io/compress/SnappyCompressor.java
  src/java/org/apache/cassandra/thrift/ThriftValidation.java"
CASSANDRA-3574,"* 9b4fbb805646088546ea6996a918f6dc40ad993d Fix assertion error in DK patch by slebresne; reviewed by jbellis for CASSANDRA-3574
  CHANGES.txt
  src/java/org/apache/cassandra/cql/QueryProcessor.java"
CASSANDRA-3579,"* a95eafdccd398e775646688e9e37e0ae29e1114a have loadTokens expunge all tombstones patch by jbellis; reviewed by slebresne for CASSANDRA-3579
  src/java/org/apache/cassandra/db/SystemTable.java
* 89e54091fd2b55363f3a4917d0883d688c9e8a9c Fix assertionError for CF with gc_grace = 0
  CHANGES.txt
  src/java/org/apache/cassandra/db/AbstractColumnContainer.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/ExpiringColumn.java
  src/java/org/apache/cassandra/db/filter/QueryFilter.java"
CASSANDRA-3601,"* 511d16321e267d84cc32c88b54a5c896089e6647 Fix NPE in get_count for counters patch by ghinkle; reviewed by slebresne for CASSANDRA-3601
  CHANGES.txt
  src/java/org/apache/cassandra/thrift/CassandraServer.java"
CASSANDRA-3612,"* 68032e9409fc4af4135f4958a52711a0ef3db1e4 fix for broken auto-merge of CASSANDRA-3612
| src/java/org/apache/cassandra/cql/QueryProcessor.java
* 2b44e546096a8b2dc1f20be2165e6044b15dd276 Validate keys from CQL3 mutations. Patch by paul cannon, reviewed by xedin for CASSANDRA-3612
  src/java/org/apache/cassandra/cql3/statements/DeleteStatement.java
  src/java/org/apache/cassandra/cql3/statements/UpdateStatement.java
* 281af5e4f7e37cc82a8f37ce56bd7754ec38306b Validate keys from CQL mutations. Patch by paul cannon, reviewed by xedin for CASSANDRA-3612
  src/java/org/apache/cassandra/cql/QueryProcessor.java"
CASSANDRA-3614,"* db0d3131c2afa9f5bf75e30774d04e6bc56a1d52 fix assertion when dropping a columnfamily with no sstables patch by jbellis; reviewed by slebresne and tested by Andrew Suffield for CASSANDRA-3614
  CHANGES.txt
  src/java/org/apache/cassandra/db/DataTracker.java"
CASSANDRA-3615,"* 48f5d571641e534bb633f1e4e71a308a0bcba1d1 fix commitlog segment overflow patch by rbranson; reviewed by jbellis for CASSANDRA-3615
  CHANGES.txt
  src/java/org/apache/cassandra/db/commitlog/CommitLogSegment.java
  test/unit/org/apache/cassandra/db/CommitLogTest.java"
CASSANDRA-3655,"* 6eac35cfd0bfdf67e96f9147b4aad3ddd24c99c2 Don't ignore IOException during compaction
  src/java/org/apache/cassandra/db/compaction/CompactionIterable.java
  src/java/org/apache/cassandra/db/compaction/PrecompactedRow.java
  src/java/org/apache/cassandra/streaming/IncomingStreamReader.java"
CASSANDRA-3677,"* 333e7ace0aa939c3c22f21e92b2f937f17d22948 Fix NPE during HH when target has been removed from the cluster. Patch by Sam Overton, reviewed by brandonwilliams for CASSANDRA-3677
  src/java/org/apache/cassandra/db/HintedHandOffManager.java"
CASSANDRA-3681,"* 0d0939582ceda20de2f7765e3496bda3d5318520 prevent multiple concurrent HH to the same target patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3681
  src/java/org/apache/cassandra/db/HintedHandOffManager.java"
CASSANDRA-3684,"* b61f1d43e74134b1c4fc27b68d27b59f9d3739d5 Pig: support for composite columns Patch by Janne Jalkanen, reviewed by brandonwilliams for CASSANDRA-3684
  contrib/pig/src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java
  contrib/pig/test/populate-cli.txt
  contrib/pig/test/test_storage.pig
  src/java/org/apache/cassandra/db/marshal/AbstractCompositeType.java"
CASSANDRA-3691,"* e75c53ea14630bb89cde29328723be5e9dcbeb58 fix LeveledCompactionStrategy broken because of generation pre-allocation in LeveledManifest patch by Sylvain Lebresne; reviewed by Pavel Yaskevich for CASSANDRA-3691
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/LeveledManifest.java"
CASSANDRA-3694,"* a6a4beb0e499898d6012941b1c9b59cc7f93f030 Fix ClassCastException during hinted handoff deliveries
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java"
CASSANDRA-370,"* a2899de1374fc084364184cb97eeb9526f7ddf47 [fixed version] avoid opening multiple writers for the current file; the buffered nature of the global logWriter_ could cause problems patch by jbellis; reviewed for CASSANDRA-370 by Sammy Yu
  src/java/org/apache/cassandra/db/CommitLog.java
* 39d97f389207d4a294750ae4ff975682fc5b47e2 Revert ""CASSANDRA-370 avoid opening multiple writers for the current file; the buffered nature of the global logWriter_ could cause problems""
| src/java/org/apache/cassandra/db/CommitLog.java
* 12cbf7528031b6802ece8ffb1cd3b24daceb5468 read(bytes) doesn't automatically throw EOFException if it reads less than asked for, so we need to check for that. patch by jbellis; reviewed by Sammy Yu for CASSANDRA-370
| src/java/org/apache/cassandra/db/CommitLog.java
* 5fd4ff77472ffd2d20c22b801d1c8d6ad37138f8 CASSANDRA-370 avoid opening multiple writers for the current file; the buffered nature of the global logWriter_ could cause problems patch by jbellis; reviewed by Sammy Yu for CASSANDRA-370
  src/java/org/apache/cassandra/db/CommitLog.java"
CASSANDRA-3712,"* 9ca84786b5be14b0a881268e3649b697f7f893b9 fix race between cleanup and flush on secondary index CFSes patch by yukim and jbellis for CASSANDRA-3712
  CHANGES.txt
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java"
CASSANDRA-3727,"* 185eca5d1fa7e384bb888c144d06abbced0fd577 prevent slow clients from postponing shutdown indefinitely patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3727
  src/java/org/apache/cassandra/concurrent/DebuggableThreadPoolExecutor.java
  src/java/org/apache/cassandra/concurrent/NamedThreadFactory.java
  src/java/org/apache/cassandra/db/Memtable.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/AbstractCassandraDaemon.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/thrift/CustomTThreadPoolServer.java
  src/java/org/apache/cassandra/utils/ExpiringMap.java
  test/unit/org/apache/cassandra/service/RemoveTest.java"
CASSANDRA-3740,"* d2c22a855c260a9c4e51ac41f42b7b3de46a0a7b BulkOutputFormat no longer unnecessarily looks for cassandra.yaml. Patch by brandonwilliams, reviewed by Chris Goffinet for CASSANDRA-3740
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/hadoop/BulkRecordWriter.java
  src/java/org/apache/cassandra/io/sstable/AbstractSSTableSimpleWriter.java
  src/java/org/apache/cassandra/io/sstable/SSTableLoader.java
  src/java/org/apache/cassandra/io/sstable/SSTableSimpleUnsortedWriter.java
  src/java/org/apache/cassandra/io/sstable/SSTableSimpleWriter.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/io/sstable/SSTableSimpleWriterTest.java"
CASSANDRA-3765,"* 27b818386cdb123691702726f35d3ed6876c8b25 update configuration checking post-#3197 patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3765
  CHANGES.txt
  examples/hadoop_word_count/src/WordCount.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyInputFormat.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyOutputFormat.java
  src/java/org/apache/cassandra/hadoop/ConfigHelper.java"
CASSANDRA-377,"* bb464c1f3703fc8b31be7859ca32e83e755a60dd use the subcomparator when toStringing slice commands on subcolumns.  this exposes a couple bugs: fix getString in non-string types to accept byte[0], and fix a test to send a long to a LongType subcolumn.  patch by jbellis and Evan Weaver for CASSANDRA-377
  src/java/org/apache/cassandra/db/ReadCommand.java
  src/java/org/apache/cassandra/db/marshal/LexicalUUIDType.java
  src/java/org/apache/cassandra/db/marshal/LongType.java
  src/java/org/apache/cassandra/db/marshal/TimeUUIDType.java
  test/system/test_server.py"
CASSANDRA-3804,"* 5888fcd6aff4e8c00ad7f4c629c5feb1cf9663a0 Avoids some exception when doing migration in a mixed 1.0-1.1 cluster
  src/java/org/apache/cassandra/db/DefsTable.java
  src/java/org/apache/cassandra/service/MigrationManager.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-3812,"* 3d55a2b033ee7c7333230af5ef7c83b44bd8c8f7 respect not only row cache capacity but caching mode when trying to read data patch by Yuki Morishita; reviewed by Pavel Yaskevich for CASSANDRA-3812
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-3849,"* 8eccb80a317082897dc04d033fce500ac43e70aa Don't read saved row cache when it's disabled
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java
  src/java/org/apache/cassandra/net/OutboundTcpConnection.java"
CASSANDRA-3864,"* 58202a8ef364c7e1b35eedd1270c5e72d305e23c Fix unit tests (DefsTest, SSTableImportTest, CompositeTypeTest)
  src/java/org/apache/cassandra/db/marshal/CompositeType.java
  src/java/org/apache/cassandra/tools/SSTableImport.java
  test/unit/org/apache/cassandra/db/DefsTest.java"
CASSANDRA-3870,"* f943a6edf20a62f08c17cdb1c392478fc9846987 Remove wait on hint future from writes
  CHANGES.txt
  src/java/org/apache/cassandra/service/AbstractWriteResponseHandler.java
  src/java/org/apache/cassandra/service/IWriteResponseHandler.java
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-3884,"* 9dbb1b7757b1601e78254fde5a7142e93f46b620 fix for intermittent SchemaDisagreementException patch by Pavel Yaskevich; reviewed by Sylvain Lebresne for CASSANDRA-3884
  CHANGES.txt
  src/java/org/apache/cassandra/config/Schema.java
  src/java/org/apache/cassandra/cql/QueryProcessor.java
  src/java/org/apache/cassandra/cql3/statements/SchemaAlteringStatement.java
  src/java/org/apache/cassandra/db/migration/AddColumnFamily.java
  src/java/org/apache/cassandra/db/migration/AddKeyspace.java
  src/java/org/apache/cassandra/db/migration/DropColumnFamily.java
  src/java/org/apache/cassandra/db/migration/DropKeyspace.java
  src/java/org/apache/cassandra/db/migration/Migration.java
  src/java/org/apache/cassandra/db/migration/MigrationHelper.java
  src/java/org/apache/cassandra/db/migration/UpdateColumnFamily.java
  src/java/org/apache/cassandra/db/migration/UpdateKeyspace.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java"
CASSANDRA-3903,"* 4af2bfee75493d828a89026340cad0c8dc1e62c5 Fix concurrency issues with CQL keyspace creation
  CHANGES.txt
  src/java/org/apache/cassandra/config/Schema.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
* 8f570ea68e50246ae825fa895f0e7fcf934e191b Fix concurrency issues with CQL keyspace creation
  CHANGES.txt
  src/java/org/apache/cassandra/config/Schema.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-3939,"* c2f7af6e7e0eeaffb067bc665e8b5aabd2e9638a CASSANDRA-3939 properly initialize CliSessionState.schema_mwt
  src/java/org/apache/cassandra/cli/CliOptions.java
  src/java/org/apache/cassandra/cli/CliSessionState.java"
CASSANDRA-3954,"* 6423bfe791fb7fc9f1b84cd18e614c7725797aaa skip reading saved key cache if CF's caching strategy is NONE or ROWS_ONLY patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3954
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-3957,"* f2399074465357fefd60521da644d65adc54651d Fix race leading to super column assertion failure
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamily.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
* 008cc7ebdf39b844f130403400b111ef6d7d58a4 Fix race leading to super column assertion failure
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamily.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-3962,"* 1ed6065b5b9d87ef6223683e1d45bebbf0463283 Pig: correctly compose the key from the marshaller Patch by brandonwilliams, reviewed by xedin for CASSANDRA-3962
  contrib/pig/src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java
  contrib/pig/test/populate-cli.txt
  contrib/pig/test/test_storage.pig"
CASSANDRA-3963,"* b2b8a5349a6306f75cd69aa2ed081221b92f3a7f ignore deprecated KsDef/CfDef/ColumnDef fields in native schema patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-3963
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/ColumnDefinition.java
  src/java/org/apache/cassandra/config/KSMetaData.java"
CASSANDRA-3975,"* 24a70804086a07409fef1303f7c53327661806bc delete hints from dropped ColumnFamilies on handoff instead of erroring out patch by jbellis; reviewed by brandonwilliams for CASSANDRA-3975
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilySerializer.java
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/db/UnknownColumnFamilyException.java
  src/java/org/apache/cassandra/db/commitlog/CommitLog.java"
CASSANDRA-3985,"* abb39c2bc4f985b848c07d181b45efd378b4795c fix compaction NPE when out of disk space and assertions disabled patch by jbellis; reviewed by xedin for CASSANDRA-3985
  CHANGES.txt
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/db/compaction/CompactionTask.java
* fbdf7b03c7a8138ae9621bf9bacaada906a2530d ensure that directory is selected for compaction patch by Aaron Morton; reviewed by Pavel Yaskevich for CASSANDRA-3985
  CHANGES.txt
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/db/compaction/CompactionTask.java"
CASSANDRA-3988,"* ef01ca5bcf42fcf6c6a43a77eb4f0a90a93bbc1d Avoids NPE during repair when a keyspace has no CFs
  CHANGES.txt
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-4000,"* edb105ded294a78e30b416ec75e83b0e76a30e02 Fix division by zero error on get_slice
  CHANGES.txt
  src/java/org/apache/cassandra/db/SliceFromReadCommand.java"
CASSANDRA-4019,"* 28a9a15e1cbc2422d56ed28fc6fa7093328c7764 Make BoundedStatsDeque threadsafe. Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-4019
  src/java/org/apache/cassandra/utils/BoundedStatsDeque.java
* d0964715d4d5f6d71c1139bd247962d278aa167c Make BoundedStatsDeque threadsafe. Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-4019
  src/java/org/apache/cassandra/utils/BoundedStatsDeque.java
* 79a0541a64d9f6bb21223b8e4ded18b5eefde184 Make BoundedStatsDeque threadsafe. Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-4019
  src/java/org/apache/cassandra/utils/BoundedStatsDeque.java
* d6a13a68e163e23e0e3dd7087c0fd45fa063e376 Make BoundedStatsDeque threadsafe. Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-4019
  src/java/org/apache/cassandra/utils/BoundedStatsDeque.java
* b7a8b57ca653843e14bad544745a1ee7f0df5f44 Make BoundedStatsDeque threadsafe, removed AbstractStateDeque and AdaptiveLatencyTracker. Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-4019
  src/java/org/apache/cassandra/gms/FailureDetector.java
  src/java/org/apache/cassandra/locator/DynamicEndpointSnitch.java
  src/java/org/apache/cassandra/utils/AbstractStatsDeque.java
  src/java/org/apache/cassandra/utils/BoundedStatsDeque.java
  test/unit/org/apache/cassandra/utils/BoundedStatsDequeTest.java"
CASSANDRA-4021,"* ba06e4128b4cc66edb3e8e3ea02ce5cb5eae211c add tmp flag to Descriptor hashcode patch by Boris Yen; reviewed by jbellis for CASSANDRA-4021
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/Descriptor.java
* c688125ba895c47ad04cb048187e162c4105892a add tmp flag to Descriptor hashcode patch by Boris Yen; reviewed by jbellis for CASSANDRA-4021
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/Descriptor.java"
CASSANDRA-4031,"* 050e61a70bc95257c45f405fdb9997512096f963 re-allow indexing empty column values patch by yukim; reviewed by jbellis for CASSANDRA-4031
  src/java/org/apache/cassandra/cql/UpdateStatement.java
  src/java/org/apache/cassandra/cql3/statements/UpdateStatement.java
  src/java/org/apache/cassandra/db/DecoratedKey.java"
CASSANDRA-4093,"* 0d1d3bca1c4600d76c1b135d56934c3968a81aa3 Improve picking of comparator for composite column with CQL3
| interface/cassandra.thrift
| interface/thrift/gen-java/org/apache/cassandra/thrift/Cassandra.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/CfDef.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/CqlMetadata.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/CqlPreparedResult.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/CqlResult.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/CqlRow.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/KsDef.java
| src/java/org/apache/cassandra/config/Avro.java
| src/java/org/apache/cassandra/config/CFMetaData.java
| src/java/org/apache/cassandra/config/ColumnDefinition.java
| src/java/org/apache/cassandra/config/KSMetaData.java
| src/java/org/apache/cassandra/cql/AlterTableStatement.java
| src/java/org/apache/cassandra/cql/CreateColumnFamilyStatement.java
| src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java
| src/java/org/apache/cassandra/cql3/statements/CreateColumnFamilyStatement.java
| test/unit/org/apache/cassandra/SchemaLoader.java
| test/unit/org/apache/cassandra/config/ColumnDefinitionTest.java
| test/unit/org/apache/cassandra/config/DefsTest.java
| test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
| test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java
* 522730a0fc7ec0847c05867e769c275a160ba171 Move CF and KS validation out of thrift
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/ColumnDefinition.java
  src/java/org/apache/cassandra/config/KSMetaData.java
  src/java/org/apache/cassandra/cql/AlterTableStatement.java
  src/java/org/apache/cassandra/cql/CreateColumnFamilyStatement.java
  src/java/org/apache/cassandra/cql/CreateKeyspaceStatement.java
  src/java/org/apache/cassandra/cql/QueryProcessor.java
  src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateColumnFamilyStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateIndexStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateKeyspaceStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropIndexStatement.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java
  src/java/org/apache/cassandra/thrift/ThriftValidation.java
  test/unit/org/apache/cassandra/SchemaLoader.java
  test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java
* 1ea2a60e846a24318a993d72bf88d2d784d593d0 Improve picking of comparator for composite column with CQL3
| interface/cassandra.thrift
| interface/thrift/gen-java/org/apache/cassandra/thrift/Cassandra.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/CfDef.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/CqlMetadata.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/CqlPreparedResult.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/CqlResult.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/CqlRow.java
| interface/thrift/gen-java/org/apache/cassandra/thrift/KsDef.java
| src/java/org/apache/cassandra/config/Avro.java
| src/java/org/apache/cassandra/config/CFMetaData.java
| src/java/org/apache/cassandra/config/ColumnDefinition.java
| src/java/org/apache/cassandra/config/KSMetaData.java
| src/java/org/apache/cassandra/cql/AlterTableStatement.java
| src/java/org/apache/cassandra/cql/CreateColumnFamilyStatement.java
| src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java
| src/java/org/apache/cassandra/cql3/statements/CreateColumnFamilyStatement.java
| test/unit/org/apache/cassandra/SchemaLoader.java
| test/unit/org/apache/cassandra/config/ColumnDefinitionTest.java
| test/unit/org/apache/cassandra/config/DefsTest.java
| test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
| test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java
* 56dc5df7b435db8ffd468f3add01077527067589 Move CF and KS validation out of thrift
  CHANGES.txt"
CASSANDRA-4095,"* 5cde93d9607ddbdb5316afaa2be9b9132d1bec3f Fix intermittent NPE in get_slice
  CHANGES.txt
  src/java/org/apache/cassandra/db/Row.java
  src/java/org/apache/cassandra/db/SliceFromReadCommand.java"
CASSANDRA-4112,"* 3fd0fb6aa0038f0c8aaf34f98f2ceed2f308a501 Fix exception during cleanup for Leveled compaction
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/LeveledManifest.java"
CASSANDRA-4145,"* c738813098e4306f6e102526121820dbbb3ee648 support PropertyFileSnitch in bulk loader patch by Ji Cheng; reviewed by jbellis for CASSANDRA-4145
  CHANGES.txt
  src/java/org/apache/cassandra/locator/PropertyFileSnitch.java"
CASSANDRA-4154,"* b184972b0f83487cb44ce7c211d3ca7cd5dbb3eb fix wide row iteration when last row read was deleted patch by jbellis; reviewed by brandonwilliams for CASSANDRA-4154
  CHANGES.txt
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java"
CASSANDRA-4163,"* 36a9f9bd8f70b35a13fe510576635c619b2b81ff fix NPE in cql3 ALTER TABLE patch by pcannon; reviewed by jbellis for CASSANDRA-4163
  CHANGES.txt
  build.xml
  src/java/org/apache/cassandra/cql3/Cql.g
  src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java"
CASSANDRA-4166,"* 01a8c1c5f5f90e50ba0598e88879d725a7cd3673 Fix typo in BRW config. Patch by Michal Michalski, reviewed by brandonwilliams for CASSANDRA-4166
  src/java/org/apache/cassandra/hadoop/BulkRecordWriter.java"
CASSANDRA-4181,"* 7daa6625a19e7556e0514e7c46efe6dab0b9de14 Fix wide row counter deserialization. Patch by Marco Cova, reviewed by brandonwilliams for CASSANDRA-4181
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java
* edf9e0e1695b89b085453ef1de9bef3a69e23b56 Fix wide row counter deserialization. Patch by Marco Cova, reviewed by brandonwilliams for CASSANDRA-4181
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java"
CASSANDRA-4195,"* 51a9fd131a815bf4d368d89b0961429a1d51a532 fix 1.0.x node join to mixed version cluster, other nodes >= 1.1 patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-4195
  CHANGES.txt
  src/java/org/apache/cassandra/service/MigrationManager.java"
CASSANDRA-4201,"* 30e78d6dc98b7e425c121c9a40c4b803dd9a9e7b preserve commitlog size cap when recycling segments at startup patch by jbellis; reviewed by vijay for CASSANDRA-4201
  CHANGES.txt
  src/java/org/apache/cassandra/db/commitlog/CommitLogAllocator.java"
CASSANDRA-4202,"* 6d38881430c9010b2249a91953fe1bae038b0364 Fix CQL3 prepared statements in BATCH
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/BatchStatement.java
  src/java/org/apache/cassandra/cql3/statements/DeleteStatement.java
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java
  src/java/org/apache/cassandra/cql3/statements/UpdateStatement.java"
CASSANDRA-4219,"* 96d6aa269bfa03cd3afc0da60424ca97886aa2ce fix the problem re-creating Keyspace/ColumnFamily patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-4219
  CHANGES.txt
  src/java/org/apache/cassandra/config/Schema.java
  src/java/org/apache/cassandra/db/DefsTable.java"
CASSANDRA-4221,"* 1d9b7f5597f2cd090e312e270431ab56c81de9d9 Try to stop all compaction upon Keyspace or ColumnFamily drop patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-4221
  CHANGES.txt
  src/java/org/apache/cassandra/cache/AutoSavingCache.java
  src/java/org/apache/cassandra/db/DefsTable.java
  src/java/org/apache/cassandra/db/compaction/AbstractCompactionIterable.java
  src/java/org/apache/cassandra/db/compaction/CompactionInfo.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/index/SecondaryIndexBuilder.java
  src/java/org/apache/cassandra/utils/FBUtilities.java"
CASSANDRA-4223,"* 2db61ab9e0a5fe7f764236ec060ee370c19bd593 Ensure unique streaming session id's
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/StreamHeader.java
  src/java/org/apache/cassandra/streaming/StreamInSession.java
  src/java/org/apache/cassandra/streaming/StreamOutSession.java
* bbe105cfa556831041efc27a56b4584bc5b5e143 Ensure unique streaming session id's
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/AbstractStreamSession.java
  src/java/org/apache/cassandra/streaming/StreamHeader.java
  src/java/org/apache/cassandra/streaming/StreamInSession.java
  src/java/org/apache/cassandra/streaming/StreamOutSession.java
* edbd35a322d96b403f67672692cf6f1a6889c7bc Ensure unique streaming session id's
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/AbstractStreamSession.java
  src/java/org/apache/cassandra/streaming/StreamHeader.java
  src/java/org/apache/cassandra/streaming/StreamInSession.java
  src/java/org/apache/cassandra/streaming/StreamOutSession.java"
CASSANDRA-4230,"* 783e5d4c5fab46b1e5964f2743e053351bfe85d1 fix SecondaryIndex LelevedManifest save upon snapshot patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-4230
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-4233,"* d90f0f3e7a2597a4327d39b3047bd34ab9af0c70 ignore min/max compactions settings in LCS patch by slebresne and jbellis for CASSANDRA-4233
  CHANGES.txt
  src/java/org/apache/cassandra/db/CollationController.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/compaction/LeveledCompactionStrategy.java
  src/java/org/apache/cassandra/db/compaction/LeveledCompactionTask.java
  src/java/org/apache/cassandra/db/compaction/LeveledManifest.java"
CASSANDRA-4257,"* cbf0436181fe1f47eff98f54aa161dd5fbca0479 Fix range queries with secondary indexes
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-4269,"* a7ed01cc2b5b785148d245d175ce07ab5fe23c6b Fix setting column metadata for CF with non-string comparator
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/CFDefinition.java
  src/java/org/apache/cassandra/cql3/ColumnIdentifier.java"
CASSANDRA-4275,"* 26a087c9017ee63cb13be0e56d85fdda5a56fff4 Set JVM stack size to 160k for Java 7
  CHANGES.txt
  conf/cassandra-env.sh"
CASSANDRA-4289,"* 267690a140ae7d6dfba169448654f9d15ba2b98e fix Summary component and caches to use correct partitioner patch by Sam Tunnicliffe and Pavel Yaskevich; reviewed by Pavel Yaskevich for CASSANDRA-4289
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/IndexSummary.java
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java
  src/java/org/apache/cassandra/service/CacheService.java
  test/data/serialization/1.2/db.RowMutation.bin
  test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java"
CASSANDRA-4291,"* 59f349de705f38daa8869c64817e27e9657ccc45 Oversize integer in CQL throws NumberFormatException (support for cql3) patch by dbrosius reviewed by pyaskevich for CASSANDRA-4291
  src/java/org/apache/cassandra/cql3/QueryProcessor.java
* edfc06fdd0794831cf7d1401fa98ff38bb4e4210 Oversize integer in CQL throws NumberFormatException patch by dbrosius reviewed by pyaskevich for CASSANDRA-4291
  CHANGES.txt
  src/java/org/apache/cassandra/cql/QueryProcessor.java"
CASSANDRA-4294,"* 1f36de1c7f2bdb10819b9de52bb3c5f3aac84784 Add back backward compatibility for old style replication factor
  CHANGES.txt
  src/java/org/apache/cassandra/config/Avro.java"
CASSANDRA-4300,"* dc9e70eda38ee5dfb6fa2e80bc59b46d49dffa77 update host ID before token
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-4317,"* e6530cc3723a7d2fdc84400bf8cd722474eed589 Gossip protocol version, use it to determine if new host id should be used. Patch by brandonwilliams, reviewed by Vijay for CASSANDRA-4317
  src/java/org/apache/cassandra/gms/ApplicationState.java
  src/java/org/apache/cassandra/gms/VersionedValue.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-4320,"* 2820f050db002d653e3e6474ea5351db198ac71b skip tombstones during hint replay patch by Vijay; reviewed by jbellis for CASSANDRA-4320
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
* 760214577c1ef9534d84402f51c2ad4d2a914aae skip tombstones during hint replay patch by Vijay; reviewed by jbellis for CASSANDRA-4320
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java"
CASSANDRA-4321,"* 75453d0179b841ef2e63475f81484661c2e502cb Improve scrub and allow to run it offline
| CHANGES.txt
| bin/sstablescrub
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/DefsTable.java
| src/java/org/apache/cassandra/db/Table.java
| src/java/org/apache/cassandra/db/compaction/CompactionController.java
| src/java/org/apache/cassandra/db/compaction/CompactionManager.java
| src/java/org/apache/cassandra/db/compaction/LeveledManifest.java
| src/java/org/apache/cassandra/db/compaction/Scrubber.java
| src/java/org/apache/cassandra/hadoop/BulkRecordWriter.java
| src/java/org/apache/cassandra/io/sstable/SSTableLoader.java
| src/java/org/apache/cassandra/io/sstable/SSTableReader.java
| src/java/org/apache/cassandra/service/StorageService.java
| src/java/org/apache/cassandra/tools/BulkLoader.java
| src/java/org/apache/cassandra/tools/StandaloneScrubber.java
| src/java/org/apache/cassandra/utils/OutputHandler.java
| test/unit/org/apache/cassandra/db/ScrubTest.java
* 88b48df21d0bbfa7412a66f6ecf85ea0a0932368 Fix overlapping sstables computation in leveled compaction
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/LeveledManifest.java
  src/java/org/apache/cassandra/dht/Bounds.java
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java"
CASSANDRA-4328,"* 2d0b14e9156a5dabc92c6e3835d97da661f38329 CQL3: Reject 2ndary indexes on table with composite key
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/CreateIndexStatement.java"
CASSANDRA-4331,"* 0627c8aaec966d01500f2bb957aaefb9873fff38 Use correct partitioner when saving + loading caches patch by jbellis; reviewed by xedin for CASSANDRA-4331
  CHANGES.txt
  src/java/org/apache/cassandra/cache/AutoSavingCache.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  test/unit/org/apache/cassandra/db/RowCacheTest.java"
CASSANDRA-4337,"* 2714056562a4435da48f5a12db18c60ea6551f41 manually unmap CLS buffer patch by jbellis; tested by Patrycjusz Matuszak for CASSANDRA-4337
  CHANGES.txt
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/Directories.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogSegment.java
  src/java/org/apache/cassandra/io/util/FileUtils.java
  src/java/org/apache/cassandra/io/util/MmappedSegmentedFile.java"
CASSANDRA-4353,"* 170e14ab97c5bbdaa3f75d85316e290a72e38959 CFMetaData.fromThrift to throw ConfigurationException upon error patch by Sam Overton; reviewed by Pavel Yaskevich for CASSANDRA-4353
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java"
CASSANDRA-4384,"* add2d2db67a34efdf2f12ac59fd129d6b16ee987 Check gossiper's HOST_ID during hinted handoff. Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-4384
  src/java/org/apache/cassandra/db/HintedHandOffManager.java"
CASSANDRA-4400,"* 9a8a8902b223db00fa18c55ecf8f33c269325ea5 Correctly catch exception when Snappy cannot be loaded
  CHANGES.txt
  src/java/org/apache/cassandra/io/compress/SnappyCompressor.java"
CASSANDRA-4411,"* 9fb63a2f93997ffa5b70a291f5045c7f6100eea9 more fixes to scrub catching >= out of order rows patch by Omid Aladini; reviewed by jbellis for CASSANDRA-4411
| src/java/org/apache/cassandra/db/compaction/Scrubber.java
| src/java/org/apache/cassandra/tools/StandaloneScrubber.java
* 115f380a86912e5918f534db2ec2935253909fad fix offline scrub to catch >= out of order rows patch by Omid Aladini; reviewed by jbellis for CASSANDRA-4411
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/Scrubber.java
* ce368f812cc494e13221a208aba20f91019716e8 fix offline scrub to catch >= out of order rows patch by Omid Aladini; reviewed by jbellis for CASSANDRA-4411
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/Scrubber.java
* 35335caa034d5a22dd27058d011b1454fcc87850 Follow up to #4411
| src/java/org/apache/cassandra/dht/Bounds.java
* 02030dd658e6ca0cdb8987fd72e0454066e1b6d6 Fix LCS bug with sstables containing only 1 row
  CHANGES.txt
  src/java/org/apache/cassandra/dht/Bounds.java"
CASSANDRA-4420,"* c716fc7fa03c75f9029d35a2b80ee729f605814e (cql3) delete ""component_index"" column on DROP TABLE call patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-4420
  CHANGES.txt
  src/java/org/apache/cassandra/config/ColumnDefinition.java"
CASSANDRA-4427,"* 988c4132d77b40740b93a9eaca8fb54318bf8a97 Fix bootstrap instajoin, take three. Patch by jbellis and brandonwilliams, reviewed by jbellis for CASSANDRA-4427.
  src/java/org/apache/cassandra/dht/BootStrapper.java
  src/java/org/apache/cassandra/service/StorageService.java
* 916acd4910da5943271d189597ef1908b3bf29d8 handle ApplicationState.SCHEMA not present patch by jbellis for CASSANDRA-4427
  src/java/org/apache/cassandra/service/StorageService.java
* c517c628f882593c46ba467d4f7a0f4dcb308ab2 handle ApplicationState.SCHEMA not present patch by jbellis for CASSANDRA-4427
  src/java/org/apache/cassandra/service/StorageService.java
* 0819ad144c8e3e4c035f8254743ec9cd1f82b919 seed status no longer affects bootstrap setting patch by jbellis; reviewed by slebresne for CASSANDRA-4427
  CHANGES.txt
  src/java/org/apache/cassandra/config/Schema.java
  src/java/org/apache/cassandra/gms/VersionedValue.java
  src/java/org/apache/cassandra/service/MigrationManager.java
  src/java/org/apache/cassandra/service/StorageService.java
* ff1ba870726d9c0de24ff8dad3e23aa96465290e Convert bootstrap state from boolean to 3-way value; detect and retry partial bootstraps on restart. Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-4427
  src/java/org/apache/cassandra/db/SystemTable.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-4439,"* e220efa2a87c8232d87bdca9f2a02cfcef9f1a4c fixes small bug introduced by CASSANDRA-4439
| src/java/org/apache/cassandra/config/CFMetaData.java
* 202f3940dc35411f9b2351a026e859e487b94591 fix ""Can't Modify Index Name"" problem on CF update patch by Pavel Yaskevich; reviewed by Yuki Morishita for CASSANDRA-4439
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  test/unit/org/apache/cassandra/cli/CliTest.java"
CASSANDRA-4456,"* aba1f16be8bf45b3efefe4a42d604dea155b2595 Fix assertion error in getOverlappingSSTable during repair
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java"
CASSANDRA-4460,"* d96e813e06cc9fdf902d79af2962f38f047b14fa Fix SystemTable.setBootstrapState and other merge fallout from #4427. Patch by Dave Brosius and brandonwilliams, reviewed by Dave Brosius for CASSANDRA-4460
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/db/SystemTable.java"
CASSANDRA-4463,"* feae9efa42a3395fce2447e97258ffdbe19d31cb Fix trying to load deleted row into row cache on startup patch by jbellis; reviewed by dbrosius for CASSANDRA-4463
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-4475,"* 70e318eaa919d1824eb31738cf49b22bd2ea78fe Fix using 'key' as primary key in CQL2
  src/java/org/apache/cassandra/cql/CreateColumnFamilyStatement.java"
CASSANDRA-4532,"* 8e03f7bdf26558dc397628c885c5b6ab0cfde3e0 fix potential NPE with both equal and unequal restriction
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-454,"* 1d0cf136f6871730c663db143ada9a9b66034286 remove unused skip argument from anticompaction. change HHM to perform a major compaction instead of anticompaction since that's really what we want there patch by jbellis; reviewed by junrao for CASSANDRA-454
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/db/Table.java
  test/unit/org/apache/cassandra/db/BootstrapTest.java"
CASSANDRA-4553,"* 1124615a65329a4991a5a610fa78af56b0502627 NPE while loading Saved KeyCache patch by Vijay; reviewed by Jonathan Ellis for CASSANDRA-4553
  src/java/org/apache/cassandra/cache/AutoSavingCache.java"
CASSANDRA-4555,"* 9d2b26dac6115c2b6226c3aaebf5bae5cd381e44 make de/serializers agree to use a short length for index expression value patch by jbellis; reviewed by David Alves for CASSANDRA-4555
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/db/RangeSliceCommand.java
  src/java/org/apache/cassandra/thrift/ThriftValidation.java"
CASSANDRA-4561,"* 2c69e2ea757be9492a095aa22b5d51234c4b4102 change ColumnSerializer.deserialize to be able fix timestamps from future, related to CASSANDRA-4561
  src/java/org/apache/cassandra/db/ColumnSerializer.java
* 429fa7a80e22757a55c03e99c27c157824a666af change ColumnSerializer.deserialize to be able fix timestamps from future, related to CASSANDRA-4561
  src/java/org/apache/cassandra/db/ColumnSerializer.java
* cf23bd0a0fd192d991e971bcae94c2447126f873 change SYSTEM_TABLE to SYSTEM_KS related to CASSANDRA-4561 merge
  src/java/org/apache/cassandra/db/DefsTable.java
* 846b14019de484e9bf36e8907c48d3518f09e32f fix broken system.schema_* timestamps on system startup patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-4561
  CHANGES.txt
  src/java/org/apache/cassandra/db/DefsTable.java
  src/java/org/apache/cassandra/db/SystemTable.java"
CASSANDRA-4566,"* 978d7bb7d59492129aee2747308d55f949003b02 fix clientutil.jar dependencies patch by dbrosius and eevans reviewed by eevans for CASSANDRA-4566
  CHANGES.txt
  build.xml
  src/java/org/apache/cassandra/cql/jdbc/JdbcAscii.java
  src/java/org/apache/cassandra/cql/jdbc/JdbcUTF8.java
  src/java/org/apache/cassandra/db/ColumnFamilySerializer.java
  src/java/org/apache/cassandra/db/SchemaCheckVerbHandler.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/streaming/StreamingRepairTask.java
  src/java/org/apache/cassandra/utils/ByteBufferUtil.java
  src/java/org/apache/cassandra/utils/UUIDGen.java
  src/java/org/apache/cassandra/utils/UUIDSerializer.java"
CASSANDRA-4576,"* 1693ee22fe70049ee3dd45eb211fb4f902dc8d9f fix cross-version gossip messaging patch by Pavel Yaskevich; reviewed by Brandon Williams for CASSANDRA-4576
  CHANGES.txt
  src/java/org/apache/cassandra/gms/GossipDigestAck.java
  src/java/org/apache/cassandra/gms/VersionedValue.java"
CASSANDRA-458,"* 778f1dec9b90d22b6b27b8268b404ff65cd7eb8e r/m unused byte-tracking code patch by jbellis; tested for CASSANDRA-458 by Teodor Sigaev
| src/java/org/apache/cassandra/io/IndexHelper.java
| src/java/org/apache/cassandra/io/IteratingRow.java
* aee70135ef001ee13d3aa3f3da5e0d1da7183699 r/m unnecessary SortedFlushable class.  Keeping a 2nd reference to the Flushable in question, when it is only used to pass back to that Flushable for the write phase, was unnecessary & confusing. patch by jbellis; tested for CASSANDRA-458 by Teodor Sigaev
  src/java/org/apache/cassandra/db/BinaryMemtable.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/IFlushable.java
  src/java/org/apache/cassandra/db/Memtable.java"
CASSANDRA-4587,"* b0342978a0a444b067fae25f4bf9a2f7e5dca0e3 avoid recursion in leveled compaction patch by jbellis; reviewed by yukim for CASSANDRA-4587
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/LeveledCompactionStrategy.java"
CASSANDRA-4590,"* e395307893d93a01e976656f6e0f5cee1acf3c3b explain how to work around exec problems in error message patch by jbellis for CASSANDRA-4590
  src/java/org/apache/cassandra/utils/CLibrary.java
* 0388a3370ec0400ccee33e669a3dd635b708ea77 explain how to work around exec problems in error message patch by jbellis for CASSANDRA-4590
  src/java/org/apache/cassandra/utils/CLibrary.java"
CASSANDRA-460,"* 32dc02cad64bd557808a639d9430c1a8ba9afedc fix bit math on column name read patch by jbellis; tested by T Jake Luciani for CASSANDRA-460
  src/java/org/apache/cassandra/db/ColumnSerializer.java"
CASSANDRA-4601,"* 5df7b2512de1f851d2add08d699c948f3d95d9c8 use millis + atomicint for commitlog segment creation patch by amorton; reviewed by jbellis for CASSANDRA-4601
  CHANGES.txt
  src/java/org/apache/cassandra/db/commitlog/CommitLogArchiver.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogSegment.java"
CASSANDRA-4602,"* 08c654601f8a54d50195c9a96939be47a428fec9 increase Xss to 160k to accomodate latest 1.6 JVMs patch by jbellis; reviewed by brandonwilliams for CASSANDRA-4602
  CHANGES.txt
  conf/cassandra-env.sh"
CASSANDRA-4612,"* 76e092b2d3785ac1549f1af16702839bee570c69 Fix cql error with ORDER BY when using IN patch by Pavel Yaskevich; reviewed by Sylvain Lebresne for CASSANDRA-4612
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
* e681a1a62280dca648b8dd1b6a1d386cb1a2788e Fix cql error with ORDER BY when using IN patch by Pavel Yaskevich; reviewed by Sylvain Lebresne for CASSANDRA-4612
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-4621,"* 0ea28c858e3f693dc44d38cd4306e02049d01ce8 fix for M3P.midPoint patch by slebresne; reviewed by jbellis for CASSANDRA-4621
  src/java/org/apache/cassandra/dht/Murmur3Partitioner.java
* 93685a4780f2b03319f49a6cba17ef98ea22728e Fix assertion in getRestrictedRange with Murmur3Partitioner
  CHANGES.txt
  src/java/org/apache/cassandra/dht/Murmur3Partitioner.java"
CASSANDRA-4622,"* 2c250c660f628d54ad57edd90d4c8ff5a4a407ee corrupted saved caches patch by Vijay; reviewed by jbellis for CASSANDRA-4622
  src/java/org/apache/cassandra/cache/AutoSavingCache.java"
CASSANDRA-4648,"* c74a871e7a5882802de46550ea5bab0220f16883 Fix bug starting C* with simple authentication
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/CQLStatement.java
  src/java/org/apache/cassandra/cql3/QueryProcessor.java
  src/java/org/apache/cassandra/cql3/statements/BatchStatement.java
  src/java/org/apache/cassandra/cql3/statements/CFStatement.java
  src/java/org/apache/cassandra/cql3/statements/DeleteStatement.java
  src/java/org/apache/cassandra/cql3/statements/GrantStatement.java
  src/java/org/apache/cassandra/cql3/statements/ListGrantsStatement.java
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java
  src/java/org/apache/cassandra/cql3/statements/PermissionAlteringStatement.java
  src/java/org/apache/cassandra/cql3/statements/RevokeStatement.java
  src/java/org/apache/cassandra/cql3/statements/SchemaAlteringStatement.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/cql3/statements/TruncateStatement.java
  src/java/org/apache/cassandra/cql3/statements/UpdateStatement.java
  src/java/org/apache/cassandra/cql3/statements/UseStatement.java
  src/java/org/apache/cassandra/service/RangeSliceVerbHandler.java"
CASSANDRA-4675,"* 93bd3d896f828b1c2f8b02d7361f33aa67fcbc2b NTS will default unconfigured DC replicas to zero patch by jbellis; reviewed by brandonwilliams for CASSANDRA-4675
  CHANGES.txt
  src/java/org/apache/cassandra/locator/NetworkTopologyStrategy.java"
CASSANDRA-4685,"* 2d76556742998ca332e562aba3398ab49c803d67 Fix scrubbing of CQL3 create tables
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/thrift/ThriftValidation.java"
CASSANDRA-4689,"* a4c397b49c08f543fd42ddc21a6312bce5571947 fix error when using ORDER BY with extended selections patch by Pavel Yaskevich; reviewed by Sylvain Lebresne for CASSANDRA-4689
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-4700,"* 0307dca20d9d641d2c715772d3a4b33f1c6642da use default consistency level in counter validation if none is explicitly provided patch by Nitesh Kumar; reviewed by jbellis for CASSANDRA-4700
  CHANGES.txt
  src/java/org/apache/cassandra/cql/UpdateStatement.java"
CASSANDRA-4706,"* 0dda10d76509391308e1e31bf99beca326629a3d Fix validation when using counter and regular columns in the same table
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java"
CASSANDRA-4728,"* 480cb2f5a29a271b91008becaa68a7c11caf2024 add check to PropertyFileSnitch to verify presence of location for local node patch by jbellis; reviewed by brandonwilliams for CASSANDRA-4728
  CHANGES.txt
  src/java/org/apache/cassandra/locator/PropertyFileSnitch.java"
CASSANDRA-475,"* 4a583ce84932083b8d6c1b1b564462cd4770dd25 Reset the input and output protocol on each after each successful call.  Patch by Nate McCall, reviewed by brandonwilliams for CASSANDRA-475
  src/java/org/apache/cassandra/thrift/CustomTThreadPoolServer.java
* 0b0c523581a2223777422d335289e593d9c58de6 make framed transport the default so malformed requests can't OOM the server.  patch by Nate McCall; reviewed by jbellis for CASSANDRA-475
  CHANGES.txt
  conf/cassandra.yaml
  contrib/py_stress/stress.py
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/Converter.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/thrift/CassandraDaemon.java
  test/system/__init__.py"
CASSANDRA-4765,"* e400d0eca27f3c00e36e3871a30ac5c97891abbe fix possible stackoverflow when compacting 1000s of sstables patch by jbellis; reviewed by yukim for CASSANDRA-4765
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-4774,"* 299396537102b4ac5bf6d40952a1b6ef83ce3662 Fix rare IOOBE in sendGossip Patch by Chris Lohfink, reviewed by brandonwilliams for CASSANDRA-4774
  src/java/org/apache/cassandra/gms/Gossiper.java"
CASSANDRA-478,"* bdb7bda5e07b22fe91679ce3e7c4c10a9380d5f4 move callback synchronization into ResponseVerbHandler where it's less likely to be a maintenance problem patch by jbellis for CASSANDRA-478
| src/java/org/apache/cassandra/net/ResponseVerbHandler.java
| src/java/org/apache/cassandra/service/ConsistencyManager.java
| src/java/org/apache/cassandra/service/QuorumResponseHandler.java
| src/java/org/apache/cassandra/utils/SimpleCondition.java
* 1782c886fa051ea5e2708159d774c92c72c73883 r/m unused attachContext. patch by jbellis for CASSANDRA-478
| src/java/org/apache/cassandra/dht/BootStrapper.java
| src/java/org/apache/cassandra/net/IAsyncCallback.java
| src/java/org/apache/cassandra/net/IMessagingService.java
| src/java/org/apache/cassandra/net/MessagingService.java
| src/java/org/apache/cassandra/service/ConsistencyManager.java
| src/java/org/apache/cassandra/service/QuorumResponseHandler.java
* 93ad8a2e42d9b6a17f009ca85d5d1a5e671a157e cleanup Message; add asserts patch by jbellis for CASSANDRA-478
| src/java/org/apache/cassandra/net/Message.java
* 78f7a35ae364b6741c6a2c7757faec6b3e54493d logging & cleanup in ConsistencyManager patch by jbellis for CASSANDRA-478
  src/java/org/apache/cassandra/db/Row.java
  src/java/org/apache/cassandra/service/ConsistencyManager.java"
CASSANDRA-4783,"* 3b8bff78d40804b37fa0658b0a8e4342dd98366f Fix assertion error in cql3 select
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/DeleteStatement.java
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/cql3/statements/UpdateStatement.java"
CASSANDRA-4786,"* c8a7618763f59372d291f928d996d2593b93872b Fix potential NPE during CFS reload
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/Memtable.java"
CASSANDRA-4795,"* c315745c92dcee3954dad830bf8756307e3c6bf5 Re-enable unknown options in compaction/replication strategy
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/KSMetaData.java
  src/java/org/apache/cassandra/cql/CFPropDefs.java
  src/java/org/apache/cassandra/cql3/CFPropDefs.java
  src/java/org/apache/cassandra/cql3/statements/AlterKeyspaceStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateKeyspaceStatement.java
  src/java/org/apache/cassandra/db/DefsTable.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/locator/AbstractReplicationStrategy.java
  src/java/org/apache/cassandra/locator/LocalStrategy.java
  src/java/org/apache/cassandra/locator/NetworkTopologyStrategy.java
  src/java/org/apache/cassandra/locator/OldNetworkTopologyStrategy.java
  src/java/org/apache/cassandra/locator/SimpleStrategy.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java
  test/unit/org/apache/cassandra/locator/ReplicationStrategyEndpointCacheTest.java
* 360d1a2224c8e3614cd665393e0241dc0ba06a58 Validate compaction strategy options
  CHANGES.txt
  NEWS.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/cql/CFPropDefs.java
  src/java/org/apache/cassandra/cql/CreateColumnFamilyStatement.java
  src/java/org/apache/cassandra/cql3/CFPropDefs.java
  src/java/org/apache/cassandra/db/compaction/AbstractCompactionStrategy.java
  src/java/org/apache/cassandra/db/compaction/LeveledCompactionStrategy.java
  src/java/org/apache/cassandra/db/compaction/SizeTieredCompactionStrategy.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java
* dc94f3730f50005524edf946772e00bdb7c80327 Refuse unrecognized replication strategy options
  CHANGES.txt
  src/java/org/apache/cassandra/locator/AbstractReplicationStrategy.java
  src/java/org/apache/cassandra/locator/LocalStrategy.java
  src/java/org/apache/cassandra/locator/NetworkTopologyStrategy.java
  src/java/org/apache/cassandra/locator/SimpleStrategy.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java"
CASSANDRA-4799,"* e1491f3f24ef0a1898dfa598956d6781f55d0957 Fix test setup and repair/LCS edge case for CASSANDRA-4799
  src/java/org/apache/cassandra/db/compaction/LeveledCompactionStrategy.java
  test/unit/org/apache/cassandra/db/compaction/LeveledCompactionStrategyTest.java"
CASSANDRA-481,"* 6d070498beeba4d431a09043fd83abb96f5eff9d r/m undocumented term aliases in favor of a single 'comment' field. patch by jbellis and Brandon Williams; reviewed by Michael Greene for CASSANDRA-481
  conf/storage-conf.xml
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/service/CassandraServer.java
  test/system/test_server.py"
CASSANDRA-4813,"* 901a54a6d6c7b6f7276088e67b45f95dcc7b57f7 change stream session ID from (host, counter) to TimeUUID; patch by yukim reviewed by Michael Kjellman for CASSANDRA-4813
  CHANGES.txt
  src/java/org/apache/cassandra/net/OutboundTcpConnectionPool.java
  src/java/org/apache/cassandra/streaming/AbstractStreamSession.java
  src/java/org/apache/cassandra/streaming/FileStreamTask.java
  src/java/org/apache/cassandra/streaming/IncomingStreamReader.java
  src/java/org/apache/cassandra/streaming/StreamHeader.java
  src/java/org/apache/cassandra/streaming/StreamInSession.java
  src/java/org/apache/cassandra/streaming/StreamOutSession.java
  src/java/org/apache/cassandra/streaming/StreamReply.java
  src/java/org/apache/cassandra/streaming/StreamReplyVerbHandler.java
  src/java/org/apache/cassandra/streaming/StreamRequest.java
  test/data/serialization/1.2/streaming.StreamHeader.bin
  test/data/serialization/1.2/streaming.StreamReply.bin
  test/data/serialization/1.2/streaming.StreamRequestMessage.bin
  test/unit/org/apache/cassandra/streaming/SerializationsTest.java
  test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java"
CASSANDRA-4832,"* 72dcc298d335721c053444249c157e9a6431ebea fix indexing empty column values patch by jbellis for CASSANDRA-4832
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java"
CASSANDRA-4842,"* 5d5207b9111ddbc576d67153175e5a6e27994b73 Fix CompositeType.{get/from}String methods
  CHANGES.txt
  src/java/org/apache/cassandra/db/marshal/AbstractCompositeType.java
  test/unit/org/apache/cassandra/db/marshal/CompositeTypeTest.java"
CASSANDRA-4846,"* db3c198ad0ce46e255202d03ead7ad44df127070 fix BulkLoader NPE caused by #4732 patch by jbellis; reviewed by yukim for CASSANDRA-4846
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java"
CASSANDRA-4850,"* da3ab363b0bb1f7375e4bc4a5d1cd7cc41c0a4e6 Remove system tables accounting from schema patch by Pavel Yaskevich; reviewed by Jonathan Ellis for CASSANDRA-4850
  CHANGES.txt
  src/java/org/apache/cassandra/config/Schema.java
  src/java/org/apache/cassandra/db/DefsTable.java
  src/java/org/apache/cassandra/db/SystemTable.java"
CASSANDRA-4860,"* da93a1cfe483a1522b2c149d287279a74e43a8a9 replace measureDeep in key cache with custom calculation patch by Vijay; reviewed by Jonathan Ellis for CASSANDRA-4860
  src/java/org/apache/cassandra/cache/CacheKey.java
  src/java/org/apache/cassandra/cache/ConcurrentLinkedHashCache.java
  src/java/org/apache/cassandra/cache/IMeasurableMemory.java
  src/java/org/apache/cassandra/cache/IRowCacheEntry.java
  src/java/org/apache/cassandra/cache/KeyCacheKey.java
  src/java/org/apache/cassandra/cache/RowCacheKey.java
  src/java/org/apache/cassandra/cache/RowCacheSentinel.java
  src/java/org/apache/cassandra/db/ColumnFamily.java
  src/java/org/apache/cassandra/db/DeletionInfo.java
  src/java/org/apache/cassandra/db/DeletionTime.java
  src/java/org/apache/cassandra/db/RowIndexEntry.java
  src/java/org/apache/cassandra/io/sstable/IndexHelper.java
  src/java/org/apache/cassandra/utils/ObjectSizes.java
  test/unit/org/apache/cassandra/cache/CacheProviderTest.java
  test/unit/org/apache/cassandra/cache/ObjectSizeTest.java
* 8d6e43f34f4b2507fe294ec08e7a5dafe2a9928e update measure to measureDeep patch by vijay reviewed by jbellis for CASSANDRA-4860
  src/java/org/apache/cassandra/cache/ConcurrentLinkedHashCacheProvider.java
* 94fa82558f198489e0eefb0c14392607d5d23224 update measure to measureDeep patch by vijay reviewed by jbellis for CASSANDRA-4860
  src/java/org/apache/cassandra/cache/ConcurrentLinkedHashCache.java"
CASSANDRA-491,"* c1e22db3bf6cd15675b4d5bc119d8b259122ba64 Avoid using non-existent supercolumn timestamp in delete op.  Better conceptual integrity to delete w/ correct system time anyway. patch by jbellis; reviewed by junrao for CASSANDRA-491
| src/java/org/apache/cassandra/db/HintedHandOffManager.java
* eeb164e2c031a58a5c1c6c071236037b5f5e7835 fix HH of tombstones.  patch by jbellis; reviewed by junrao for CASSANDRA-491
  src/java/org/apache/cassandra/db/HintedHandOffManager.java"
CASSANDRA-4916,"* 457b546e65b851d6ddac44148c66949558e9410b don't report harmless cache read problem as debug, don't rely on FileInputStream.available to always return > 0 patch by dbrosius reviewed by mkjellman for CASSANDRA-4916
  src/java/org/apache/cassandra/cache/AutoSavingCache.java
  src/java/org/apache/cassandra/io/util/LengthAvailableInputStream.java
* 1d641f5111613a5a049042a8723d0dd9ffc29c02 don't report harmless cache read problem as debug, don't rely on FileInputStream.available to always return > 0 patch by dbrosius reviewed by mkjellman for CASSANDRA-4916
  src/java/org/apache/cassandra/cache/AutoSavingCache.java
  src/java/org/apache/cassandra/io/util/LengthAvailableInputStream.java"
CASSANDRA-4934,"* f09a89f4cd13af2087fcc92f09f6cf1ee4785feb acquire references on overlapped sstables patch by jbellis; reviewed by vijay for CASSANDRA-4934
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/compaction/CompactionController.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/compaction/CompactionTask.java
  src/java/org/apache/cassandra/db/compaction/Scrubber.java
  src/java/org/apache/cassandra/streaming/IncomingStreamReader.java"
CASSANDRA-4939,"* 6677d075e9cadc073633fd84f810b9fc5174db45 Add debug logging to list filenames processed by o.a.c.db.Directories.migrateFile method patch by dbrosius reviewed by slebresne for CASSANDRA-4939
  CHANGES.txt
  src/java/org/apache/cassandra/db/Directories.java
  test/unit/org/apache/cassandra/db/DirectoriesTest.java
* 2964951e07a5123a9d95d29223fc0539f4baa3ed Add debug logging to list filenames processed by o.a.c.db.Directories.migrateFile method patch by dbrosius reviewed by slebresne for CASSANDRA-4939
  CHANGES.txt
  src/java/org/apache/cassandra/db/Directories.java
  test/unit/org/apache/cassandra/db/DirectoriesTest.java"
CASSANDRA-4945,"* b4f2f2014e088b293fc7305f9c3e6409ee428495 Correctly handle prepared operation on collections
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/Cql.g
  src/java/org/apache/cassandra/cql3/operations/ColumnOperation.java
  src/java/org/apache/cassandra/cql3/operations/ListOperation.java
  src/java/org/apache/cassandra/cql3/operations/MapOperation.java
  src/java/org/apache/cassandra/cql3/operations/Operation.java
  src/java/org/apache/cassandra/cql3/operations/PreparedOperation.java
  src/java/org/apache/cassandra/cql3/operations/SetOperation.java
  src/java/org/apache/cassandra/cql3/statements/UpdateStatement.java"
CASSANDRA-4975,"* f31c53049d37b16e413eb9ae7d481014f5391e9c Switch word count to M3P.  Patch by brandonwilliams reviewed by yukim for CASSANDRA-4975
  examples/hadoop_word_count/src/WordCount.java
  examples/hadoop_word_count/src/WordCountCounters.java"
CASSANDRA-4976,"* d0292ef45ad215e3980fc92fe0ef1e9cf5604fa8 Fix 'Wrong class type' assertion error in CounterColumn
  CHANGES.txt
  src/java/org/apache/cassandra/db/CounterColumn.java
* 298606afdc5d0caf5e47bc8aac327d46e67111d2 better assertion message to help with issues like CASSANDRA-4976
  src/java/org/apache/cassandra/db/CounterColumn.java"
CASSANDRA-4982,"* 3a097ccff5420cdb3aa853e3cbc272b2187ebd8a Fix adding columns when table has collections
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java"
CASSANDRA-5025,"* c9ce1f0111202044d686f335fc2ebf0fe771ed79 Pull schema immediately when bootstrapping. Patch by Chris Herron and brandonwilliams, reviewed by jbellis for CASSANDRA-5025
  src/java/org/apache/cassandra/service/MigrationManager.java
  src/java/org/apache/cassandra/service/StorageService.java
* 442a7b3a60c5cc765221cc6f07add3546a8e9c3d Pull schema immediately when bootstrapping. Patch by Chris Herron and brandonwilliams, reviewed by jbellis for CASSANDRA-5025
| src/java/org/apache/cassandra/service/MigrationManager.java
| src/java/org/apache/cassandra/service/StorageService.java
* 8d55474febf31980f2eb158ae0ff9717b0761f1e Improve schema propagation performance patch by jbellis; reviewed by Chris Herron and xedin for CASSANDRA-5025
  CHANGES.txt
  src/java/org/apache/cassandra/service/MigrationManager.java"
CASSANDRA-5030,"* f91001a085886a75f62c7eef019fd32bdc4c9fe1 Fix for IndexHelper.IndexFor OOB Exception
  CHANGES.txt
  src/java/org/apache/cassandra/db/columniterator/SSTableNamesIterator.java
  src/java/org/apache/cassandra/io/sstable/IndexHelper.java
  test/unit/org/apache/cassandra/io/sstable/IndexHelperTest.java"
CASSANDRA-507,"* c06244916ad3b3527345f4a6b6130214ddc987fb Compression chunk_length shouldn't be mandatory
  src/java/org/apache/cassandra/cql3/CFPropDefs.java
* 7518f7ce9f012cf5a5bbcf976a1590a1b5531db0 all rows go through deserialize/removeDeleted so we can GC tombstones. patch by jbellis; reviewed by junrao for CASSANDRA-507
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/Memtable.java
  src/java/org/apache/cassandra/io/CompactionIterator.java
  test/unit/org/apache/cassandra/db/CompactionsTest.java"
CASSANDRA-5088,"* 55f936f1da13dc732da52735f1d1becc18546b0b Simplify CompressedRandomAccessReader to work around JDK FD bug patch by jbellis; reviewed by Aleksey Yeschenko and tested by Cathy Daw for CASSANDRA-5088
  CHANGES.txt
  src/java/org/apache/cassandra/io/compress/CompressedRandomAccessReader.java"
CASSANDRA-5089,"* 8a3b29174b7b6ed921b93fe604fac95afd1d8924 improve validation for start key, end token ranges patch by jbellis; reviewed by dbrosius for CASSANDRA-5089
  src/java/org/apache/cassandra/thrift/ThriftValidation.java"
CASSANDRA-5097,"* b8d88023a7e91790665c272c6b7b6cd5aa13e7e4 Allow non-schema system ks modification for shuffle to work; patch by Jouni Hartikainen, reviewed by Aleksey Yeschenko for CASSANDRA-5097
  CHANGES.txt
  src/java/org/apache/cassandra/service/ClientState.java"
CASSANDRA-5102,"* 9852a9360cc3a0b42abbf2655db64d5107f4778a Correctly gossip with nodes >= 1.1.7 Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-5102
  CHANGES.txt
  src/java/org/apache/cassandra/gms/GossipDigestAck.java"
CASSANDRA-5105,"* ee0be0624b0ee1b2151b9be92a5d4e6334801cde fix compressed stream sending extra chunk; patch by yukim reviewed by mkjellman for CASSANDRA-5105
  CHANGES.txt
  src/java/org/apache/cassandra/io/compress/CompressionMetadata.java
  test/unit/org/apache/cassandra/streaming/compress/CompressedInputStreamTest.java"
CASSANDRA-5106,"* ccdb632d4005165efdc65dfa3aa0a1799ae0a87b re-allow wrapping ranges for start_token/end_token range pairing patch by jbellis; reviewed by brandonwilliams for CASSANDRA-5106
  src/java/org/apache/cassandra/thrift/ThriftValidation.java"
CASSANDRA-5107,"* 43c9e8156a5b9ae3fd5fce07f885365538d6ca50 Preload essential gossip states before startup. Patch by brandonwilliams, reviewed by slebresne for CASSANDRA-5107
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-5125,"* a950b9257f4c92d067eb5e1d437096699123ac9b Support indexes on composite column components
  build.xml
  src/java/org/apache/cassandra/cache/AutoSavingCache.java
  src/java/org/apache/cassandra/config/Avro.java
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/ColumnDefinition.java
  src/java/org/apache/cassandra/config/KSMetaData.java
  src/java/org/apache/cassandra/cql/AlterTableStatement.java
  src/java/org/apache/cassandra/cql/CreateColumnFamilyStatement.java
  src/java/org/apache/cassandra/cql/DropIndexStatement.java
  src/java/org/apache/cassandra/cql/QueryProcessor.java
  src/java/org/apache/cassandra/cql3/CFDefinition.java
  src/java/org/apache/cassandra/cql3/ColumnNameBuilder.java
  src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateColumnFamilyStatement.java
  src/java/org/apache/cassandra/cql3/statements/CreateIndexStatement.java
  src/java/org/apache/cassandra/cql3/statements/DropIndexStatement.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/EmptyColumns.java
  src/java/org/apache/cassandra/db/filter/ExtendedFilter.java
  src/java/org/apache/cassandra/db/filter/IDiskAtomFilter.java
  src/java/org/apache/cassandra/db/filter/NamesQueryFilter.java
  src/java/org/apache/cassandra/db/filter/SliceQueryFilter.java
  src/java/org/apache/cassandra/db/index/AbstractSimplePerColumnSecondaryIndex.java
  src/java/org/apache/cassandra/db/index/SecondaryIndex.java
  src/java/org/apache/cassandra/db/index/SecondaryIndexManager.java
  src/java/org/apache/cassandra/db/index/SecondaryIndexSearcher.java
  src/java/org/apache/cassandra/db/index/composites/CompositesIndex.java
  src/java/org/apache/cassandra/db/index/composites/CompositesIndexOnClusteringKey.java
  src/java/org/apache/cassandra/db/index/composites/CompositesIndexOnPartitionKey.java
  src/java/org/apache/cassandra/db/index/composites/CompositesIndexOnRegular.java
  src/java/org/apache/cassandra/db/index/composites/CompositesSearcher.java
  src/java/org/apache/cassandra/db/index/keys/KeysIndex.java
  src/java/org/apache/cassandra/db/index/keys/KeysSearcher.java
  src/java/org/apache/cassandra/db/marshal/AbstractType.java
  src/java/org/apache/cassandra/db/marshal/CompositeType.java
  src/java/org/apache/cassandra/service/MigrationManager.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java
  src/java/org/apache/cassandra/utils/ByteBufferUtil.java
  test/unit/org/apache/cassandra/SchemaLoader.java
  test/unit/org/apache/cassandra/cli/CliTest.java
  test/unit/org/apache/cassandra/config/CFMetaDataTest.java
  test/unit/org/apache/cassandra/config/ColumnDefinitionTest.java
  test/unit/org/apache/cassandra/config/DefsTest.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
  test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java"
CASSANDRA-5127,"* 945853076c44d071ba5b554ecb69a080e5719d32 Handle states for non-vnode clusters correctly. Patch by brandonwilliams reviewed by slebresne for CASSANDRA-5127
  CHANGES.txt
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-5133,"* 2354d62e3709ac4d73eb7bcf11504f9d93f9ff0d GPFS returns a default rack/dc as a last resort. Patch by brandonwilliams reviewed by vijay for CASSANDRA-5133
  src/java/org/apache/cassandra/locator/GossipingPropertyFileSnitch.java
* 1108ede0ff459d62add74487aa949139ed11d3ab GPFS loads dc/rack info from saved state if needed. Patch by brandonwilliams, reviewed by vijay for CASSANDRA-5133
  CHANGES.txt
  src/java/org/apache/cassandra/db/SystemTable.java
  src/java/org/apache/cassandra/locator/GossipingPropertyFileSnitch.java"
CASSANDRA-5136,"* 1c2a69c3580c0f093e48e06aea06408fe6e9d942 fix validation compaction of empty rows patch by Carl Yeksigian; reviewed by jbellis for CASSANDRA-5136
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java"
CASSANDRA-5138,"* 371e7bf69bbfdca0f5415e32a8c0f652711f5257 Better validation when accessing CQL3 table from thrift
  CHANGES.txt
  src/java/org/apache/cassandra/thrift/ThriftValidation.java"
CASSANDRA-5151,"* 7ff2805c7e6a362eb451e6b8dfaec59642fee0f2 revert CASSANDRA-5151 from 1.2
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/KSMetaData.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/SystemTable.java
  src/java/org/apache/cassandra/db/compaction/CompactionTask.java
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
  test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java
* aa90c88be14b337714739cd857c12cad2a9fedeb more robust solution to incomplete compactions + counters patch by yukim; reviewed by jbellis for CASSANDRA-5151
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/KSMetaData.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/SystemTable.java
  src/java/org/apache/cassandra/db/compaction/CompactionTask.java
  src/java/org/apache/cassandra/io/sstable/AbstractSSTableSimpleWriter.java
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
  test/unit/org/apache/cassandra/db/SystemTableTest.java
  test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java"
CASSANDRA-5168,"* 3298c2f19edbb307893d4ba634dd14becc510157 Fix start key/end token validation for wide row iteration. Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-5168
  CHANGES.txt
  src/java/org/apache/cassandra/thrift/ThriftValidation.java"
CASSANDRA-5185,"* 59bf44dd94939cea513a74250f6002357d1f9f2c Fix harmless NPE in MM/HHOM Patch by brandonwilliams, reviewed by Tyler Hobbs for CASSANDRA-5185
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/service/MigrationManager.java
* 7752f018b1cf4bbc03db77e251cd6272356087a9 fix symlinks to data dir not working; patch by yukim reviewed by jbellis for CASSANDRA-5185
  CHANGES.txt
  src/java/org/apache/cassandra/db/Directories.java"
CASSANDRA-5196,"* 7a90c7466fc3a4c372eb1d864bdb8229fdba6391 Improve handling of directory creation failures
  CHANGES.txt
  src/java/org/apache/cassandra/db/Directories.java
  src/java/org/apache/cassandra/io/util/FileUtils.java"
CASSANDRA-5197,"* 828572acdb5bff31f58362425b0c80ce6d606bf8 Avoid throwing AE when hosts don't have a hostId Patch by brandonwilliams, reviewed by iamaleksey for CASSANDRA-5197
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-5201,"* 4cf8a8a6c356889609f9ffb74d548a68e52ec506 Add hadoop progressable compatibility. Patch by Ben Coverston, reviewed by brandonwilliams for CASSANDRA-5201
  build.xml
  src/java/org/apache/cassandra/hadoop/AbstractColumnFamilyInputFormat.java
  src/java/org/apache/cassandra/hadoop/AbstractColumnFamilyOutputFormat.java
  src/java/org/apache/cassandra/hadoop/AbstractColumnFamilyRecordWriter.java
  src/java/org/apache/cassandra/hadoop/BulkOutputFormat.java
  src/java/org/apache/cassandra/hadoop/BulkRecordWriter.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyInputFormat.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyOutputFormat.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordWriter.java
  src/java/org/apache/cassandra/hadoop/HadoopCompat.java
  src/java/org/apache/cassandra/hadoop/Progressable.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlOutputFormat.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlPagingInputFormat.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlPagingRecordReader.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlRecordWriter.java
  src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CqlStorage.java
* 249230834c2ce1ac169b2b3228d5d222f5ecacc2 Add hadoop progressable compatibility. Patch by Ben Coverston, reviewed by brandonwilliams for CASSANDRA-5201
  build.xml
  src/java/org/apache/cassandra/hadoop/AbstractColumnFamilyInputFormat.java
  src/java/org/apache/cassandra/hadoop/AbstractColumnFamilyOutputFormat.java
  src/java/org/apache/cassandra/hadoop/AbstractColumnFamilyRecordWriter.java
  src/java/org/apache/cassandra/hadoop/BulkOutputFormat.java
  src/java/org/apache/cassandra/hadoop/BulkRecordWriter.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyInputFormat.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyOutputFormat.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordWriter.java
  src/java/org/apache/cassandra/hadoop/HadoopCompat.java
  src/java/org/apache/cassandra/hadoop/Progressable.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlOutputFormat.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlPagingInputFormat.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlPagingRecordReader.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlRecordWriter.java
  src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CqlStorage.java
* f007a35357da582e928dc1ac872e4ebb4c09b708 Use EB HadoopCompat for compat with Hadoop 0.2.x Patch by Ben Coversaton, reviewed by brandonwilliams for CASSANDRA-5201
  CHANGES.txt
  build.xml
  src/java/org/apache/cassandra/hadoop/AbstractColumnFamilyInputFormat.java
  src/java/org/apache/cassandra/hadoop/AbstractColumnFamilyOutputFormat.java
  src/java/org/apache/cassandra/hadoop/BulkOutputFormat.java
  src/java/org/apache/cassandra/hadoop/BulkRecordWriter.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyInputFormat.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordWriter.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlPagingInputFormat.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlPagingRecordReader.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlRecordWriter.java
  src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CqlStorage.java
* b9aece45e913fb20f9e04f3c5fdd02622ebb7898 Use EB HadoopCompat for compat with Hadoop 0.2.x Patch by Ben Coversaton, reviewed by brandonwilliams for CASSANDRA-5201
  CHANGES.txt
  build.xml
  src/java/org/apache/cassandra/hadoop/AbstractColumnFamilyInputFormat.java
  src/java/org/apache/cassandra/hadoop/AbstractColumnFamilyOutputFormat.java
  src/java/org/apache/cassandra/hadoop/BulkOutputFormat.java
  src/java/org/apache/cassandra/hadoop/BulkRecordWriter.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyInputFormat.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordWriter.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlPagingInputFormat.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlPagingRecordReader.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlRecordWriter.java
  src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CqlStorage.java"
CASSANDRA-5202,"* 0a1b277d659e20cd19eaedaa7220b0fc55950dc4 CF id is now non-deterministic
  CHANGES.txt
  NEWS.txt
  src/java/org/apache/cassandra/cache/AutoSavingCache.java
  src/java/org/apache/cassandra/cache/CacheKey.java
  src/java/org/apache/cassandra/cache/KeyCacheKey.java
  src/java/org/apache/cassandra/cache/RowCacheKey.java
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/Directories.java
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java
  src/java/org/apache/cassandra/service/CacheService.java
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  src/java/org/apache/cassandra/tools/SSTableLevelResetter.java
  test/unit/org/apache/cassandra/cache/AutoSavingCacheTest.java
  test/unit/org/apache/cassandra/cache/ObjectSizeTest.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
  test/unit/org/apache/cassandra/db/DirectoriesTest.java
  test/unit/org/apache/cassandra/io/sstable/SSTableSimpleWriterTest.java"
CASSANDRA-5211,"* 85cfd383b11db2a19109c258159b26d20e7020e5 Check for the presence of both rack and dc in the system table. Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-5211
  src/java/org/apache/cassandra/db/SystemTable.java"
CASSANDRA-5212,"* 60d0a1220f61fce8db0bf626c38cf3639b996c70 Add cassandra-rackdc.properties to debian package Patch by Vijay, reviewed by Brandon Williams for CASSANDRA-5212
| debian/cassandra.install
* 082ea28cd7286e9882e60913444b322ea691fc3d Unable to start when using Ec2Snitch Patch by Vijay, reviewed by Brandon Williams for CASSANDRA-5212
  src/java/org/apache/cassandra/locator/GossipingPropertyFileSnitch.java
  src/java/org/apache/cassandra/locator/SnitchProperties.java"
CASSANDRA-5214,"* 82de0ec75689d84ee6a4fa2d9a960f3326e5387a make local copies of compaction thresholds so they can't be changed out from under us mid-method patch by jbellis for CASSANDRA-5214
  src/java/org/apache/cassandra/db/compaction/SizeTieredCompactionStrategy.java"
CASSANDRA-5225,"* 2fe8133bbe71d186ef43aeaa3b5a320685441d68 Fix missing columns in wide rows queries
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/IndexHelper.java
  test/unit/org/apache/cassandra/io/sstable/IndexHelperTest.java"
CASSANDRA-5229,"* 45e6d912cca3de66a3af02e9df2c3484992d0a2e Fix repair hanging silently on an unexpected error
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/IncomingStreamReader.java"
CASSANDRA-5234,"* 764bcd3f3da32da77deb052e1a22987d326e46e5 Pig: support for cql3 tables Patch by Alex Liu, reviewed by brandonwilliams for CASSANDRA-5234
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java
  src/java/org/apache/cassandra/hadoop/pig/AbstractCassandraStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CqlStorage.java
* 33a3d2ca57e855ff5484fb039f14d424132db93b Pig: support for cq3 tables Patch by Alex Liu, reviewed by brandonwilliams for CASSANDRA-5234
  CHANGES.txt
  examples/pig/README.txt
  examples/pig/test/test_storage.pig
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java
  src/java/org/apache/cassandra/hadoop/pig/AbstractCassandraStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CqlStorage.java"
CASSANDRA-5236,"* aba9a17742ff6fd6fec2a355d7d7cce68fd06f04 Remove assertion that gossip is active in migration manager. Patch by brandonwilliams, reviewed by iamaleksey for CASSANDRA-5236
  src/java/org/apache/cassandra/service/MigrationManager.java"
CASSANDRA-5245,"* e4b3d403f3a2885dcf45ac574c9e4875f91a9724 Fix AssertionError during repair
  CHANGES.txt
  src/java/org/apache/cassandra/service/AntiEntropyService.java
  src/java/org/apache/cassandra/utils/MerkleTree.java"
CASSANDRA-5256,"* 686f516ccb887fe977238b53b9be307b56432b8c fix potential for multiple concurrent compactions of the same sstables patch by jbellis and yukim; reviewed by slebresne for CASSANDRA-5256
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/compaction/AbstractCompactionStrategy.java
  src/java/org/apache/cassandra/db/compaction/AbstractCompactionTask.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/compaction/CompactionTask.java
  src/java/org/apache/cassandra/db/compaction/LeveledCompactionStrategy.java
  src/java/org/apache/cassandra/db/compaction/SizeTieredCompactionStrategy.java
  test/long/org/apache/cassandra/db/compaction/LongLeveledCompactionStrategyTest.java
  test/unit/org/apache/cassandra/Util.java
  test/unit/org/apache/cassandra/db/compaction/CompactionsPurgeTest.java"
CASSANDRA-5287,"* 500c3f3158f0becbdbde8bfdc0e2aa934e8f0bec Fix composite comparator with super columns
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java"
CASSANDRA-529,"* 8f85a51e643c904ab4f80ba98234dcb1e384dd40 Use getHostAddress instead of toString(), Read Repair was throwing an Exception. Patch by sammyyu, reviewed by jbellis for CASSANDRA-529
  src/java/org/apache/cassandra/service/ReadRepairManager.java"
CASSANDRA-532,"* f77ec79a8b2b36a7928d13df7393509aa3859f97 avoid flushing empty binarymemtable patch by jbellis; reviewed by goffinet for CASSANDRA-532
  src/java/org/apache/cassandra/db/BinaryMemtable.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/Memtable.java
  src/java/org/apache/cassandra/io/SSTableTracker.java"
CASSANDRA-5334,"* 7cb8cf1df57a025d148bf1e5d84530e7c360fd24 Don't announce migrations to pre-1.2 nodes
  CHANGES.txt
  src/java/org/apache/cassandra/service/MigrationManager.java"
CASSANDRA-5341,"* 65b9093d4905da489e472dfd565417c6865d44c8 Fix writetime/ttl functions on columns with null values
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/Selection.java"
CASSANDRA-5345,"* 51a1f232b42b4385df7f2aca42a97b4c5b02c077 Catch errors when the JVM pulls the rug out from GCInspector patch by Josh McKenzie; reviewed by jbellis for CASSANDRA-5345
  CHANGES.txt
  src/java/org/apache/cassandra/service/GCInspector.java"
CASSANDRA-536,"* 2b8c1cec9ac40273a1491ebd697caf8431dc83a2 avoid making local node part of the token ring until bootstrap completes; fix other buglets patch by jbellis; reviewed by Jaakko Laine for CASSANDRA-536
  src/java/org/apache/cassandra/io/SSTable.java
  src/java/org/apache/cassandra/io/Streaming.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-5364,"* 3f88b27b4c50cf03bbea491eb82bffbb8352d537 Fix Guava dependency version (12.0 -> 13.0.1) for Maven patch by Pavel Yaskevich; reviewed by Sylvain Lebresne for CASSANDRA-5364
  CHANGES.txt
  build.xml"
CASSANDRA-5368,"* 87d936251df056211673b90d62f37b9fe3440d83 Catch harmless error on shutdown. Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-5368
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-5378,"* 338fa9a30747d18befc0ff66b5cb5265f7bb65f1 Fix fat client. Patch by Carl Yeksigian, reviewed by brandonwilliams for CASSANDRA-5378
  examples/client_only/conf/cassandra.yaml
  examples/client_only/src/ClientOnlyExample.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/AbstractReadExecutor.java
  src/java/org/apache/cassandra/service/MigrationManager.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/locator/DynamicEndpointSnitchTest.java
  test/unit/org/apache/cassandra/service/InitClientTest.java
  test/unit/org/apache/cassandra/service/StorageServiceClientTest.java
* 6de0495e53adef564141eeb312d7e61e951a9ebc Fix the fat client. Patch by Carl Yeksigian, reviewed by brandonwilliams for CASSANDRA-5378
  examples/client_only/conf/cassandra.yaml
  examples/client_only/src/ClientOnlyExample.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/MigrationManager.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/locator/DynamicEndpointSnitchTest.java
  test/unit/org/apache/cassandra/service/InitClientTest.java
  test/unit/org/apache/cassandra/service/StorageServiceClientTest.java"
CASSANDRA-5383,"* 8dfd75de160a29516af315166649d5c66cec3113 Use Java7 file APIs to get saner exceptions etc.
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/LeveledManifest.java
  src/java/org/apache/cassandra/io/util/FileUtils.java
  src/java/org/apache/cassandra/utils/BackgroundActivityMonitor.java
  src/java/org/apache/cassandra/utils/CLibrary.java
  src/java/org/apache/cassandra/utils/FBUtilities.java"
CASSANDRA-5391,"* cc6429e2722e764dce8cad77660732146ed596ab Fix streaming compressed files when using encryption; patch by yukim reviewed by iamaleksey for CASSANDRA-5391
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/compress/CompressedFileStreamTask.java"
CASSANDRA-5393,"* 2762f484c90152eb23c641732ecf6f650e937bfc Add retry mechanism to OTC for non-droppable_verbs patch by jasobrown; reviewed by jbellis for CASSANDRA-5393
  src/java/org/apache/cassandra/net/OutboundTcpConnection.java
* 262e006eb76ca7fce366fd51310a980fd5312837 Add retry mechanism to OTC for non-droppable_verbs patch by jasobrown; reviewed by jbellis for CASSANDRA-5393
  src/java/org/apache/cassandra/net/OutboundTcpConnection.java"
CASSANDRA-5404,"* b82027ccbc315bfd46f760204c71358e5f85b254 Fix NPE during cql3 select with token()
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/functions/FunctionCall.java
  src/java/org/apache/cassandra/cql3/statements/Selection.java"
CASSANDRA-5418,"* 0f1fb4340ca1f6360487c76909883bfedc63e4ce Fix streaming RangeTombstones at column index boundary; patch by slebresne reviewed by yukim for CASSANDRA-5418
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnIndex.java
  src/java/org/apache/cassandra/io/sstable/SSTableWriter.java
  test/unit/org/apache/cassandra/streaming/StreamingTransferTest.java"
CASSANDRA-5440,"* 08b2bc5963a8732b5444f42ee421f15df9c838ea call iter.next before iter.remove patch by jbellis; reviewed by brandonwilliams for CASSANDRA-5440
  src/java/org/apache/cassandra/db/filter/SliceQueryFilter.java"
CASSANDRA-546,"* 01a2b07711d25f867ade855c5977f927afcddef2 force bind to correct address patch by jbellis; reviewed by Ray Slakinski for CASSANDRA-546
  src/java/org/apache/cassandra/net/TcpConnection.java"
CASSANDRA-5476,"* 57eb87b57cc7c69d99238ced08e50cc23b0127ba Fix ReadResponseSerializer.serializedSize() for digest reads
  CHANGES.txt
  src/java/org/apache/cassandra/db/ReadResponse.java"
CASSANDRA-5488,"* 7d2ce5f957b1fb392617c1ff05a561571eccd593 Fix NPE in Pig's widerow mode. Patch by Sheetal Gorsani and Jeremy Hanna, reviewed by brandonwilliams for CASSANDRA-5488
  CHANGES.txt
  examples/pig/test/test_storage.pig
  src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java"
CASSANDRA-550,"* b5f326383980fd3a2f9eb883189c29d54fe1f972 specifically look for TOKEN and GENERATION columns patch by jbellis; tested by Ray Slakinski for CASSANDRA-550
| src/java/org/apache/cassandra/db/SystemTable.java
* 266e94f320b47532761bad3972e5e2a5a664ae70 clean up temporary for-streaming files when done patch by jbellis; tested by Ray Slakinski for CASSANDRA-550
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/io/Streaming.java"
CASSANDRA-5504,"* 9793d6f32de5aab8b45fbf870104617e02bf3183 apply fix for CASSANDRA-4834 to the 1.2 branch.  See also CASSANDRA-5504
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java"
CASSANDRA-551,"* b2b4260c68631ea3e89c1435174254078daaed22 gracefully handle missing keyspace argument (cli)
  src/java/org/apache/cassandra/cli/CliClient.java"
CASSANDRA-5512,"* 68444f9b2f573425bdd38b378e14cd6a8c16821c Fix repair -snapshot not working patch by yukim; reviewed by jbellis for CASSANDRA-5512
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-552,"* f31e5779de32ea6bd719620e718632712ecf4323 make iterator closeable, again patch by jbellis; tested by ""elsif"" for CASSANDRA-552
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/utils/CloseableIterator.java"
CASSANDRA-5529,"* 9879fa6122d325951d98f8bc601ff64dd04c2c67 Remove buggy thrift max message length option patch by jbellis; reviewed by tjake for CASSANDRA-5529
  CHANGES.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyOutputFormat.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java
  src/java/org/apache/cassandra/hadoop/ConfigHelper.java
  src/java/org/apache/cassandra/thrift/CassandraDaemon.java
  src/java/org/apache/cassandra/thrift/TBinaryProtocol.java
* ac19c121524c928ff6f3237e12a26e42766ae836 Remove buggy thrift max message length option patch by jbellis; reviewed by tjake for CASSANDRA-5529
  CHANGES.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyOutputFormat.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java
  src/java/org/apache/cassandra/hadoop/ConfigHelper.java
  src/java/org/apache/cassandra/thrift/CassandraDaemon.java
  src/java/org/apache/cassandra/thrift/TBinaryProtocol.java"
CASSANDRA-5605,"* 7161aec42c5bdb9e007587e20bc71603a505a95d Avoid second-guessing out-of-space state patch by jbellis; reviewed by yukim for CASSANDRA-5605
  CHANGES.txt
  src/java/org/apache/cassandra/db/Directories.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/compaction/Scrubber.java
  src/java/org/apache/cassandra/io/util/DiskAwareRunnable.java
  src/java/org/apache/cassandra/streaming/StreamIn.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
  test/unit/org/apache/cassandra/db/DirectoriesTest.java
  test/unit/org/apache/cassandra/db/ScrubTest.java
  test/unit/org/apache/cassandra/io/sstable/SSTableReaderTest.java
  test/unit/org/apache/cassandra/io/sstable/SSTableSimpleWriterTest.java"
CASSANDRA-5631,"* 5e40a3b7c120f430d73ab34db68b361c0313b2eb Avoid NPEs when receiving table changes for an unknown keyspace
  CHANGES.txt
  src/java/org/apache/cassandra/service/MigrationManager.java"
CASSANDRA-5644,"* 082684dd806a0bf0964901e3749992e4b1a1d650 retain initial cause exceptions for internode encryption issues in MessagingService patch by hmetske reviewed by dbrosius for CASSANDRA-5644
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-5661,"* dfe49376097cf73c04c0d8506782263a2e820cb0 add file_cache_size_in_mb setting patch by pyaskevich and jbellis for CASSANDRA-5661
  CHANGES.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/io/util/PoolingSegmentedFile.java
  src/java/org/apache/cassandra/io/util/RandomAccessReader.java
  src/java/org/apache/cassandra/metrics/FileCacheMetrics.java
  src/java/org/apache/cassandra/service/FileCacheService.java"
CASSANDRA-5668,"* 18f3a79fdd2414698817aa4c35d0f9b44d5a7e55 use REQUEST_RESPONSE to determine whether session is local to prevent false positives in RMVH forwarding case patch by jbellis; reviewed by slebresne for CASSANDRA-5668
| src/java/org/apache/cassandra/net/OutboundTcpConnection.java
| src/java/org/apache/cassandra/tracing/ExpiredTraceState.java
| src/java/org/apache/cassandra/tracing/TraceState.java
| src/java/org/apache/cassandra/tracing/Tracing.java
* fbe8a6eb213ee3558be701c73c31a0da79446657 Fix tracing when operation completesbefore all responses arrive patch by jbellis; reviewed by slebresne for CASSANDRA-5668
  CHANGES.txt
  src/java/org/apache/cassandra/concurrent/DebuggableThreadPoolExecutor.java
  src/java/org/apache/cassandra/concurrent/StageManager.java
  src/java/org/apache/cassandra/concurrent/TracingAwareExecutorService.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/net/OutboundTcpConnection.java
  src/java/org/apache/cassandra/service/MigrationManager.java
  src/java/org/apache/cassandra/tracing/ExpiredTraceState.java
  src/java/org/apache/cassandra/tracing/TraceState.java
  src/java/org/apache/cassandra/tracing/Tracing.java
  test/unit/org/apache/cassandra/service/AntiEntropyServiceTestAbstract.java"
CASSANDRA-5701,"* 7bf14648ee6ed344acc0afe68e23d0b484826b24 add IRE for invalid CF supplied to get_count patch by Lyuben Todorov; reviewed by jbellis for CASSANDRA-5701
  CHANGES.txt
  src/java/org/apache/cassandra/thrift/CassandraServer.java"
CASSANDRA-5725,"* d30e328a33595475fa9837dbc9dc98bc17b08ff7 Log UnknownColumnfamilyException when closing socket patch by Suresh; reviewed by Sergio Bossa and jbellis for CASSANDRA-5725
  CHANGES.txt
  src/java/org/apache/cassandra/net/IncomingTcpConnection.java"
CASSANDRA-5755,"* 0ed859a5d0ece694f240b64e3212af37e0def1ac fix shuffle clear to use new blob literal format patch by dbrosius reviewed by jbellis for CASSANDRA-5755
  src/java/org/apache/cassandra/tools/Shuffle.java"
CASSANDRA-5757,"* 4f0d7b456a2ba14f9b63e41982daa7868cc82e63 Fix assertion error during repair
  CHANGES.txt
  src/java/org/apache/cassandra/db/DataRange.java
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java
  src/java/org/apache/cassandra/io/sstable/SSTableScanner.java"
CASSANDRA-5768,"* 76ad645a3a8591dd7d5062dc97e2590631bf5970 When all seeds are unreachable don't bootstrap into a standalone cluster. Patch by brandonwilliams, reviewed by jasobrown for CASSANDRA-5768
  CHANGES.txt
  src/java/org/apache/cassandra/gms/GossipDigestAckVerbHandler.java
  src/java/org/apache/cassandra/gms/GossipDigestSynVerbHandler.java
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-578,"* 95cbb3461ad9fc66969f9f8338b686b0f50d9a9a allow serializing null CF; add get_range_slice test exercising this patch by jbellis; tested by Dan Di Spaltro for CASSANDRA-578
| src/java/org/apache/cassandra/db/ColumnFamily.java
| src/java/org/apache/cassandra/db/ColumnFamilySerializer.java
| src/java/org/apache/cassandra/db/Row.java
| src/java/org/apache/cassandra/service/ConsistencyManager.java
| src/java/org/apache/cassandra/service/ReadResponseResolver.java
| src/java/org/apache/cassandra/service/StorageProxy.java
| test/system/test_server.py
| test/unit/org/apache/cassandra/service/ReadResponseResolverTest.java
* 994487d755250fb02125b28075aea3c3fb2685d7 make Row contain a single, final CF reference patch by jbellis; tested by Dan Di Spaltro for CASSANDRA-578
| src/java/org/apache/cassandra/db/ColumnFamily.java
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/HintedHandOffManager.java
| src/java/org/apache/cassandra/db/Row.java
| src/java/org/apache/cassandra/db/RowMutation.java
| src/java/org/apache/cassandra/db/Table.java
| src/java/org/apache/cassandra/service/CassandraServer.java
| src/java/org/apache/cassandra/service/ReadResponseResolver.java
| src/java/org/apache/cassandra/service/StorageProxy.java
| src/java/org/apache/cassandra/service/StorageService.java
| src/java/org/apache/cassandra/tools/KeyChecker.java
| test/unit/org/apache/cassandra/db/ReadMessageTest.java
| test/unit/org/apache/cassandra/db/RowTest.java
| test/unit/org/apache/cassandra/db/TableTest.java
* 7c4166444bdef1bd1d56f198e4a448f14f1bcab8 r/m unused Row code, and move table variable into callers rather than serializing it redundantly patch by jbellis; tested by Dan Di Spaltro for CASSANDRA-578
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/ReadVerbHandler.java
  src/java/org/apache/cassandra/db/Row.java
  src/java/org/apache/cassandra/db/Table.java
  src/java/org/apache/cassandra/service/ConsistencyManager.java
  src/java/org/apache/cassandra/service/ReadResponseResolver.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/db/RowTest.java"
CASSANDRA-5782,"* c7220e3a7b8debd8fa348ad258bc0ae8a3cd8509 Fix ConcurrentModificationException during streaming
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/StreamSession.java
  src/java/org/apache/cassandra/streaming/StreamTransferTask.java"
CASSANDRA-5786,"* b7a016d992254701c5ad8d8d0ec038df4eda5026 Thrift cas() method crashes if input columns are not sorted
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamily.java
  src/java/org/apache/cassandra/service/paxos/Commit.java
  src/java/org/apache/cassandra/service/paxos/PrepareResponse.java"
CASSANDRA-5792,"* 22bf2c40e46ddf11e1ae0faf0db9e58578c662c4 Fix buffer underflow on socket close
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/messages/StreamMessage.java"
CASSANDRA-5793,"* d735cfdcc9aab8c196035672d69dca0183ee45d3 Hex-encode non-String keys in OPP patch by Vara Kumar and jbellis for CASSANDRA-5793
  CHANGES.txt
  src/java/org/apache/cassandra/dht/OrderPreservingPartitioner.java
* 2ccbe3c6f547511e79454b79cbef682ef8a6973a Hex-encode non-String keys in OPP patch by Vara Kumar and jbellis for CASSANDRA-5793
  CHANGES.txt
  src/java/org/apache/cassandra/dht/OrderPreservingPartitioner.java"
CASSANDRA-5799,"* d38446a1bbca0abf7a2af8986fecf348355abafb Fix columns expiring in the middle of 2 phase compactions
  CHANGES.txt
  src/java/org/apache/cassandra/db/DeletionTime.java
  src/java/org/apache/cassandra/db/compaction/LazilyCompactedRow.java"
CASSANDRA-5801,"* 59c6e500ded4cba7232875a0680de4915731d133 Fix assertion error during repair
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableScanner.java"
CASSANDRA-5814,"* 00b96f8ffd09dc1d3ff299abc9e8551bb2d0cdeb Fix reading DeletionTime from 1.1-format sstables patch by jbellis; reviewed by aleksey for CASSANDRA-5814
  CHANGES.txt
  src/java/org/apache/cassandra/db/columniterator/IndexedSliceReader.java"
CASSANDRA-5820,"* ab8a28e365da8ef515a40e838e773d67ad92a282 fix bulk-loading compressed sstables patch by Tyler Hobbs and yukim; reviewed by jbellis for CASSANDRA-5820
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java
  src/java/org/apache/cassandra/io/sstable/SSTableSimpleUnsortedWriter.java
  src/java/org/apache/cassandra/io/util/CompressedPoolingSegmentedFile.java
  src/java/org/apache/cassandra/io/util/CompressedSegmentedFile.java
  test/unit/org/apache/cassandra/io/sstable/SSTableLoaderTest.java"
CASSANDRA-5826,"* 6851c81867f317110487b05b509841f5c159aaf1 handle-trigger-non-existance patch by Vijay; reviewed by Brandon Williams for CASSANDRA-5826
  src/java/org/apache/cassandra/triggers/TriggerExecutor.java
  src/java/org/apache/cassandra/utils/FBUtilities.java
* bf6c3aaba3657b7b57ebfac2de42f6ee27138bed handle-trigger-non-existance patch by Vijay; reviewed by Brandon Williams for CASSANDRA-5826
  src/java/org/apache/cassandra/triggers/TriggerExecutor.java
  src/java/org/apache/cassandra/utils/FBUtilities.java
* 4f2fdc2e73d4b72b1b8203748b12ea57affcc155 Fix trigger directory detection code Patch by Vijay, reviewed by jebllis for CASSANDRA-5826
  conf/triggers/README.txt
  debian/cassandra.install
  examples/triggers/README.txt
  src/java/org/apache/cassandra/triggers/TriggerExecutor.java
  src/java/org/apache/cassandra/utils/FBUtilities.java
  test/conf/triggers/README.txt
  test/data/serialization/2.0/db.RowMutation.bin"
CASSANDRA-5831,"* 7d45d2bde3724a15a9e0f68bb047a41853ccd340 add --migrate optionto sstableupgrade and sstablescrub patch by Tyler Hobbs; reviewed by Jeremiah Jordan for CASSANDRA-5831
  CHANGES.txt
  src/java/org/apache/cassandra/db/SystemTable.java
  src/java/org/apache/cassandra/tools/StandaloneScrubber.java
  src/java/org/apache/cassandra/tools/StandaloneUpgrader.java"
CASSANDRA-585,"* e0f5809386760f29147ccc16910dfe4ad83e1c31 avoid adding CFs w/ no data to RowMutation on HH patch by jbellis; tested by Dan Di Spaltro for CASSANDRA-585
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/db/RowMutation.java"
CASSANDRA-5851,"* 703bd684ca79f817392acfed5c26ad0871660735 Fix (some) 2i on composite components omissions
  CHANGES.txt
  bin/cqlsh
  pylib/cqlshlib/cql3handling.py
  pylib/cqlshlib/test/test_cqlsh_output.py
  src/java/org/apache/cassandra/cql3/statements/CreateIndexStatement.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/db/index/composites/CompositesIndexOnClusteringKey.java"
CASSANDRA-5852,"* a886e34909c313a1c3fa5dff48b77f1cee2c6847 Fix sstable2json for CQL3 tables
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/tools/SSTableImport.java"
CASSANDRA-5855,"* 9e0efa3dbbeddf382c8e0f45cfdf2ebb91bc9db0 Correctly validate sparse composite cells patch by Tyler Hobbs; reviewed by jbellis for CASSANDRA-5855
  CHANGES.txt
  src/java/org/apache/cassandra/db/Column.java
* eb884a582b709d67fdd075aedf19facf6803bf93 Correctly validate sparse composite cells patch by Tyler Hobbs; reviewed by jbellis for CASSANDRA-5855
  CHANGES.txt
  src/java/org/apache/cassandra/db/Column.java"
CASSANDRA-5856,"* 3529ac711e5588918afcc8b514aa03c67a9adac7 Handle CQL3 SELECT duplicate IN restrictions on clustering columns
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-5857,"* ccb32a8c8d6bd5d25ad6db172f7cd6ead00fdfaa Make SS look at the right piece for expire time. Patch by brandonwilliams reviewed by jasobrown for CASSANDRA-5857
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-5865,"* 25926d0946ff04243dab6876dcdd76b05c57e472 Throw an error when listen_address is 0.0.0.0 Patch by brandonwilliams, reviewed by dbrosius for CASSANDRA-5865
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java"
CASSANDRA-5893,"* dd65e88a76c5f76b5747030742b3e4829663521f Properly handle parsing huge map and set literals
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/Cql.g
  src/java/org/apache/cassandra/cql3/QueryProcessor.java"
CASSANDRA-5903,"* 9bb4d93e3c8471012a39cbb0a1be5b082115a42b additional check for offheap bloom filter size patch by Vijay; reviewed by jbellis for CASSANDRA-5903
  src/java/org/apache/cassandra/utils/obs/OffHeapBitSet.java
  test/unit/org/apache/cassandra/utils/BloomFilterTest.java
* 572cddc3008780a1ea08ffaaa468821e42ab7100 use long math on deserialize as well patch by Taylan Develioglu; reviewed by jbellis for CASSANDRA-5903
  src/java/org/apache/cassandra/utils/obs/OffHeapBitSet.java
* 08d22df07d33b17518e798a81e9ab7f64aa9b9a1 edit changes.txt for CASSANDRA-5903
| CHANGES.txt
* fcc51ea49bb45b5862acdb458a5c9a96880597bc Integer overflow in OffHeapBitSet when bloomfilter > 2GB patch by Vijay; reviewed by jbellis for CASSANDRA-5903
  src/java/org/apache/cassandra/utils/obs/OffHeapBitSet.java
  src/java/org/apache/cassandra/utils/obs/OpenBitSet.java"
CASSANDRA-5916,"* 351d43ef120a725cf83d29f80fd243ad9fc30fc2 Rework node replacement. Patch by brandonwilliams, reviewed by Tyle Hobbs for CASSANDRA-5916
  NEWS.txt
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/SystemTable.java
  src/java/org/apache/cassandra/gms/GossipDigestAckVerbHandler.java
  src/java/org/apache/cassandra/gms/GossipDigestSynVerbHandler.java
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-5925,"* 6ad62c3f4a44ccbf1b462075610487e771e56f73 Fix NPE in cas operations
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java
  src/java/org/apache/cassandra/db/SystemKeyspace.java"
CASSANDRA-5930,"* 728c4fa9bf2b2c11dbc61c8e5536b1542abc1ccb Let scrub optionally skip broken counter partitions
  CHANGES.txt
  NEWS.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/compaction/Scrubber.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/service/StorageServiceMBean.java
  src/java/org/apache/cassandra/tools/NodeCmd.java
  src/java/org/apache/cassandra/tools/NodeProbe.java
  src/java/org/apache/cassandra/tools/StandaloneScrubber.java
  src/resources/org/apache/cassandra/tools/NodeToolHelp.yaml
  test/unit/org/apache/cassandra/db/ScrubTest.java"
CASSANDRA-5932,"* 20c419b9480e0e5b3c1da53a106b2a6760be35b9 Fixes for speculative retry patch by ayeschenko and jbellis for CASSANDRA-5932
  CHANGES.txt
  src/java/org/apache/cassandra/service/AbstractReadExecutor.java
  src/java/org/apache/cassandra/service/ReadCallback.java
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-5946,"* b33b53e8f91011fe07ed39df75d6b5728c6f8cf1 Mark CF clean if a mutation raced the drop and got it marked dirty patch by jbellis; reviewed by Tyler Hobbs for CASSANDRA-5946
  CHANGES.txt
  src/java/org/apache/cassandra/db/commitlog/CommitLogAllocator.java"
CASSANDRA-5981,"* 4a439d22c53c658a1f05bf84f56a319312669a96 Error out correctly when frame is too large
  CHANGES.txt
  NEWS.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/transport/Frame.java"
CASSANDRA-5990,"* 349d5dbeadfa2abca1b2d067f2e796aa41f06e8d Fix CASSANDRA-6000 and CASSANDRA-5990 merges
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/cql3/UntypedResultSet.java
  src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java
* 8cc28a1477e19545bd0f6dca9180c937f9c85c8d Fix possible divide-by-zero in HHOM patch by jbellis for CASSANDRA-5990
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java"
CASSANDRA-6004,"* a2824e63a60bec88bc0d385f1e1fcb32cc75b766 Fix paged ranges with multiple replicas
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-6007,"* 53e48edc3062bafb7a8b5c3c301add5cd6a2cb19 Replace the deprecated MapMaker with CacheLoader
  CHANGES.txt
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-6026,"* 0804b76100c8e01df46918818a31fb496ed79368 Fix NPE during sstablesplit
  src/java/org/apache/cassandra/io/sstable/SSTableDeletingTask.java"
CASSANDRA-603,"* 82d843bad887b2858c94f559d66a55bce37fc3a9 fix add that should have been addAll.  patch by Jaakko Laine; reviewed by jbellis for CASSANDRA-603
  src/java/org/apache/cassandra/locator/AbstractReplicationStrategy.java"
CASSANDRA-6035,"* 36f21781965b1cc947ac7488d5e3cddd58090729 Fix prepared statement for protocol v2
  src/java/org/apache/cassandra/transport/messages/ResultMessage.java"
CASSANDRA-6041,"* 765d1e97ff7dbe50ce13297993720147ddb6eca0 Fix potential AssertionError during tracing
  CHANGES.txt
  src/java/org/apache/cassandra/tracing/Tracing.java"
CASSANDRA-6050,"* a0abadfdb5721f6f595b6f9e33ed2bf44603d2fe Fix validation of IN with 2ndary indexes
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/Restriction.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-606,"* b6aa09fa148305668cbd8024c394ae68ca6235e5 ColumnFamily.onStart() was not checking files related to only it's column family. It was possible to remove files from other CFs thinking they were orphans. Skip files not apart of the CF. patch by goffinet; reviewed by jbellis for CASSANDRA-606
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-6067,"* 5a7cc11f29c69265d6302a54690476b7ef2de61a use non-pooling readers with openForBatch patch by jbellis; reviewed by yukim for CASSANDRA-6067
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java
  src/java/org/apache/cassandra/io/util/BufferedSegmentedFile.java"
CASSANDRA-6086,"* 4ed2234078c4d302c256332252a8ddd6ae345484 Delete unfinished compaction sstables incrementally
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/SystemKeyspace.java
  src/java/org/apache/cassandra/db/compaction/LeveledManifest.java
  src/java/org/apache/cassandra/service/CassandraDaemon.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java
  test/unit/org/apache/cassandra/db/compaction/CompactionsTest.java"
CASSANDRA-6089,"* 5d08a2518d3c538ba7c6a91893424493b28fd9ac Fix fat client schema pull NPE
  CHANGES.txt
  src/java/org/apache/cassandra/service/MigrationManager.java"
CASSANDRA-6098,"* 58eebc9a977ef7dfafe6ea568cece963191598ce Fix potential NPE in 2ndary indexes
  CHANGES.txt
  src/java/org/apache/cassandra/db/index/composites/CompositesIndexOnClusteringKey.java
  src/java/org/apache/cassandra/db/index/composites/CompositesIndexOnPartitionKey.java
  src/java/org/apache/cassandra/db/index/composites/CompositesSearcher.java
  test/unit/org/apache/cassandra/SchemaLoader.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java"
CASSANDRA-6103,"* d73380e319c663d5bff23a7730dcf97cbd323970 lock access to TM.endpointToHostIdMap patch by Mikhail Stepura; reviewed by jbellis for CASSANDRA-6103
  CHANGES.txt
  src/java/org/apache/cassandra/locator/TokenMetadata.java"
CASSANDRA-6129,"* 6529d7309a72916d9efd126a281801b9cfae7d68 fix CME in StreamResultFuture patch by Mikhail Stepura; reviewed by jbellis for CASSANDRA-6129
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/StreamResultFuture.java
* 31a9a2fd1e93e41632b729b43c0894c0e8e0c4e9 add concurrent sets to progressByHost (CASSANDRA-6129)
  src/java/org/apache/cassandra/tools/BulkLoader.java
* 70239e17b55b9e13b7f356683d78887f0c9a83c4 change progressindicator members to CHM patch by jbellis for CASSANDRA-6129
  src/java/org/apache/cassandra/tools/BulkLoader.java"
CASSANDRA-6152,"* 623ed791f940cd1e093300ccda6a5600f91ce1a3 Fix validation of empty column names for compact tables
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/QueryProcessor.java
  src/java/org/apache/cassandra/cql3/UpdateParameters.java"
CASSANDRA-6154,"* 53f7c328ae4aca0affaed4f0c73678011a4e152a fix merge from #6132 patch by jbellis; reviewed by brandonwilliams for CASSANDRA-6154
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-6165,"* 111c74ef94d4d75c19611ca3e77d7c54552810f0 rewrite sendRR API to fix regressions from #6132 patch by jbellis; reviewed by brandonwilliams for CASSANDRA-6165
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/AbstractWriteResponseHandler.java
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-6175,"* 95ac0de7a7aafb9e9661ce87f04b4302e6c5e3be fix assert for counters (CASSANDRA-6175)
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-6180,"* cb506b793ced3563e5671f0ad5b92c4d8655d45d Handle null correctly in CqlStorage Patch by Alex Liu, reviewed by brandonwilliams for CASSANDRA-6180
  src/java/org/apache/cassandra/hadoop/pig/AbstractCassandraStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CassandraStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CqlStorage.java"
CASSANDRA-6181,"* 4768daa9d0ad55f026615d1aef330c38203d80d1 Avoid stack overflow on RangeTombstoneList insertion
  src/java/org/apache/cassandra/db/RangeTombstoneList.java
  test/unit/org/apache/cassandra/db/RangeTombstoneListTest.java"
CASSANDRA-6208,"* e655d62a476f1507ab77c6ba8de2d15e3851f5e0 Remove new asserts in CMFD Patch by Sam Tunnicliffe, reviewed by brandonwilliams for CASSANDRA-6208
  src/java/org/apache/cassandra/config/CFMetaData.java"
CASSANDRA-6210,"* 41ffca1281dcdc69b1b843b47a5bb6dc3c462aac Fix NPE when streaming connection is not yet ready
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/ConnectionHandler.java
  src/java/org/apache/cassandra/streaming/messages/StreamMessage.java"
CASSANDRA-6211,"* 1240c9bd228da81c4052eade48e40bc34ec1d34d Fix potential NPE while loading paxos state
  CHANGES.txt
  src/java/org/apache/cassandra/db/SystemKeyspace.java"
CASSANDRA-6255,"* a3f703561d3f08e76c770628a51724525657a93f HSHA rethrows OOM Patch by Mikhail Stepura, reviewed by brandonwilliams for CASSANDRA-6255
  src/java/org/apache/cassandra/thrift/CustomTHsHaServer.java"
CASSANDRA-6258,"* 7793a85214d04c6c2bd6a44ce1e9e5767fe9226d Show the root cause when failing to load a class Patch by Jackson Chung, reviewed by brandonwilliams for CASSANDRA-6258
  src/java/org/apache/cassandra/utils/FBUtilities.java"
CASSANDRA-6260,"* 7015a7a6bfc5cf7239d89a9213719d16d3367303 Skip loading corrupt key cache patch by Mikhail Stepura; reviewed by jbellis for CASSANDRA-6260
  CHANGES.txt
  src/java/org/apache/cassandra/service/CacheService.java"
CASSANDRA-6262,"* d3872408d22ae208a5cb9cdf4c1d76370510459d Improve error message when loaded sstable doesn't match schema
  CHANGES.txt
  src/java/org/apache/cassandra/db/marshal/CompositeType.java"
CASSANDRA-6277,"* cf8fa6e11bf16ffed84a8805c4bc63077d6a7bcf Fix repair assertionerror when tombstones expire patch by jbellis for CASSANDRA-6277
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/PrecompactedRow.java"
CASSANDRA-6285,"* 0f706c528e650e99bc21aa4998a051ee5603e82c Ninja: thrift-server-0.3.5.jar for CASSANDRA-6285
  build.xml
  lib/licenses/thrift-server-0.3.5.txt
  lib/thrift-server-0.3.5.jar
* b9802ffbc4d22e5a6a608f16113d8a0d7914a319 Always reallocate buffers with HSHA.
  CHANGES.txt
  src/java/org/apache/cassandra/thrift/THsHaDisruptorServer.java
* e141694e2bcaecf3c604f3c60b622f8cc63f3b46 Always reallocate buffers with HSHA.
  CHANGES.txt
  src/java/org/apache/cassandra/thrift/THsHaDisruptorServer.java
* edd6636e054b0a60ba88da6262b8d439feaa6bcc Fix HSHA server introducing corrupt data
  CHANGES.txt
  src/java/org/apache/cassandra/thrift/THsHaDisruptorServer.java"
CASSANDRA-6309,"* 343a6472d8e26bc846c575c03d0af7d8b66e6dfa Pig: fix duplicate schema error Patch by Alex Liu, reviewed by brandonwilliams for CASSANDRA-6309
  build.xml
  src/java/org/apache/cassandra/db/ConsistencyLevel.java
  src/java/org/apache/cassandra/hadoop/pig/AbstractCassandraStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CqlStorage.java
  test/pig/org/apache/cassandra/pig/CqlTableDataTypeTest.java
  test/pig/org/apache/cassandra/pig/CqlTableTest.java
  test/pig/org/apache/cassandra/pig/PigTestBase.java
  test/pig/org/apache/cassandra/pig/ThriftColumnFamilyDataTypeTest.java
  test/pig/org/apache/cassandra/pig/ThriftColumnFamilyTest.java
* f7efaffadace3e344eeb4a1384fa72c73d8422b0 Pig: fix duplicate schema alias Patch by Alex Liu, reviewed by brandonwilliams for CASSANDRA-6309
  build.xml
  src/java/org/apache/cassandra/db/ConsistencyLevel.java
  src/java/org/apache/cassandra/hadoop/pig/AbstractCassandraStorage.java
  test/pig/org/apache/cassandra/pig/CqlTableDataTypeTest.java
  test/pig/org/apache/cassandra/pig/CqlTableTest.java
  test/pig/org/apache/cassandra/pig/ThriftColumnFamilyDataTypeTest.java
  test/pig/org/apache/cassandra/pig/ThriftColumnFamilyTest.java"
CASSANDRA-6316,"* 159744f244125af84f4e819f45d2e2ebef2b369a Fix json2sstable handling of range tombstones
  CHANGES.txt
  src/java/org/apache/cassandra/tools/SSTableImport.java"
CASSANDRA-6322,"* 3af19c4dd17000635e8f6116ff8c0f67db81ae77 Fix trying to hint timed out counter writes patch by jbellis; reviewed by aleksey for CASSANDRA-6322
  CHANGES.txt
  src/java/org/apache/cassandra/net/WriteCallbackInfo.java"
CASSANDRA-6325,"* 9a594c3a55a3b5b63eafe5c7a4a0b2fe26fd0cb1 Fix reading expired row value from row cache patch by jbellis; reviewed by Mikhail Stepura for CASSANDRA-6325
  CHANGES.txt"
CASSANDRA-6333,"* 3c9760bdb986f6c2430adfc13c86ecb75c3246ac Fix potential out of bounds exception during paging
  CHANGES.txt
  src/java/org/apache/cassandra/service/pager/AbstractQueryPager.java"
CASSANDRA-6341,"* 4c08800b4ca3ded8653686fc2cc99e3056a8a606 Fix AssertionError when doing set element deletion
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/Operation.java"
CASSANDRA-6343,"* 5008507ca21265e0c6be53d61024baa7eaf187fc Fix paging with reversed slices
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamily.java
  src/java/org/apache/cassandra/service/pager/AbstractQueryPager.java
  src/java/org/apache/cassandra/service/pager/RangeNamesQueryPager.java
  src/java/org/apache/cassandra/service/pager/RangeSliceQueryPager.java
  src/java/org/apache/cassandra/service/pager/SliceQueryPager.java
  test/unit/org/apache/cassandra/service/QueryPagerTest.java"
CASSANDRA-6349,"* 53af91e650d3fd881df6e811f5d4c5e46a039119 loop based on isClosed to accomodate SSL sockets patch by Mikhail Stepura; reviewed by jbellis for CASSANDRA-6349
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessagingService.java
* 917bc05c9fe5397714025678e990160722807aa4 Recover from IOException in accept() thread patch by Mihial Stepura; reviewed by jbellis for CASSANDRA-6349
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-6373,"* c5432159180cd573d822d02739e96336d4f54888 update thrift-server to version 0.3.3 to fix CASSANDRA-6373 and CASSANDRA-6407
  build.xml
  lib/thrift-server-0.3.3.jar"
CASSANDRA-6374,"* 1ca459d1461cabf1bb3b3df7aa8526415b666b67 fix attempting to flush empty rows patch by jbellis; reviewed by jasobrown for CASSANDRA-6374
  CHANGES.txt
  src/java/org/apache/cassandra/db/Memtable.java"
CASSANDRA-6376,"* 8c52cc0e7f67378d66093c958558e765b682888f Fix failing pig test
  test/unit/org/apache/cassandra/pig/CqlTableTest.java"
CASSANDRA-6378,"* 1b2a190379141094a986495bd1386e720786c9b7 add client encryption support to sstableloader patch by Sam Tunnicliffe; reviewed by Mikhail Stepura for CASSANDRA-6378
  CHANGES.txt
  src/java/org/apache/cassandra/tools/BulkLoader.java"
CASSANDRA-6385,"* e01224ede63e941fffa7b9b3906c1d54fb699bea Improve initial FD phi estimate when starting up patch by jbellis; reviewed by brandonwilliams for CASSANDRA-6385
  CHANGES.txt
  src/java/org/apache/cassandra/gms/FailureDetector.java
  test/unit/org/apache/cassandra/gms/ArrivalWindowTest.java"
CASSANDRA-6403,"* e44d5d4f363a96c9401d726c207ba3cdf6f3d24f Fix divide-by-zero in PCI patch by jbellis for CASSANDRA-6403
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionController.java
  src/java/org/apache/cassandra/db/compaction/ParallelCompactionIterable.java"
CASSANDRA-6406,"* 41325c346ab644dd5760a88ce78aadef583d062e Fix cfstats not handling index CF
  CHANGES.txt
  src/java/org/apache/cassandra/tools/NodeProbe.java"
CASSANDRA-6419,"* a4895c551fb31bea90111a960f2c51634950536c Don't allow null max_hint_window_in_ms patch by Nate McCall; reviewed by jbellis for CASSANDRA-6419
  CHANGES.txt
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java"
CASSANDRA-6449,"* 7c05b897cbd81769bf5b3b33b53903f31aac09aa nodetool doesn't error when ~/.cassandra is inaccessible
  src/java/org/apache/cassandra/tools/NodeTool.java
* c1b5c270df35bd9554d565c44cd409ec9d96b44f nodetool doesn't error when ~/.cassandra is inaccessible
  src/java/org/apache/cassandra/tools/NodeCmd.java"
CASSANDRA-6454,"* 62e70d23e5bacbcbdcf736fb60a02b543c965f99 Pig support for hadoop CqlInputFormat
  CHANGES.txt
  src/java/org/apache/cassandra/hadoop/cql3/CqlConfigHelper.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlInputFormat.java
  src/java/org/apache/cassandra/hadoop/pig/CqlNativeStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CqlStorage.java
  test/conf/cassandra.yaml
  test/pig/org/apache/cassandra/pig/CqlTableDataTypeTest.java
  test/pig/org/apache/cassandra/pig/CqlTableTest.java
  test/pig/org/apache/cassandra/pig/PigTestBase.java
  test/pig/org/apache/cassandra/pig/ThriftColumnFamilyTest.java
* 1e2a5b0ee334327f1ed62e181542328a0824c27c Pig support for hadoop CqlInputFormat
  CHANGES.txt
  build.xml
  src/java/org/apache/cassandra/hadoop/cql3/CqlConfigHelper.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlInputFormat.java
  src/java/org/apache/cassandra/hadoop/pig/CqlNativeStorage.java
  src/java/org/apache/cassandra/hadoop/pig/CqlStorage.java
  test/conf/cassandra.yaml
  test/pig/org/apache/cassandra/pig/CqlTableDataTypeTest.java
  test/pig/org/apache/cassandra/pig/CqlTableTest.java
  test/pig/org/apache/cassandra/pig/PigTestBase.java
  test/pig/org/apache/cassandra/pig/ThriftColumnFamilyTest.java"
CASSANDRA-6458,"* dac54976ad133ca340ad19a2538105f84de7a2d6 Improve nodetool getendpoints docs for pk param
  CHANGES.txt
  src/java/org/apache/cassandra/tools/NodeTool.java"
CASSANDRA-6470,"* 0be42463b756ede298c099cf1661f02e198b3344 Fix ArrayIndexOutOfBoundsException in 2ndary index query
  CHANGES.txt
  src/java/org/apache/cassandra/db/DataRange.java
* 8f17bbd0d31cec0625c67c5c419c1fa78b052035 Fix ArrayIndexOutOfBoundsException in 2ndary index query
  CHANGES.txt
  src/java/org/apache/cassandra/db/DataRange.java"
CASSANDRA-6476,"* 9359b7a318884c9d3a052946d50711ce9f8b51e2 Don't shut MessagingService down when replacing a node.
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-6483,"* c960975950560218cb5699e4961192081d119e45 Fix assertion failure in filterColdSSTables patch by Tyler Hobbs; reviewed by jbellis for CASSANDRA-6483
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/SizeTieredCompactionStrategy.java"
CASSANDRA-651,"* d6d4a4fe185c332e1e8f6de5e2f1385f89f74451 CASSANDRA-651  TcpConnectionManager was holding on to disconnected connections, giving the false indication they were being used.
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/net/TcpConnection.java
  src/java/org/apache/cassandra/net/TcpConnectionManager.java"
CASSANDRA-6514,"* 9269cb83ce0bd45eff0f42611d5b5cd4415cba31 Pick unused generations when loading new sstables
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  test/unit/org/apache/cassandra/db/ColumnFamilyStoreTest.java"
CASSANDRA-6520,"* 15963c80fffa2f4a158e1ec3c3fe3c5427c41365 Fix dropping columns in trunk
  CHANGES.txt
  src/java/org/apache/cassandra/db/CFRowAdder.java"
CASSANDRA-6525,"* ca213ccdc029e74f548115dfbb61c65d221e5e42 Invalidate key cache on table drop
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-6529,"* ae0a1e0f5a88d66974582f383a942f6bf42b6ac5 Verify that the keyspace exists in describeRing and print nicer error message in BulkLoader.
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/tools/BulkLoader.java"
CASSANDRA-6530,"* 379212d5deb2f0a3c399fc447808b2de2559341d Fix logback config in scripts and packaging. Patch by Michael Shuler, reviewed by brandonwilliams for CASSANDRA-6530
  bin/cassandra
  bin/cassandra-cli
  bin/cassandra-shuffle
  bin/cassandra.bat
  bin/debug-cql
  bin/debug-cql.bat
  bin/json2sstable
  bin/json2sstable.bat
  bin/nodetool
  bin/nodetool.bat
  bin/sstable2json
  bin/sstable2json.bat
  bin/sstablekeys
  bin/sstablekeys.bat
  bin/sstableloader
  bin/sstableloader.bat
  bin/sstablescrub
  bin/sstablescrub.bat
  bin/sstablesplit
  bin/sstablesplit.bat
  bin/sstableupgrade
  bin/sstableupgrade.bat
  conf/README.txt
  conf/logback-tools.xml
  conf/logback.xml
  debian/cassandra.install
  test/conf/log4j-junit.properties
  test/pig/org/apache/cassandra/pig/PigTestBase.java
  test/resources/functions/install_cassandra.sh
  tools/bin/sstablelevelreset
  tools/bin/sstablemetadata"
CASSANDRA-6531,"* ecbf0fd6f9e2b0dd9c5f0c5439b677388d4caf9c fsync compression metadata patch by jbellis; reviewed by Pavel Yaskevich for CASSANDRA-6531
  CHANGES.txt
  src/java/org/apache/cassandra/io/compress/CompressionMetadata.java
  src/java/org/apache/cassandra/io/util/SequentialWriter.java"
CASSANDRA-6564,"* a16986374450c0e8c1bd1de8933042998a079f13 Don't check for expireTime is node isn't in REMOVED Patch by thobbs, reviewed by brandonwilliams for CASSANDRA-6564
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/service/LeaveAndBootstrapTest.java
* c612a364951c02d95ead41fb54048fa8fcb35265 Don't check for expireTime if node is not in REMOVED Patch by thobbs, reviewed by brandonwilliams for CASSANDRA-6564
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/service/LeaveAndBootstrapTest.java"
CASSANDRA-6567,"* 34058783f50b8c81096075b01d093e7aceec2b73 Avoid StackOverflow with large IN queries
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-657,"* 12efa878b8d7fd042c39f7c5578af0ca1120d3c7 move eofexception ST down to trace.  patch by jbellis for CASSANDRA-657
  src/java/org/apache/cassandra/net/IncomingTcpConnection.java"
CASSANDRA-6592,"* a8a12d9e0adee65bad19dcfd86e7b0cf6b1ed89a Fix IllegalArgumentException during statement preparation
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/BatchStatement.java
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-6598,"* b168f3e294e7db6abfbfda777a567acd76bfa863 getValidColumnFamilies adds 2I if requested and no ks/cf specified Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-6598
  src/java/org/apache/cassandra/service/StorageService.java
* 07f85b139ffb2e40a32f06eb0942b5b614699e07 getValidColumnFamilies adds 2I if requested and no ks/cf specified Patch by brandonwilliams, reviewed by jbellis for CASSANDRA-6598
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-6607,"* 09563ab2cc12bc5968b281080478885cb8f7f352 Fix preparing statement with batch and delete from collection
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/BatchStatement.java"
CASSANDRA-6622,"* 00a8b1e6ece0f89ae038589f36c7b9a9012fb7f7 Sleep for RING_DELAY before replacing with same IP Patch by brandonwilliams reviewed by Tyler Hobbs for CASSANDRA-6622
  CHANGES.txt
  src/java/org/apache/cassandra/service/StorageService.java
* cf6b4888242d9f4ce891d051b02e6f9eb529d300 Sleep for RING_DELAY before replacing with same IP Patch by brandonwilliams reviewed by Tyler Hobbs for CASSANDRA-6622
  CHANGES.txt
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-6629,"* d43f84bb219b51e9ac5edda04a6a9febf344d57c Fix ABSC reverse iterator's remove() method
  CHANGES.txt
  src/java/org/apache/cassandra/db/ArrayBackedSortedColumns.java
  test/unit/org/apache/cassandra/db/ArrayBackedSortedColumnsTest.java"
CASSANDRA-6646,"* 850cd59ca4f409a9c9a2dc0edd7bf02f52308a35 Add paranoid disk failure option.
  CHANGES.txt
  conf/cassandra.yaml
  src/java/org/apache/cassandra/config/Config.java
  src/java/org/apache/cassandra/io/util/FileUtils.java
  src/java/org/apache/cassandra/service/CassandraDaemon.java"
CASSANDRA-6671,"* 5fe0600744cba01d8e238746c0bd363f2059320c fix NPE patch by Benedict Elliott Smith; reviewed by jbellis for CASSANDRA-6671
  src/java/org/apache/cassandra/db/DataTracker.java
  src/java/org/apache/cassandra/utils/concurrent/WaitQueue.java"
CASSANDRA-669,"* 3998a4e600ef65a1f2ac92e37dd7b93567448616 fix bad rebase causing regression in the CASSANDRA-669 patchset (use index path to open index file).  patch by jbellis
  src/java/org/apache/cassandra/io/SSTableReader.java
* 2f3d2c0e4845faf62e33c191d152cb1b3fa62806 instead of providing a RandomAccessFile-like interface in FileDataInput implementing seek and trying to keep people from shooting themselves in the foot by forgetting that it may only represent a 2GB segment of a larger file, provide an InputStream-like interface emphasizing mark/reset patch by jbellis; tested by Brandon Williams for CASSANDRA-669
| src/java/org/apache/cassandra/db/CommitLog.java
| src/java/org/apache/cassandra/db/filter/SSTableNamesIterator.java
| src/java/org/apache/cassandra/db/filter/SSTableSliceIterator.java
| src/java/org/apache/cassandra/io/IndexHelper.java
| src/java/org/apache/cassandra/io/IteratingRow.java
| src/java/org/apache/cassandra/io/SSTableReader.java
| src/java/org/apache/cassandra/io/SSTableScanner.java
| src/java/org/apache/cassandra/io/util/BufferedRandomAccessFile.java
| src/java/org/apache/cassandra/io/util/FileDataInput.java
| src/java/org/apache/cassandra/io/util/MappedFileDataInput.java
* 33acfcd657bfdd844960de2d6c816a9be1e6f0aa add support for multiple mmapped index segments, and add mmap_index_only option patch by jbellis; tested by Brandon Williams for CASSANDRA-669
| conf/storage-conf.xml
| src/java/org/apache/cassandra/config/DatabaseDescriptor.java
| src/java/org/apache/cassandra/io/SSTableReader.java
* d6bdce610d2cdf7d319279c7f2b31f91faa4a4d7 store data information for any index entries spanning a mmap segment boundary when reading the index (with a BufferedRAF) so we don't have to deal with that at read time. patch by jbellis; tested by Brandon Williams for CASSANDRA-669
  src/java/org/apache/cassandra/db/DecoratedKey.java
  src/java/org/apache/cassandra/io/SSTable.java
  src/java/org/apache/cassandra/io/SSTableReader.java
  src/java/org/apache/cassandra/io/SSTableWriter.java
  test/unit/org/apache/cassandra/io/SSTableAccessor.java"
CASSANDRA-6705,"* e30f11143abfe3b03fe43aadf99a0804a62f3091 Fix assertion error in ALTER TYPE RENAME
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/AlterTableStatement.java
  src/java/org/apache/cassandra/cql3/statements/AlterTypeStatement.java
  src/java/org/apache/cassandra/db/composites/AbstractCellNameType.java
  src/java/org/apache/cassandra/db/composites/CellNameType.java
  src/java/org/apache/cassandra/db/composites/CompoundSparseCellNameType.java
  src/java/org/apache/cassandra/db/marshal/CollectionType.java
  src/java/org/apache/cassandra/db/marshal/ColumnToCollectionType.java"
CASSANDRA-6707,"* 8c6541715067a4ae9e3bb583c49d4b7ac0bb2fff Undo CASSANDRA-6707 from trunk
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/net/MessagingService.java
* 44cf4a66d157643297b7ab791a57f323432e28c5 Fix count(*) queries in a mixed cluster
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-6733,"* 0ff7f9969a3f3315eb2fb7e115d72d37dda05157 Fix IllegalArgumentException when upgrading from 1.2 with SC
  CHANGES.txt
  src/java/org/apache/cassandra/db/columniterator/IndexedSliceReader.java
  src/java/org/apache/cassandra/db/columniterator/SSTableNamesIterator.java"
CASSANDRA-6742,"* e69e526b9053e3d3634a005cc94a8954c2d7d41f Better solution for CASSANDRA-6742
  src/java/org/apache/cassandra/db/ArrayBackedSortedColumns.java
* 974a3cc1288f2bf530fd440585ef43ee82e84b3a CASSANDRA-6742 follow up
| src/java/org/apache/cassandra/db/ArrayBackedSortedColumns.java
* d5c3d2fa56e63c9ae5cd6d6a0cab06b5eb2b6b9f Fix AIOOBE when concurrently accessing ABSC
  CHANGES.txt
  src/java/org/apache/cassandra/db/ArrayBackedSortedColumns.java"
CASSANDRA-6751,"* 0a20f5f170b3596e6e74bba7daddebd4c1f5963a Add ability to set/get logging levels to nodetool patch by Jackson Chung reviewed by Vijay for CASSANDRA-6751
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/service/StorageServiceMBean.java
  src/java/org/apache/cassandra/tools/NodeCmd.java
  src/java/org/apache/cassandra/tools/NodeProbe.java
  src/resources/org/apache/cassandra/tools/NodeToolHelp.yaml"
CASSANDRA-6769,"* fd609339eebd13e2adc37969c8e0b439775a17af Fix NPE when using static columns and IN
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-6774,"* 17945ab0d0bd65d35f99e4577f5c516aa60423f1 Improve nodetool cleanup/scrub/upgradesstables failure handling.
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java
  src/java/org/apache/cassandra/db/compaction/SizeTieredCompactionStrategy.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/service/StorageServiceMBean.java
  src/java/org/apache/cassandra/tools/NodeProbe.java
  src/java/org/apache/cassandra/tools/NodeTool.java"
CASSANDRA-6777,"* ce94010b9bd8502a99664104592a857010c0e780 Update java-driver to 2.0 final for stress
  tools/lib/cassandra-driver-core-2.0.0-rc3-SNAPSHOT.jar
  tools/lib/cassandra-driver-core-2.0.0.jar
  tools/stress/src/org/apache/cassandra/stress/settings/StressSettings.java
  tools/stress/src/org/apache/cassandra/stress/util/SmartThriftClient.java"
CASSANDRA-6783,"* f4b9f16114947e708331899bdb15f8daf5100a3a Add proper compare function for CollectionType (for UDT sake)
  CHANGES.txt
  src/java/org/apache/cassandra/db/marshal/CollectionType.java
  src/java/org/apache/cassandra/db/marshal/ListType.java
  src/java/org/apache/cassandra/db/marshal/MapType.java
  src/java/org/apache/cassandra/db/marshal/SetType.java
  test/unit/org/apache/cassandra/db/marshal/CollectionTypeTest.java
* f1f8384a0c449e600b62280bbd601d6da08c3e74 Static columns with IF NOT EXISTS don't always work as expected
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java"
CASSANDRA-6791,"* 64098f7d6f0b122448693a3c6da16af54c99013b Fix resetAndTruncate:ing CompressionMetadata
  CHANGES.txt
  src/java/org/apache/cassandra/io/compress/CompressedSequentialWriter.java
  test/unit/org/apache/cassandra/io/compress/CompressedRandomAccessReaderTest.java
* 41d8a5f4861c37ff8e22344418e9277236672c1f Fix resetAndTruncate:ing CompressionMetadata
  CHANGES.txt
  src/java/org/apache/cassandra/io/compress/CompressedSequentialWriter.java
  test/unit/org/apache/cassandra/io/compress/CompressedRandomAccessReaderTest.java"
CASSANDRA-6797,"* ab2717b6f6475a5d925058338549d31bb2776e6e Avoid race-prone second ""scrub"" of system keyspace patch by Josh McKenzie; reviewed by jbellis for CASSANDRA-6797
  CHANGES.txt
  src/java/org/apache/cassandra/service/CassandraDaemon.java"
CASSANDRA-6803,"* 52cf09dbace356bafb846cb9f1fc9df71344f61f fix nodetool getsstables for blob PK patch by Nate McCall; reviewed by jbellis for CASSANDRA-6803
  CHANGES.txt
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java"
CASSANDRA-6813,"* f3be42fc1a81b01dca2aa2de331083810d8b35e5 Fix CAS conditions for COMPACT STORAGE tables
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/ColumnCondition.java
  src/java/org/apache/cassandra/cql3/statements/CQL3CasConditions.java"
CASSANDRA-6820,"* 535c56fb217c1a12d2fb9a217203c03d26642444 Fix NPE in MeteredFlusher patch by Nicolas Favre-Felix; reviewed by jbellis for CASSANDRA-6820
  CHANGES.txt
  src/java/org/apache/cassandra/db/MeteredFlusher.java
* 4347982974176bd20bfa69d72a72f895e1b05d25 Fix race processing range scan responses patch by jbellis; reviewed by mstepura and ayeschenko for CASSANDRA-6820
  CHANGES.txt
  src/java/org/apache/cassandra/service/ReadCallback.java
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-6831,"* 706afc300d9b298cb9456671a514cc9580b94ecc Fixup for CASSANDRA-6831 on 2.1
  interface/cassandra.thrift
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/ColumnDefinition.java
  test/unit/org/apache/cassandra/config/ColumnDefinitionTest.java
* 10527498a340feb7333b3c2b0252029fe6a840c7 Preserves CQL metadata when updating table from thrift
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java"
CASSANDRA-6837,"* 9527b17f1f1eaa572b036ce2c33300b36fc533e6 Properly use the paxos consistency for (non-protocol) batches
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/BatchStatement.java"
CASSANDRA-6840,"* c3aac45605416251f7bb9a3260299f1c4416cb89 Read message id as string from older nodes.
  CHANGES.txt
  src/java/org/apache/cassandra/db/RowMutationVerbHandler.java"
CASSANDRA-6841,"* 22b94537e0685262892a4ee1c4b8fadfb2338a42 Fix schema concurrency exceptions patch by Benedict Elliott Smith; reviewed by Carl Yeksigian for CASSANDRA-6841
  CHANGES.txt
  src/java/org/apache/cassandra/config/Schema.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogAllocator.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogSegment.java
  src/java/org/apache/cassandra/utils/ConcurrentBiMap.java
* bfd03f193938104cc86d59ccda137eece5cfd176 Fix schema concurrency exceptions patch by Benedict Elliott Smith; reviewed by Carl Yeksigian for CASSANDRA-6841
  CHANGES.txt
  src/java/org/apache/cassandra/config/Schema.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogAllocator.java
  src/java/org/apache/cassandra/db/commitlog/CommitLogSegment.java
  src/java/org/apache/cassandra/utils/ConcurrentBiMap.java"
CASSANDRA-6845,"* 05da045bbfe29bf472982d3c5da90050176202df fixed bug in CompactionManager.needsCleanup
  CHANGES.txt
  src/java/org/apache/cassandra/db/compaction/CompactionManager.java"
CASSANDRA-6848,"* df43d4e73d28bb2ad9c7377bdc2ab02cbcd80248 Fix stress smart Thrift client to pick servers correctly patch by Benedict Elliott Smith; reviewed by Pavel Yaskevich for CASSANDRA-6848
  CHANGES.txt
  tools/stress/src/org/apache/cassandra/stress/util/SmartThriftClient.java"
CASSANDRA-6875,"* 6574de53429e923121e1ee6df197bfa149208742 Fix bound building for multi-column IN restrictions
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  test/unit/org/apache/cassandra/cql3/MultiColumnRelationTest.java
* e0502ea298bd1c9c4c3d3d8785b5d4c0fe4ca71e Bump cqlsh default CQL version to 3.1.7
  bin/cqlsh
* 926f639a53fdd260bc789a3cd69a49186b7e7c76 Bump CQL version to 3.1.7, update CQL docs
| doc/cql3/CQL.textile
| src/java/org/apache/cassandra/cql3/QueryProcessor.java
* 43496384d404f2fa0af943003f2dc8fdfced4073 Support multi-row selects within a partition using IN
  CHANGES.txt
  src/java/org/apache/cassandra/cql/SelectStatement.java
  src/java/org/apache/cassandra/cql3/AbstractMarker.java
  src/java/org/apache/cassandra/cql3/CQLStatement.java
  src/java/org/apache/cassandra/cql3/Constants.java
  src/java/org/apache/cassandra/cql3/Cql.g
  src/java/org/apache/cassandra/cql3/Lists.java
  src/java/org/apache/cassandra/cql3/MultiColumnRelation.java
  src/java/org/apache/cassandra/cql3/QueryProcessor.java
  src/java/org/apache/cassandra/cql3/Relation.java
  src/java/org/apache/cassandra/cql3/ResultSet.java
  src/java/org/apache/cassandra/cql3/SingleColumnRelation.java
  src/java/org/apache/cassandra/cql3/Term.java
  src/java/org/apache/cassandra/cql3/Tuples.java
  src/java/org/apache/cassandra/cql3/statements/AuthenticationStatement.java
  src/java/org/apache/cassandra/cql3/statements/AuthorizationStatement.java
  src/java/org/apache/cassandra/cql3/statements/BatchStatement.java
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java
  src/java/org/apache/cassandra/cql3/statements/MultiColumnRestriction.java
  src/java/org/apache/cassandra/cql3/statements/Restriction.java
  src/java/org/apache/cassandra/cql3/statements/SchemaAlteringStatement.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  src/java/org/apache/cassandra/cql3/statements/SingleColumnRestriction.java
  src/java/org/apache/cassandra/cql3/statements/TruncateStatement.java
  src/java/org/apache/cassandra/cql3/statements/UseStatement.java
  src/java/org/apache/cassandra/db/marshal/TupleType.java
  test/unit/org/apache/cassandra/cql3/MultiColumnRelationTest.java"
CASSANDRA-6883,"* 53e22120d0e10d97e372879d48598c19d190951e Fix off-by-one error in stress
  CHANGES.txt
  tools/stress/src/org/apache/cassandra/stress/settings/OptionDistribution.java
* d21c0c932c7d962feb958159578cf2cfb471a648 Compare scores of full replica ordering in DES. Patch by Tyler Hobbs, reviewed by brandonwilliams for CASSANDRA-6883
  CHANGES.txt
  src/java/org/apache/cassandra/locator/DynamicEndpointSnitch.java
  test/unit/org/apache/cassandra/locator/DynamicEndpointSnitchTest.java"
CASSANDRA-689,"* ca4a07e4f0cc7a7e240860b8dd47d7a2082cd995 fix missing update of local deletion time introduced in #658. patch by jbellis; reviewed by goffinet for CASSANDRA-689
| src/java/org/apache/cassandra/db/ColumnFamily.java
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/SuperColumn.java
| src/java/org/apache/cassandra/db/marshal/AbstractType.java
* 0e276b5ab0eacfdd4c96d101cf76a0ae7dde4113 add missing gcBefore parameter to removeDeleted; clone SC from cache before modifying patch by jbellis; reviewed by goffinet for CASSANDRA-689
| src/java/org/apache/cassandra/db/ColumnFamilyStore.java
| src/java/org/apache/cassandra/db/Table.java
| test/system/test_server.py
* 70e1ee304c8b92c50e014944cf5955b438352c24 fix enabling/disabling row cache. patch by jbellis; reviewed by goffinet for CASSANDRA-689
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java
  src/java/org/apache/cassandra/db/ColumnFamilyStore.java
  test/conf/storage-conf.xml"
CASSANDRA-6892,"* b42feea6432905946083e0e287b3545a5799e4a7 Fix Cassandra 2.0.x validates Thrift columns incorrectly
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/ColumnDefinition.java
  src/java/org/apache/cassandra/config/Schema.java
  src/java/org/apache/cassandra/cql/QueryProcessor.java
  src/java/org/apache/cassandra/cql/SelectStatement.java
  src/java/org/apache/cassandra/cql/UpdateStatement.java
  src/java/org/apache/cassandra/db/Column.java
  src/java/org/apache/cassandra/thrift/ThriftValidation.java
  src/java/org/apache/cassandra/tools/SSTableExport.java
  src/java/org/apache/cassandra/tools/SSTableImport.java
  test/unit/org/apache/cassandra/SchemaLoader.java
  test/unit/org/apache/cassandra/db/ScrubTest.java
  test/unit/org/apache/cassandra/thrift/ThriftValidationTest.java
  test/unit/org/apache/cassandra/tools/SSTableExportTest.java"
CASSANDRA-6924,"* b69f5e363b75543429a25b0909b45dff735c64b2 Clean up IndexInfo on keyspace/table drops
  CHANGES.txt
  src/java/org/apache/cassandra/config/CFMetaData.java
  src/java/org/apache/cassandra/config/KSMetaData.java"
CASSANDRA-6943,"* e6e596d1a86272b70d759aad18f561e84e2854be Fix BTree.clear for large updates patch by Benedict Elliott Smith; reviewed by jbellis for CASSANDRA-6943
  CHANGES.txt
  src/java/org/apache/cassandra/utils/btree/BTree.java
  src/java/org/apache/cassandra/utils/btree/NodeBuilder.java
  test/long/org/apache/cassandra/utils/LongBTreeTest.java
  test/unit/org/apache/cassandra/utils/BTreeTest.java"
CASSANDRA-6948,"* 2dd09071be9d149a40c713ed5244ebb9b5df9e7e Don't shut MessagingService down.
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/service/StorageService.java
* d4ec31f21eb83502bd523c057bce2d3b249b3d80 Don't shut ExpiringMap down.
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/utils/ExpiringMap.java
  test/unit/org/apache/cassandra/service/RemoveTest.java"
CASSANDRA-6959,"* 7da562053fe729adb41061e52bfda17837f77d62 Fix marking commitlog segments clean patch by bes; reviewed by jbellis for CASSANDRA-6959
  CHANGES.txt
  src/java/org/apache/cassandra/db/commitlog/CommitLogSegment.java
* 75c185199d403dbd6d1220a4f4dcd1553c98c15f mark dropped CFs clean in commitlog patch by Benedict Elliott Smith; reviewed by jbellis for CASSANDRA-6959
  src/java/org/apache/cassandra/db/DefsTables.java
  src/java/org/apache/cassandra/db/commitlog/CommitLog.java"
CASSANDRA-6966,"* e1a90936c709d0da1a601ef418d9b97a14ff5bb2 Fix error with super columns in mixed 1.2-2.0 cluster
  CHANGES.txt
  src/java/org/apache/cassandra/db/SuperColumns.java"
CASSANDRA-6971,"* 1755f65a647da1816e2bd8229ba656a26cfcff1d Schedule schema pull in onChange.
  CHANGES.txt
  src/java/org/apache/cassandra/service/MigrationManager.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-6984,"* c6ec5d5b2b1cecf6189bf469959bd9b014c54513 Fix NPE caused by CASSANDRA-6818
  src/java/org/apache/cassandra/streaming/ConnectionHandler.java
  src/java/org/apache/cassandra/streaming/StreamSession.java"
CASSANDRA-6998,"* 98bcf40226db7c8dbafa6eacee9ce5ef3feaeb1b Fix hint replay with many accumulated expired hints
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java
  src/java/org/apache/cassandra/service/StorageService.java
  test/unit/org/apache/cassandra/db/HintedHandOffTest.java"
CASSANDRA-7007,"* b1a307047768980b5fdfcb0cffef5acea6924362 Fix concurrency issue for CASSANDRA-6818
  src/java/org/apache/cassandra/streaming/StreamTransferTask.java"
CASSANDRA-7016,"* 493859bf617ac80f560d02ad6d471aefd6a0ef91 Allow mixing token and partition key restrictions
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/TokenRelation.java
  src/java/org/apache/cassandra/cql3/restrictions/AbstractPrimaryKeyRestrictions.java
  src/java/org/apache/cassandra/cql3/restrictions/MultiColumnRestriction.java
  src/java/org/apache/cassandra/cql3/restrictions/SingleColumnPrimaryKeyRestrictions.java
  src/java/org/apache/cassandra/cql3/restrictions/StatementRestrictions.java
  src/java/org/apache/cassandra/cql3/restrictions/TokenFilter.java
  src/java/org/apache/cassandra/cql3/restrictions/TokenRestriction.java
  test/unit/org/apache/cassandra/cql3/SelectWithTokenFunctionTest.java"
CASSANDRA-7025,"* fe94e90f4bd9274a0f0ab10616de2215da8d6b17 Shutdown batchlog executor in SS#drain()
  CHANGES.txt
  src/java/org/apache/cassandra/db/BatchlogManager.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-7027,"* 7f63b1f958f0f502f04d24f8d820d29bd484786d Backport MultiSliceRequest
  CHANGES.txt
  interface/cassandra.thrift
  interface/thrift/gen-java/org/apache/cassandra/thrift/Cassandra.java
  interface/thrift/gen-java/org/apache/cassandra/thrift/CfDef.java
  interface/thrift/gen-java/org/apache/cassandra/thrift/ColumnSlice.java
  interface/thrift/gen-java/org/apache/cassandra/thrift/CqlRow.java
  interface/thrift/gen-java/org/apache/cassandra/thrift/MultiSliceRequest.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java
  test/unit/org/apache/cassandra/thrift/MultiSliceTest.java"
CASSANDRA-7033,"* a16adba9b89661f95d167d056d128ed388c4e7a7 fix cassandra stress errors on reads with native protocol
  CHANGES.txt
  tools/stress/src/org/apache/cassandra/stress/operations/CqlIndexedRangeSlicer.java
  tools/stress/src/org/apache/cassandra/stress/operations/CqlOperation.java
  tools/stress/src/org/apache/cassandra/stress/operations/CqlReader.java
* 5bbc54fe70b95611f8397c36dcd07fa3605627a1 merged cassandra-2.1 to trunk (for CASSANDRA-7033)
  CHANGES.txt
  tools/stress/src/org/apache/cassandra/stress/operations/CqlIndexedRangeSlicer.java
  tools/stress/src/org/apache/cassandra/stress/operations/CqlOperation.java
  tools/stress/src/org/apache/cassandra/stress/operations/CqlReader.java"
CASSANDRA-7059,"* 79a4dd58cd060cc28f32e0fc17001fe1179552a2 Refuse range queries with strict bounds on compact tables
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/SingleColumnRelation.java
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-7064,"* 02d1e7497a9930120fac367ce82a3b22940acafb Default flush dir to data dir. Patch by brandonwilliams, reviewed by yukim for CASSANDRA-7064
  conf/cassandra.yaml"
CASSANDRA-7088,"* d6f32e4fc08031d4235a9209c745600bf070907b Fix potential NumberFormatException when deserializing IntegerType
  CHANGES.txt
  src/java/org/apache/cassandra/db/marshal/AbstractType.java
  src/java/org/apache/cassandra/serializers/InetAddressSerializer.java
  src/java/org/apache/cassandra/serializers/IntegerSerializer.java
  src/java/org/apache/cassandra/serializers/LongSerializer.java
  src/java/org/apache/cassandra/serializers/TimestampSerializer.java
  src/java/org/apache/cassandra/serializers/UUIDSerializer.java"
CASSANDRA-7093,"* 786396eaf031a1ffa11a2aa247edfcf7bc457936 Quote ks/cf names better.
| src/java/org/apache/cassandra/hadoop/cql3/CqlRecordReader.java
* 0356ee76e4c0b4b863625c5517ae8a4f883766dc Fix ConfigHelper.setInputColumnFamily with uppercased keyspace names.
  src/java/org/apache/cassandra/hadoop/cql3/CqlConfigHelper.java
  src/java/org/apache/cassandra/hadoop/cql3/CqlRecordReader.java"
CASSANDRA-7105,"* 7bbeb5aa2d1064281589b98306f950550bd47e60 Fix bug with some IN queries missing results
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-7112,"* 3aa41fbce807d07e3952cbc78beec7cbc2d743e7 Fix ClassCastException on composite dense tables
  CHANGES.txt
  src/java/org/apache/cassandra/db/composites/CompoundDenseCellNameType.java"
CASSANDRA-7144,"* 12a7a7ebfcdbcbde0fea244c3b9ab95cd7cf68e5 CASSANDRA-7144 follow-up
| src/java/org/apache/cassandra/service/StorageProxy.java
* 1dc157afe7da3dce57f7657e445ba12f16073d49 Fix handling of empty counter replication mutations
  CHANGES.txt
  src/java/org/apache/cassandra/db/CounterMutation.java
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-7145,"* 8bef2609abf32e9524c3aa6c89e5f2d5b381efb6 Don't allow marking already compacted sstables as compacting.
  CHANGES.txt
  src/java/org/apache/cassandra/db/DataTracker.java
  src/java/org/apache/cassandra/db/compaction/LeveledManifest.java
  src/java/org/apache/cassandra/io/sstable/SSTableReader.java"
CASSANDRA-717,"* b22c91127fc5c345e72c77e7f07c425c60bcd5e6 Use EnumMap for verbHandlers.  patch by Folke Behrens; reviewed by jbellis for CASSANDRA-717
  src/java/org/apache/cassandra/net/MessagingService.java
* ca72d17210dd954c1c74f89873fdb47ca719da00 convert verbs to enums patch by jbellis; reviewed by Stu Hood for CASSANDRA-717
| src/java/org/apache/cassandra/db/RangeSliceCommand.java
| src/java/org/apache/cassandra/db/ReadCommand.java
| src/java/org/apache/cassandra/db/RowMutation.java
| src/java/org/apache/cassandra/db/RowMutationMessage.java
| src/java/org/apache/cassandra/dht/BootStrapper.java
| src/java/org/apache/cassandra/dht/StreamInitiateMessage.java
| src/java/org/apache/cassandra/gms/Gossiper.java
| src/java/org/apache/cassandra/io/StreamRequestMessage.java
| src/java/org/apache/cassandra/io/Streaming.java
| src/java/org/apache/cassandra/net/Header.java
| src/java/org/apache/cassandra/net/Message.java
| src/java/org/apache/cassandra/net/MessageDeliveryTask.java
| src/java/org/apache/cassandra/net/MessagingService.java
| src/java/org/apache/cassandra/net/io/StreamContextManager.java
| src/java/org/apache/cassandra/service/AntiEntropyService.java
| src/java/org/apache/cassandra/service/ReadRepairManager.java
| src/java/org/apache/cassandra/service/StorageLoadBalancer.java
| src/java/org/apache/cassandra/service/StorageService.java
* 944a2a1338a3c027d2ec9bae6da95a112f694db3 mv tree and gossip verb registration into StorageService patch by jbellis; reviewed by Stu Hood for CASSANDRA-717
  src/java/org/apache/cassandra/db/ReadResponse.java
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/net/Message.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/net/ResponseVerbHandler.java
  src/java/org/apache/cassandra/service/AntiEntropyService.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-7177,"* 05bacaeabc96a6d85fbf908dce8474acffcab730 Starting threads in the OutboundTcpConnectionPool constructor causes race conditions
  CHANGES.txt
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/net/OutboundTcpConnectionPool.java"
CASSANDRA-7188,"* b7adf9810aa07a9b9eb2a58d9c53d298696b0403 Fix counters in supercolumns during live upgrades from 1.2
  CHANGES.txt
  src/java/org/apache/cassandra/db/CounterUpdateColumn.java"
CASSANDRA-7200,"* 8fd8832a8723ef5e663834def078ea0afc7ff8d6 Fix word count
  examples/hadoop_cql3_word_count/README.txt
  examples/hadoop_cql3_word_count/conf/log4j.properties
  examples/hadoop_cql3_word_count/src/WordCountSetup.java
  examples/hadoop_word_count/README.txt
  examples/hadoop_word_count/conf/log4j.properties
  examples/hadoop_word_count/src/WordCount.java
  examples/hadoop_word_count/src/WordCountCounters.java
  examples/hadoop_word_count/src/WordCountSetup.java
* 337e4a8292d29ea1a07c932d8853ca62939548ed Fix word count
  examples/hadoop_cql3_word_count/README.txt
  examples/hadoop_cql3_word_count/conf/log4j.properties
  examples/hadoop_cql3_word_count/src/WordCountSetup.java
  examples/hadoop_word_count/README.txt
  examples/hadoop_word_count/conf/log4j.properties
  examples/hadoop_word_count/src/WordCountSetup.java"
CASSANDRA-7201,"* e06d74ef534770ff0f5d4c1b95234bb321fc1a68 fix native cell ByteOrder patch by bes; reviewed by jbellis and tested by mshuler for CASSANDRA-7201
  src/java/org/apache/cassandra/db/AbstractNativeCell.java
  src/java/org/apache/cassandra/db/NativeCounterCell.java
* 50c18fd4038bdd2f52ec6769db0aaa65dd1deda6 Fix ColumnFamilyStoreTest, NativeCellTest, SSTableMetadataTest unit tests on 2.1
  src/java/org/apache/cassandra/db/NativeCounterCell.java"
CASSANDRA-7219,"* 2f497eda0f121fce68256e18748d04bd7cbfe032 Hint streaming can cause decommission to fail
  CHANGES.txt
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-7239,"* 6c3a3e130130e2823ba71ecd8a0e2680de23efd5 Track added size correctly
  CHANGES.txt
  src/java/org/apache/cassandra/db/DataTracker.java
* de62175f27e3c06951dbf073c6092e7f15f216ca Track added sstable size correctly
  CHANGES.txt
  src/java/org/apache/cassandra/db/DataTracker.java"
CASSANDRA-7241,"* bb1deac0b9073ca3ee590731fbbf505867a890d1 Revert 5417 changes to hadoop Patch by slebresne, reviewed by brandonwilliams for CASSANDRA-7241
  src/java/org/apache/cassandra/hadoop/ColumnFamilyInputFormat.java
  src/java/org/apache/cassandra/hadoop/ColumnFamilyRecordReader.java
  src/java/org/apache/cassandra/hadoop/pig/AbstractCassandraStorage.java"
CASSANDRA-7245,"* 4722fe70aa9ae1b62772cfa1a1de58ef289445d5 RefCount native frames from netty to avoid corruption bugs
  CHANGES.txt
  build.xml
  lib/netty-all-4.0.19.Final.jar
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java
  src/java/org/apache/cassandra/db/CounterMutation.java
  src/java/org/apache/cassandra/db/IMutation.java
  src/java/org/apache/cassandra/db/Mutation.java
  src/java/org/apache/cassandra/net/MessagingService.java
  src/java/org/apache/cassandra/net/ResponseVerbHandler.java
  src/java/org/apache/cassandra/service/QueryState.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/transport/CBUtil.java
  src/java/org/apache/cassandra/transport/Frame.java
  src/java/org/apache/cassandra/transport/FrameCompressor.java
  src/java/org/apache/cassandra/transport/Message.java
  src/java/org/apache/cassandra/utils/ExpiringMap.java
* 969a92804d5d56734c121c2a473752750266f409 Ninja fix for CASSANDRA-7245
  src/java/org/apache/cassandra/transport/CBUtil.java"
CASSANDRA-7256,"* 0393c306331e6b46182b0693ff192be13d20698e Fix merging schemas with re-dropped keyspaces
  CHANGES.txt
  src/java/org/apache/cassandra/db/DefsTables.java"
CASSANDRA-7262,"* 709b9fc319f669ee07338a842f36a9d77e8c46a1 Make StreamSession#closeSession() idempotent
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/StreamSession.java"
CASSANDRA-7278,"* 900f29c7f7e1d563c4b0c63eae0da8877766813f Fix race in FileCacheService RemovalListener patch by Sankalp Kohli; reviewed by jbellis for CASSANDRA-7278
  CHANGES.txt
  src/java/org/apache/cassandra/service/FileCacheService.java"
CASSANDRA-7287,"* dfcb73426c9e87b0e4c263d0739d6856c3119c05 Fix IllegalArgumentException in CqlStorage
  CHANGES.txt
  src/java/org/apache/cassandra/hadoop/pig/AbstractCassandraStorage.java"
CASSANDRA-7292,"* 54140bfde562361562489879f720e78e0ea0eac7 Don't initiate snitch reconnection for dead states
  CHANGES.txt
  src/java/org/apache/cassandra/locator/ReconnectableSnitchHelper.java
* a925262395f1e735ada0ba35c8e41042be1807fb Don't initiate snitch reconnection for dead states
  CHANGES.txt
  src/java/org/apache/cassandra/locator/ReconnectableSnitchHelper.java"
CASSANDRA-7317,"* f0ebdeb2999b99dac23c5576d2093557424820cd forgot to add CASSANDRA-7317 to CHANGES
| CHANGES.txt
* 434b5d683ec7520acf1a5a2d421ee5aba2ede0e8 Improve validation of sub range repair
  src/java/org/apache/cassandra/service/ActiveRepairService.java
  src/java/org/apache/cassandra/service/StorageService.java
  src/java/org/apache/cassandra/tools/NodeCmd.java"
CASSANDRA-7330,"* 58bb974a330ab71d2ee34cace565f489e26629c7 Fix infinite loop on exception while streaming
  CHANGES.txt
  src/java/org/apache/cassandra/streaming/StreamReader.java"
CASSANDRA-7354,"* 2b002b469220db0c6d44c4d0f5c2773fdd4feedf Fix CASSANDRA-7354 CHANGES.txt entry
| CHANGES.txt
* 1e49abaf9cbc0833146f30c32ab574cd892aa0a4 Fix rare potential NPE in HHOM page size calculation
  CHANGES.txt
  src/java/org/apache/cassandra/db/HintedHandOffManager.java"
CASSANDRA-7364,"* afa304e3385b299cf53e949a9533bc08ead4c1de Fix assertion error in CL.ANY timeout handling
  CHANGES.txt
  src/java/org/apache/cassandra/service/StorageProxy.java"
CASSANDRA-7365,"* 61b13b0e6a8396e77f37f5c86b33fbaf9e4546c3 Avoid incremental compaction on Windows patch by Josh McKenzie; reviewed by jbellis for CASSANDRA-7365
  CHANGES.txt
  src/java/org/apache/cassandra/io/sstable/SSTableRewriter.java"
CASSANDRA-7371,"* a14a01c924e4db8e084ba313149d35149dc53825 Fix memtable copy bug causing rangetombstones to be missed
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/BatchStatement.java
  src/java/org/apache/cassandra/db/AtomicBTreeColumns.java
  src/java/org/apache/cassandra/db/DeletionInfo.java
  src/java/org/apache/cassandra/db/RangeTombstoneList.java
  test/conf/cassandra.yaml
  test/unit/org/apache/cassandra/cql3/DeleteTest.java"
CASSANDRA-7372,"* 68c92652aec5934c5050520f060c07a91057c3c0 Handle SliceQueryFilter with empty bounds in CompositesSearcher
  CHANGES.txt
  src/java/org/apache/cassandra/db/index/composites/CompositesSearcher.java
  test/unit/org/apache/cassandra/cql3/ContainsRelationTest.java"
CASSANDRA-7373,"* cccdcb5da9f31b20b7b29a8183434f447f7dd523 Handle possible integer overflow in FastByteArrayOutputStream.
  CHANGES.txt
  src/java/org/apache/cassandra/io/util/FastByteArrayOutputStream.java"
CASSANDRA-7398,"* 756c85e86fc9e2de492c23c3e6c10e4b4511293a Better messaging on URI failure on cassandra.config Patch by Josh McKenzie; review by Lyuben Todorov for CASSANDRA-7398
  src/java/org/apache/cassandra/config/YamlConfigurationLoader.java
* 498ee24b52a6876a008c3d3d3ef4870e4bd9842c add file:/// on Windows to -Dcassandra.config value patch by Marco Tulio Avila Cern; reviewed by Lyuben Todorov for CASSANDRA-7398
  src/java/org/apache/cassandra/config/YamlConfigurationLoader.java"
CASSANDRA-7430,"* 74e7f28f7f01adfe8b5cbd493231b0d64d210af8 fix generate-eclipse-files build.xml target on JDK 8
  build.xml"
CASSANDRA-7440,"* e32423159d9b31131cc95bccfcfa6b5dabbc070a Properly handle unrecognized opcodes and flags
  CHANGES.txt
  src/java/org/apache/cassandra/transport/Frame.java
  src/java/org/apache/cassandra/transport/Message.java"
CASSANDRA-7454,"* 3d0e54e14ba04420277964186614fc8dc57ccfb0 Ninja: fix CASSANDRA-7454 placement in CHANGES.txt
  CHANGES.txt
* 9c1782d39702b8bf8b8380faedc75048ef8bd9b7 Backport CASSANDRA-7454 to 2.1.0
  CHANGES.txt
  src/java/org/apache/cassandra/transport/messages/ExecuteMessage.java
* 12c694edb6910e11bae25231ba1517a8599cd6ff Fix NPE when unknown prepared statement ID is used
  CHANGES.txt
  src/java/org/apache/cassandra/transport/messages/ExecuteMessage.java"
CASSANDRA-7455,"* a9c71e4a2049070247535f5870253148619b14e8 Fix Assertion errors when using empty clustering with static columns
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/ColumnGroupMap.java"
CASSANDRA-7465,"* 4c9afde7a8fdf85932d3a86b8c0ee6f1549d6e25 Clone partition key for ReadCommands to avoid netty corruption
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-7470,"* 0d90b03a30247ae8a1cf2977467de1972b36f9dd Set stream ID on response for non-Exception Throwables
  CHANGES.txt
  src/java/org/apache/cassandra/transport/Message.java"
CASSANDRA-7477,"* 8137fce529fe56db571d288e1e179aff905368de Handle CQL row marker in SSTableImport
  CHANGES.txt
  src/java/org/apache/cassandra/tools/SSTableImport.java
  test/resources/CQLTable.json
  test/unit/org/apache/cassandra/tools/SSTableImportTest.java"
CASSANDRA-7490,"* 6893130e899f1c9968e49eb58bf8d81212fc3157 Fix error when doing reverse queries with static columns
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  test/unit/org/apache/cassandra/cql3/SliceQueryFilterWithStaticColumnsPresentTest.java"
CASSANDRA-7496,"* 48ff36a457597a21ab0ad9ba55d849006d3bff1f Fix ClassCastException processing expired messages patch by Jason Brown; reviewed by tjake for CASSANDRA-7496
  CHANGES.txt
  conf/README.txt
  src/java/org/apache/cassandra/net/MessagingService.java"
CASSANDRA-7499,"* 5db108c314fa5064669eefef8e5f6a52a1500b96 Support list index operation with conditions
  CHANGES.txt
  build.xml
  src/java/org/apache/cassandra/cql3/statements/BatchStatement.java
  src/java/org/apache/cassandra/cql3/statements/CQL3CasRequest.java
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java
  src/java/org/apache/cassandra/service/CASRequest.java
  src/java/org/apache/cassandra/service/StorageProxy.java
  src/java/org/apache/cassandra/thrift/CassandraServer.java
* 700e81634de3dde2d9c43bdb78716a7bb994c2ae Properly reject operations on list index
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/BatchStatement.java
  src/java/org/apache/cassandra/cql3/statements/ModificationStatement.java"
CASSANDRA-7502,"* 0c6fad4a8a8d30198283f36f35077d52e8122cee Fix error when CONTAINS is used with a bind marker
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java
  test/unit/org/apache/cassandra/cql3/CQLTester.java
  test/unit/org/apache/cassandra/cql3/ContainsRelationTest.java"
CASSANDRA-7506,"* 296903bd3c75cf35a4e0ec8cfc1a02e805c87f2f Throw IRE for relations on entire collections
  CHANGES.txt
  src/java/org/apache/cassandra/cql3/statements/SelectStatement.java"
CASSANDRA-7508,"* 74f3204c664df5de8e83adef978647bb4dd1a895 Don't depend on cassandra config for nodetool ring
  CHANGES.txt
  src/java/org/apache/cassandra/tools/NodeCmd.java
* 721afaead6bdf02107a88f650edf1be5b1127268 Fix configuration error when running nodetool ring
  CHANGES.txt
  src/java/org/apache/cassandra/tools/NodeTool.java"
CASSANDRA-757,"* 45d8fc50cfdd35a9c1087d0ad2f9268a0d243536 Replace synchronization in Gossiper with concurrent data structures and volatile fields.  Also removes getSortedApplicationStates since nothing actually seems to rely on iterating in sorted order.  Patch by Brandon Williams and jbellis for CASSANDRA-757
  src/java/org/apache/cassandra/gms/EndpointState.java
  src/java/org/apache/cassandra/gms/Gossiper.java
  src/java/org/apache/cassandra/service/StorageService.java"
CASSANDRA-935,"* 9f65dd42188698fe6862d42aa1540e496716089a better error handling for authenticators
  src/java/org/apache/cassandra/auth/AllowAllAuthenticator.java
  src/java/org/apache/cassandra/auth/IAuthenticator.java
  src/java/org/apache/cassandra/auth/SimpleAuthenticator.java
  src/java/org/apache/cassandra/config/DatabaseDescriptor.java"
CASSANDRA-995,"* d60e62903108f00410ca21147bce6e1b145e1dca Use RackUnawareStrategy in unit tests because it doesn't conflict with SimpleEndpointSnitch. Patch by Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-995
| test/unit/org/apache/cassandra/config/DatabaseDescriptorTest.java
| test/unit/org/apache/cassandra/db/DefsTest.java
| test_conf.iml
* cae2664c30c64622a9fdd38b5c1b9170ac681a16 include all keyspaces when creating the schema migration. Patch by Gary Dusbabek, reviewed by Jonathan Ellis. CASSANDRA-995
  src/java/org/apache/cassandra/db/migration/Migration.java
  test/unit/org/apache/cassandra/config/DatabaseDescriptorTest.java"
